"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1504],{58898:function(e,t,a){var n=a(18745),r=a(86501);t.Z=()=>{let e=(0,n.Z)();return{success:(t,a)=>r.ZP.success(t,{style:{paddingInline:"10px",paddingBlock:"6px",color:e.palette.success.main,border:"1px solid ".concat(e.palette.success.main)},iconTheme:{primary:e.palette.success.main,secondary:e.palette.success.contrastText},...a}),error:(t,a)=>r.ZP.error(t,{style:{paddingInline:"10px",paddingBlock:"6px",color:e.palette.error.main,border:"1px solid ".concat(e.palette.error.main)},iconTheme:{primary:e.palette.error.main,secondary:e.palette.getContrastText(e.palette.error.main)},...a}),info:(t,a)=>(0,r.ZP)(t,{style:{padding:"16px",color:e.palette.info.main,border:"1px solid ".concat(e.palette.info.main)},iconTheme:{primary:e.palette.info.main,secondary:e.palette.getContrastText(e.palette.info.main)},...a})}}},82071:function(e,t,a){a.d(t,{x:function(){return n}});let n=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:t=>{let{from:a,to:n,count:r}=t;return"".concat(a,"â€“").concat(n," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==r?r:">".concat(n))}}})},74538:function(e,t){let a=e=>Array.isArray(e)?e[0]:null==e?"":String(e);t.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(a(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(a(e),"/"),region:"/region/",regionById:e=>"/region/".concat(a(e),"/"),countryById:e=>"/country/".concat(a(e),"/"),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(a(e)),industries:"/industry",industryById:e=>"/industry/".concat(a(e)),industryFields:"/industry/fields",users:"/user",userById:e=>"/user/".concat(a(e)),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(a(e)),services:"/service",serviceById:e=>"/service/".concat(a(e)),partners:"/partner",partnerById:e=>"/partner/".concat(a(e)),company:"/company/",companyById:e=>"/company/".concat(a(e)),replyLetter:"/reply-letter/",replyLetterById:e=>"/reply-letter/".concat(a(e)),replyLetterFile:"/reply-letter-file/",replyLetterFileById:e=>"/reply-letter-file/".concat(a(e)),documents:"/documents/",documentById:e=>"/documents/".concat(a(e)),documentForm:"/document-form/",documentFormById:e=>"/document-form/".concat(a(e)),listOfMagazine:"/list-of-magazine/",listOfMagazineById:e=>"/list-of-magazine/".concat(a(e)),task:"/task/",taskById:e=>"/task/".concat(a(e)),taskPart:"/task-part/",taskPartById:e=>"/task-part/".concat(a(e)),taskEvent:"/task-event/",taskEventById:e=>"/task-event/".concat(a(e)),taskComment:"/task-comment/",taskCommentById:e=>"/task-comment/".concat(a(e)),taskAttachment:"/task-attachment/",taskAttachmentById:e=>"/task-attachment/".concat(a(e)),department:"/department/",departmentById:e=>"/department/".concat(a(e)),position:"/position/",positionById:e=>"/position/".concat(a(e)),projects:"/project",projectById:e=>"/project/".concat(a(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(a(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(a(e)),stats:"/stats",statById:e=>"/stats/".concat(a(e)),faqs:"/faq",faqById:e=>"/faq/".concat(a(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(a(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(a(e)),news:"/news-post",newsById:e=>"/news-post/".concat(a(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(a(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(a(e)),applicationApprovedByID:e=>"/application-approved/".concat(a(e)),limitData:"/limit-data"}},33251:function(e,t,a){a.d(t,{z:function(){return o}});var n=a(30202),r=a(33934),i=a(52293);let o=function(e){var t,a;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,n.NL)(),c=["list",e,o],l=Object.fromEntries(Object.entries(o).filter(e=>{let[,t]=e;return void 0!==t})),{data:d,isLoading:m,error:p}=(0,r.a)({queryKey:c,queryFn:async()=>{var t,a,n;let r=(await i.Do.get(e,l)).data,o=Array.isArray(r)?r:null!==(a=null==r?void 0:r.results)&&void 0!==a?a:[],s=Array.isArray(r)?o.length:null!==(n=null==r?void 0:null===(t=r.pagination)||void 0===t?void 0:t.total)&&void 0!==n?n:o.length;return{items:o,total:s}},staleTime:3e4});return{data:null!==(t=null==d?void 0:d.items)&&void 0!==t?t:[],total:null!==(a=null==d?void 0:d.total)&&void 0!==a?a:0,loading:m,error:p,mutate:()=>{s.invalidateQueries({queryKey:c})}}}},31504:function(e,t,a){var n=a(85893),r=a(67294),i=a(81873),o=a(84166),s=a(21038),c=a(52857),l=a(60762),d=a(71919),m=a(51015),p=a(33453),u=a(92365),y=a(40110),g=a(96788),h=a(68573),x=a(81359),f=a(90642),v=a(96727),k=a(28634),j=a(11163),b=a(75673),Z=a(33251),w=a(74538),I=a(41664),B=a.n(I),S=a(22120),C=a(52293),P=a(58898),q=a(34273),z=a(82071);let N=e=>{switch(e){case"new":return"info";case"in_progress":return"primary";case"on_review":case"returned":return"warning";case"done":return"success";case"cancelled":return"error";case"archive":return"secondary";default:return"default"}};t.Z=e=>{var t;let{status:a}=e,I=(0,j.useRouter)(),{t:_}=(0,S.$G)(),[W,A]=(0,r.useState)({page:0,pageSize:10}),F=(0,P.Z)(),{user:R}=(0,q.a)(),[T,D]=(0,r.useState)(!1),[L,M]=(0,r.useState)("task"),[E,O]=(0,r.useState)(!1),{data:H=[],total:V,loading:G}=(0,Z.z)(w.Z.task,{page:W.page+1,limit:W.pageSize,status:a}),Q=[{field:"id",headerName:String(_("common.id")),width:90},{field:"name",headerName:String(_("documents.table.name")),flex:.3,minWidth:180},{field:"status",headerName:String(_("documents.table.status")),flex:.2,minWidth:140,renderCell:e=>{let t=e.row.status;return(0,n.jsx)(i.Z,{label:_("documents.status.".concat(t)),color:N(t),size:"small",variant:"outlined"})}},{field:"type",headerName:String(_("documents.table.type")),flex:.15,minWidth:120,renderCell:e=>{let t=e.row.type;return _("tasks.type.".concat(t))}},{field:"priority",headerName:String(_("documents.table.priority")),flex:.15,minWidth:120,renderCell:e=>{let t=e.row.priority;return(0,n.jsx)(i.Z,{label:_("tasks.priority.".concat(t)),color:"ordinary"===t?"primary":"warning",size:"small"})}},{field:"start_date",headerName:String(_("documents.table.start")),flex:.15,minWidth:130},{field:"end_date",headerName:String(_("documents.table.end")),flex:.15,minWidth:130},{field:"actions",headerName:String(_("common.actions")),width:120,sortable:!1,renderCell:e=>{var t;let r=e.row.id;return(0,n.jsxs)(o.Z,{direction:"row",spacing:1,children:[(0,n.jsx)(s.Z,{title:String(_("common.view")),children:(0,n.jsx)(c.Z,{size:"small",component:B(),href:"/tasks/view/".concat(r),children:(0,n.jsx)(b.Z,{icon:"tabler:eye"})})}),["new"].includes(a)&&(null==R?void 0:null===(t=R.role_detail)||void 0===t?void 0:t.some(e=>"Manager"===e.name))&&(0,n.jsx)(s.Z,{title:String(_("common.edit")),children:(0,n.jsx)(c.Z,{size:"small",component:B(),href:"/tasks/update/".concat(r),children:(0,n.jsx)(b.Z,{icon:"tabler:pencil"})})})]})}}];return(0,n.jsx)(l.Z,{variant:"outlined",children:(0,n.jsxs)(d.Z,{sx:{pb:0},children:["archive"!==a&&(0,n.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",sx:{mb:2},children:(null==R?void 0:null===(t=R.role_detail)||void 0===t?void 0:t.some(e=>"Performer"!==e.name))&&(0,n.jsx)(m.Z,{variant:"contained",onClick:()=>D(!0),children:String(_("tasks.create.title"))})}),(0,n.jsxs)(p.Z,{open:T,onClose:E?void 0:()=>D(!1),fullWidth:!0,maxWidth:"sm",children:[(0,n.jsx)(u.Z,{children:String(_("tasks.create.modal.title"))}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary",mb:4},children:String(_("tasks.create.modal.subtitle"))}),(0,n.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(l.Z,{variant:"outlined",sx:{borderColor:"task"===L?"primary.main":"divider",bgcolor:"task"===L?"primary.lighter":"background.paper"},children:(0,n.jsx)(x.Z,{onClick:()=>M("task"),children:(0,n.jsxs)(d.Z,{sx:{height:100},children:[(0,n.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[(0,n.jsx)(b.Z,{icon:"tabler:clipboard-list"}),(0,n.jsx)(g.Z,{variant:"h6",children:String(_("tasks.type.task"))})]}),(0,n.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:String(_("tasks.create.modal.taskHint"))})]})})})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(l.Z,{variant:"outlined",sx:{borderColor:"application"===L?"primary.main":"divider",bgcolor:"application"===L?"primary.lighter":"background.paper"},children:(0,n.jsx)(x.Z,{onClick:()=>M("application"),children:(0,n.jsxs)(d.Z,{sx:{height:100},children:[(0,n.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[(0,n.jsx)(b.Z,{icon:"tabler:file-text"}),(0,n.jsx)(g.Z,{variant:"h6",children:String(_("tasks.type.application"))})]}),(0,n.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:String(_("tasks.create.modal.applicationHint"))})]})})})})]})]}),(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(m.Z,{variant:"tonal",color:"secondary",onClick:()=>D(!1),disabled:E,children:String(_("common.cancel"))}),(0,n.jsx)(m.Z,{variant:"contained",onClick:async()=>{try{var e;O(!0);let t=await C.Do.post(w.Z.task,{type:L,status:"new",company:null==R?void 0:R.company_id}),a=null===(e=t.data)||void 0===e?void 0:e.id;F.success(String(_("tasks.toast.created"))),D(!1),a&&I.push("/tasks/update/".concat(a))}catch(e){F.error((null==e?void 0:e.message)||String(_("tasks.toast.createError")))}finally{O(!1)}},disabled:E,children:E?String(_("common.creating")):String(_("common.create"))})]})]}),(0,n.jsx)(k._,{autoHeight:!0,rowHeight:56,rows:H,columns:Q,loading:G,rowCount:V,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:W,onPaginationModelChange:A,getRowId:e=>e.id,localeText:{...(0,z.x)(_),noRowsLabel:String(_("documents.table.emptyForStatus",{status:a}))}})]})})}}}]);
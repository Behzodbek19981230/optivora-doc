(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6689],{81982:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/locations",function(){return t(65184)}])},82071:function(e,n,t){"use strict";t.d(n,{x:function(){return i}});let i=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:n=>{let{from:t,to:i,count:r}=n;return"".concat(t,"–").concat(i," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==r?r:">".concat(i))}}})},33251:function(e,n,t){"use strict";t.d(n,{z:function(){return l}});var i=t(30202),r=t(33934),o=t(52293);let l=function(e){var n,t;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=(0,i.NL)(),d=["list",e,l],c=Object.fromEntries(Object.entries(l).filter(e=>{let[,n]=e;return void 0!==n})),{data:m,isLoading:u,error:g}=(0,r.a)({queryKey:d,queryFn:async()=>{var n,t,i;let r=(await o.Do.get(e,c)).data,l=Array.isArray(r)?r:null!==(t=null==r?void 0:r.results)&&void 0!==t?t:[],a=Array.isArray(r)?l.length:null!==(i=null==r?void 0:null===(n=r.pagination)||void 0===n?void 0:n.total)&&void 0!==i?i:l.length;return{items:l,total:a}},enabled:a,staleTime:3e4});return{data:null!==(n=null==m?void 0:m.items)&&void 0!==n?n:[],total:null!==(t=null==m?void 0:m.total)&&void 0!==t?t:0,loading:u,error:g,mutate:()=>{s.invalidateQueries({queryKey:d})}}}},65184:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return M}});var i=t(85893),r=t(67294),o=t(60762),l=t(43374),a=t(28907),s=t(90642),d=t(34375),c=t(52857),m=t(73907),u=t(16127),g=t(87536),x=t(33453),h=t(92365),j=t(40110),S=t(96727),f=t(68573),Z=t(7879),p=t(52293),b=t(74538),v=t(86501),C=t(22120);let _={code:"",name:"",name_en:"",name_uz:"",name_ru:"",name_lt:""};var y=e=>{let{open:n,onClose:t,onSaved:o,mode:l,item:a}=e,{t:s}=(0,C.$G)(),{control:d,handleSubmit:c,reset:u,formState:{isSubmitting:y}}=(0,g.cI)({defaultValues:_});(0,r.useEffect)(()=>{"edit"===l&&a?u(a):"create"===l&&u(_)},[l,a,u]);let w=async e=>{try{"create"===l?await p.Do.post(b.Z.country,e):"edit"===l&&a&&await p.Do.put(b.Z.countryById(a.id),e),o(),t(),v.ZP.success(String(s("locations.countries.toast.saved")))}catch(e){console.error("Error saving country:",e)}};return(0,i.jsxs)(x.Z,{open:n,onClose:y?void 0:t,fullWidth:!0,maxWidth:"sm",children:[(0,i.jsx)(h.Z,{children:"create"===l?String(s("locations.countries.create.title")):String(s("locations.countries.edit.title"))}),(0,i.jsxs)("form",{onSubmit:c(w),children:[(0,i.jsx)(j.Z,{children:(0,i.jsxs)(f.ZP,{container:!0,spacing:4,children:[(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"code",control:d,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("chooseCompany.code")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_en",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameEn")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_uz",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameUz")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_ru",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameRu")),...n})}})})]})}),(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(m.Z,{type:"button",variant:"tonal",color:"secondary",onClick:t,disabled:y,children:String(s("common.cancel"))}),(0,i.jsx)(m.Z,{type:"submit",disabled:y,children:y?String(s("common.saving")):String(s("common.save"))})]})]})]})},w=t(83727),z=t(75673),W=t(33251),P=t(82071);let N=()=>(0,i.jsx)("span",{style:{fontWeight:"bold"},children:"＋"});var k=()=>{let{t:e}=(0,C.$G)(),[n,t]=(0,r.useState)({page:0,pageSize:10}),[o,l]=(0,r.useState)(""),{data:a=[],total:s,loading:g,mutate:x}=(0,W.z)(b.Z.country,{page:n.page+1,limit:n.pageSize,search:o});console.log(a);let[h,j]=(0,r.useState)(!1),[S,f]=(0,r.useState)("create"),[Z,p]=(0,r.useState)(null),[v,_]=(0,r.useState)(!1),k=e=>{f("edit"),p(e),j(!0)},E=e=>{p(e),_(!0)},R=async()=>{Z&&(x(),_(!1))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{title:String(e("locations.countries.title")),action:(0,i.jsx)(m.Z,{variant:"contained",startIcon:(0,i.jsx)(N,{}),onClick:()=>{f("create"),p(null),j(!0)},children:String(e("locations.countries.create"))})}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u._,{autoHeight:!0,rowHeight:56,rows:a,columns:[{field:"code",headerName:String(e("chooseCompany.code")),flex:.12,minWidth:100},{field:"name_en",headerName:String(e("common.nameEn")),flex:.18,minWidth:140},{field:"name_uz",headerName:String(e("common.nameUz")),flex:.18,minWidth:140},{field:"name_ru",headerName:String(e("common.nameRu")),flex:.18,minWidth:140},{field:"actions",headerName:String(e("common.actions")),flex:.16,minWidth:140,sortable:!1,renderCell:e=>{let n=e.row;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{size:"small",onClick:()=>k(n),children:(0,i.jsx)(z.Z,{icon:"tabler:edit"})}),(0,i.jsx)(c.Z,{size:"small",color:"error",onClick:()=>E(n),children:(0,i.jsx)(z.Z,{icon:"tabler:trash"})})]})}}],loading:g,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:t,getRowId:e=>e.id,localeText:(0,P.x)(e),rowCount:s})}),(0,i.jsx)(y,{open:h,onClose:()=>j(!1),onSaved:x,mode:S,item:Z}),(0,i.jsx)(w.Z,{open:v,onClose:()=>_(!1),onConfirm:R,title:String(e("locations.countries.deleteConfirm.title")),description:Z?String(e("locations.countries.deleteConfirm.description",{name:Z.name_uz||Z.name,id:Z.id})):void 0})]})};let E={code:"",name:"",name_en:"",name_uz:"",name_ru:"",name_lt:""};var R=e=>{let{open:n,onClose:t,onSaved:o,mode:l,item:a}=e,{t:s}=(0,C.$G)(),{control:d,handleSubmit:c,reset:u,formState:{isSubmitting:_}}=(0,g.cI)({defaultValues:E});(0,r.useEffect)(()=>{"edit"===l&&a?u(a):"create"===l&&u(E)},[l,a,u]);let y=async e=>{try{"create"===l?await p.Do.post(b.Z.region,e):"edit"===l&&a&&await p.Do.put(b.Z.regionById(a.id),e),o(),t(),v.ZP.success(String(s("locations.regions.toast.saved")))}catch(e){console.error("Failed to save region:",e)}};return(0,i.jsxs)(x.Z,{open:n,onClose:_?void 0:t,fullWidth:!0,maxWidth:"sm",children:[(0,i.jsx)(h.Z,{children:"create"===l?String(s("locations.regions.create.title")):String(s("locations.regions.edit.title"))}),(0,i.jsxs)("form",{onSubmit:c(y),children:[(0,i.jsx)(j.Z,{children:(0,i.jsxs)(f.ZP,{container:!0,spacing:4,children:[(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"code",control:d,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("chooseCompany.code")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_en",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameEn")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_uz",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameUz")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_ru",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameRu")),...n})}})})]})}),(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(m.Z,{type:"button",variant:"tonal",color:"secondary",onClick:t,disabled:_,children:String(s("common.cancel"))}),(0,i.jsx)(m.Z,{type:"submit",disabled:_,children:_?String(s("common.saving")):String(s("common.save"))})]})]})]})};let Q=()=>(0,i.jsx)("span",{style:{fontWeight:"bold"},children:"＋"});var I=()=>{let{t:e}=(0,C.$G)(),[n,t]=(0,r.useState)({page:0,pageSize:10}),[o,l]=(0,r.useState)(""),{data:a=[],total:s,loading:g,mutate:x}=(0,W.z)(b.Z.region,{page:n.page+1,limit:n.pageSize,search:o}),[h,j]=(0,r.useState)(!1),[S,f]=(0,r.useState)("create"),[Z,_]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1),k=e=>{f("edit"),_(e),j(!0)},E=e=>{_(e),N(!0)},I=async()=>{Z&&(await p.Do.delete("/region/".concat(Z.id)),x(),N(!1),v.ZP.success(String(e("locations.regions.toast.deleted"))))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{title:String(e("locations.regions.title")),action:(0,i.jsx)(m.Z,{variant:"contained",startIcon:(0,i.jsx)(Q,{}),onClick:()=>{f("create"),_(null),j(!0)},children:String(e("locations.regions.create"))})}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u._,{autoHeight:!0,rowHeight:56,rows:a,columns:[{field:"code",headerName:String(e("chooseCompany.code")),flex:.12,minWidth:100},{field:"name_en",headerName:String(e("common.nameEn")),flex:.18,minWidth:140},{field:"name_uz",headerName:String(e("common.nameUz")),flex:.18,minWidth:140},{field:"name_ru",headerName:String(e("common.nameRu")),flex:.18,minWidth:140},{field:"actions",headerName:String(e("common.actions")),flex:.16,minWidth:140,sortable:!1,renderCell:e=>{let n=e.row;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{size:"small",onClick:()=>k(n),children:(0,i.jsx)(z.Z,{icon:"tabler:edit"})}),(0,i.jsx)(c.Z,{size:"small",color:"error",onClick:()=>E(n),children:(0,i.jsx)(z.Z,{icon:"tabler:trash"})})]})}}],loading:g,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:t,getRowId:e=>e.id,localeText:(0,P.x)(e),rowCount:s})}),(0,i.jsx)(R,{open:h,onClose:()=>j(!1),onSaved:x,mode:S,item:Z}),(0,i.jsx)(w.Z,{open:y,onClose:()=>N(!1),onConfirm:I,title:String(e("locations.regions.deleteConfirm.title")),description:Z?String(e("locations.regions.deleteConfirm.description",{name:Z.name_uz||Z.name,id:Z.id})):void 0})]})},F=t(46070);let O={code:"",name:"",name_en:"",name_uz:"",name_ru:"",name_lt:"",region:0};var D=e=>{let{open:n,onClose:t,onSaved:o,mode:l,item:a}=e,{t:s}=(0,C.$G)(),{control:d,handleSubmit:c,reset:u,formState:{isSubmitting:_}}=(0,g.cI)({defaultValues:O}),{data:y=[],loading:w}=(0,W.z)("/region",{limit:100});(0,r.useEffect)(()=>{"edit"===l&&a?u(a):"create"===l&&u(O)},[l,a,u]);let z=async e=>{try{"create"===l?await p.Do.post(b.Z.district,e):"edit"===l&&a&&await p.Do.put(b.Z.districtById(a.id),e),o(),t(),v.ZP.success(String(s("locations.districts.toast.saved")))}catch(e){console.error("Failed to save district:",e)}};return(0,i.jsxs)(x.Z,{open:n,onClose:_?void 0:t,fullWidth:!0,maxWidth:"sm",children:[(0,i.jsx)(h.Z,{children:"create"===l?String(s("locations.districts.create.title")):String(s("locations.districts.edit.title"))}),(0,i.jsxs)("form",{onSubmit:c(z),children:[(0,i.jsx)(j.Z,{children:(0,i.jsxs)(f.ZP,{container:!0,spacing:4,children:[(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"code",control:d,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("chooseCompany.code")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_en",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameEn")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_uz",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameUz")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"name_ru",control:d,render:e=>{let{field:n}=e;return(0,i.jsx)(Z.Z,{fullWidth:!0,label:String(s("common.nameRu")),...n})}})}),(0,i.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(g.Qr,{name:"region",control:d,rules:{required:!0},render:e=>{let{field:n,fieldState:t}=e;return(0,i.jsx)(F.Z,{loading:w,options:y,value:y.find(e=>Number(e.id)===Number(n.value))||null,onChange:(e,t)=>n.onChange((null==t?void 0:t.id)?Number(t.id):0),isOptionEqualToValue:(e,n)=>Number(e.id)===Number(n.id),getOptionLabel:e=>(null==e?void 0:e.name_uz)||(null==e?void 0:e.name)||"",renderInput:e=>(0,i.jsx)(Z.Z,{...e,fullWidth:!0,label:String(s("locations.districts.form.region")),error:!!t.error,helperText:t.error?String(s("errors.required")):void 0})})}})})]})}),(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(m.Z,{type:"button",variant:"tonal",color:"secondary",onClick:t,disabled:_,children:String(s("common.cancel"))}),(0,i.jsx)(m.Z,{type:"submit",disabled:_,children:_?String(s("common.saving")):String(s("common.save"))})]})]})]})};let G=()=>(0,i.jsx)("span",{style:{fontWeight:"bold"},children:"＋"});var T=()=>{let{t:e}=(0,C.$G)(),[n,t]=(0,r.useState)({page:0,pageSize:10}),[o,l]=(0,r.useState)(""),{data:a=[],total:s,loading:g,mutate:x}=(0,W.z)(b.Z.district,{page:n.page+1,limit:n.pageSize,search:o}),[h,j]=(0,r.useState)(!1),[S,f]=(0,r.useState)("create"),[Z,_]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1),k=e=>{f("edit"),_(e),j(!0)},E=e=>{_(e),N(!0)},R=async()=>{Z&&(await p.Do.delete("/district/".concat(Z.id)),x(),N(!1),v.ZP.success(String(e("locations.districts.toast.deleted"))))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{title:String(e("locations.districts.title")),action:(0,i.jsx)(m.Z,{variant:"contained",startIcon:(0,i.jsx)(G,{}),onClick:()=>{f("create"),_(null),j(!0)},children:String(e("locations.districts.create"))})}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u._,{autoHeight:!0,rowHeight:56,rows:a,rowCount:s,columns:[{field:"code",headerName:String(e("chooseCompany.code")),flex:.12,minWidth:100},{field:"name_en",headerName:String(e("common.nameEn")),flex:.18,minWidth:140},{field:"name_uz",headerName:String(e("common.nameUz")),flex:.18,minWidth:140},{field:"name_ru",headerName:String(e("common.nameRu")),flex:.18,minWidth:140},{field:"region_detail",headerName:String(e("locations.districts.table.region")),flex:.2,minWidth:160,valueGetter:e=>{var n;return(null===(n=e.row.region_detail)||void 0===n?void 0:n.name_uz)||e.row.region}},{field:"actions",headerName:String(e("common.actions")),flex:.16,minWidth:140,sortable:!1,renderCell:e=>{let n=e.row;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{size:"small",onClick:()=>k(n),children:(0,i.jsx)(z.Z,{icon:"tabler:edit"})}),(0,i.jsx)(c.Z,{size:"small",color:"error",onClick:()=>E(n),children:(0,i.jsx)(z.Z,{icon:"tabler:trash"})})]})}}],loading:g,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:t,getRowId:e=>e.id,localeText:(0,P.x)(e)})}),(0,i.jsx)(D,{open:h,onClose:()=>j(!1),onSaved:x,mode:S,item:Z}),(0,i.jsx)(w.Z,{open:y,onClose:()=>N(!1),onConfirm:R,title:String(e("locations.districts.deleteConfirm.title")),description:Z?String(e("locations.districts.deleteConfirm.description",{name:Z.name_uz||Z.name,id:Z.id})):void 0})]})},$=()=>{let[e,n]=(0,r.useState)(0),{t}=(0,C.$G)();return(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(l.Z,{value:e,onChange:(e,t)=>n(t),children:[(0,i.jsx)(a.Z,{label:String(t("locations.tabs.countries"))}),(0,i.jsx)(a.Z,{label:String(t("locations.tabs.regions"))}),(0,i.jsx)(a.Z,{label:String(t("locations.tabs.districts"))})]}),(0,i.jsxs)(s.Z,{sx:{p:2},children:[0===e&&(0,i.jsx)(k,{}),1===e&&(0,i.jsx)(I,{}),2===e&&(0,i.jsx)(T,{})]})]})};let q=()=>(0,i.jsx)($,{});q.acl={action:"read",subject:"cms"},q.authGuard=!0;var M=q},83727:function(e,n,t){"use strict";var i=t(85893),r=t(33453),o=t(92365),l=t(40110),a=t(96727),s=t(73907),d=t(96788),c=t(22120);n.Z=e=>{let{open:n,onClose:t,onConfirm:m,confirming:u,title:g,description:x}=e,{t:h}=(0,c.$G)();return(0,i.jsxs)(r.Z,{open:n,onClose:u?void 0:t,fullWidth:!0,maxWidth:"xs",children:[(0,i.jsx)(o.Z,{children:g||String(h("common.deleteConfirm.title"))}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(d.Z,{variant:"body2",children:x||String(h("common.deleteConfirm.description"))})}),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(s.Z,{variant:"tonal",color:"secondary",onClick:t,disabled:!!u,children:String(h("common.cancel"))}),(0,i.jsx)(s.Z,{color:"error",onClick:()=>m(),disabled:!!u,children:u?String(h("common.deleting")):String(h("common.delete"))})]})]})}}},function(e){e.O(0,[2785,7536,7605,3035,2888,9774,179],function(){return e(e.s=81982)}),_N_E=e.O()}]);
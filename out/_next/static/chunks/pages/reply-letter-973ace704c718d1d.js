(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{44482:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reply-letter",function(){return n(89902)}])},82071:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});let r=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:t=>{let{from:n,to:r,count:i}=t;return"".concat(n,"â€“").concat(r," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==i?i:">".concat(r))}}})},33251:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(30202),i=n(33934),l=n(52293);let o=function(e){var t,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=(0,r.NL)(),d=["list",e,o],c=Object.fromEntries(Object.entries(o).filter(e=>{let[,t]=e;return void 0!==t})),{data:u,isLoading:g,error:m}=(0,i.a)({queryKey:d,queryFn:async()=>{var t,n,r;let i=(await l.Do.get(e,c)).data,o=Array.isArray(i)?i:null!==(n=null==i?void 0:i.results)&&void 0!==n?n:[],a=Array.isArray(i)?o.length:null!==(r=null==i?void 0:null===(t=i.pagination)||void 0===t?void 0:t.total)&&void 0!==r?r:o.length;return{items:o,total:a}},enabled:a,staleTime:3e4});return{data:null!==(t=null==u?void 0:u.items)&&void 0!==t?t:[],total:null!==(n=null==u?void 0:u.total)&&void 0!==n?n:0,loading:g,error:m,mutate:()=>{s.invalidateQueries({queryKey:d})}}}},89902:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(85893),i=n(67294),l=n(52857),o=n(60762),a=n(34375),s=n(73907),d=n(16127),c=n(75673),u=n(82071),g=n(74538),m=n(33251),p=n(52293),f=n(86501),h=n(11163),b=n(83727),x=n(22120),v=()=>{let e=(0,h.useRouter)(),{t}=(0,x.$G)(),[n,v]=(0,i.useState)({page:0,pageSize:10}),[y,w]=(0,i.useState)(null),[S,j]=(0,i.useState)(!1),{data:_=[],loading:Z,total:C,mutate:N}=(0,m.z)(g.Z.replyLetter,{page:n.page+1,limit:n.pageSize}),L=t=>{e.push("/reply-letter/".concat(t.id))},k=e=>{w(e),j(!0)},P=async()=>{y&&(await p.Do.delete(g.Z.replyLetterById(y.id)),N(),j(!1),f.ZP.success(String(t("replyLetter.toast.deleted"))))},z=(0,u.x)(t),R=[{field:"letter_number",headerName:String(t("replyLetter.table.letterNumber")),flex:.18,minWidth:140},{field:"basis",headerName:String(t("replyLetter.table.basis")),flex:.3,minWidth:220},{field:"responsible_person",headerName:String(t("replyLetter.table.responsiblePerson")),flex:.2,minWidth:160,valueGetter:e=>e.row.responsible_person_detail?e.row.responsible_person_detail.fullname:e.row.responsible_person},{field:"organization",headerName:String(t("replyLetter.table.company")),flex:.2,minWidth:160},{field:"actions",headerName:String(t("common.actions")),flex:.18,minWidth:160,sortable:!1,renderCell:e=>{let t=e.row;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{size:"small","aria-label":"edit",onClick:()=>L(t),children:(0,r.jsx)(c.Z,{icon:"tabler:edit"})}),(0,r.jsx)(l.Z,{size:"small","aria-label":"delete",color:"error",onClick:()=>k(t),children:(0,r.jsx)(c.Z,{icon:"tabler:trash"})})]})}}];return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(a.Z,{title:String(t("replyLetter.title")),action:(0,r.jsx)(s.Z,{variant:"contained",onClick:()=>e.push("/reply-letter/create"),children:String(t("replyLetter.create.title"))})}),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d._,{autoHeight:!0,rowHeight:56,rows:_,columns:R,loading:Z,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:v,getRowId:e=>e.id,localeText:z,rowCount:C})}),(0,r.jsx)(b.Z,{open:S,onClose:()=>j(!1),onConfirm:P,title:String(t("replyLetter.deleteConfirm.title")),description:y?"ID: ".concat(y.id):void 0})]})};function y(){return(0,r.jsx)(v,{})}},83727:function(e,t,n){"use strict";var r=n(85893),i=n(33453),l=n(92365),o=n(40110),a=n(96727),s=n(73907),d=n(96788),c=n(22120);t.Z=e=>{let{open:t,onClose:n,onConfirm:u,confirming:g,title:m,description:p}=e,{t:f}=(0,c.$G)();return(0,r.jsxs)(i.Z,{open:t,onClose:g?void 0:n,fullWidth:!0,maxWidth:"xs",children:[(0,r.jsx)(l.Z,{children:m||String(f("common.deleteConfirm.title"))}),(0,r.jsx)(o.Z,{children:(0,r.jsx)(d.Z,{variant:"body2",children:p||String(f("common.deleteConfirm.description"))})}),(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{variant:"tonal",color:"secondary",onClick:n,disabled:!!g,children:String(f("common.cancel"))}),(0,r.jsx)(s.Z,{color:"error",onClick:()=>u(),disabled:!!g,children:g?String(f("common.deleting")):String(f("common.delete"))})]})]})}}},function(e){e.O(0,[2785,7605,2888,9774,179],function(){return e(e.s=44482)}),_N_E=e.O()}]);
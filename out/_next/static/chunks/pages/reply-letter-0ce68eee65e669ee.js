(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{44482:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reply-letter",function(){return r(89902)}])},34375:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(63366),a=r(87462),i=r(67294),l=r(86010),o=r(94780),s=r(96788),d=r(29567),c=r(77527),u=r(1588),m=r(34867);function p(e){return(0,m.Z)("MuiCardHeader",e)}let g=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var h=r(85893);let f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,t)},b=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,a.Z)({["& .".concat(g.title)]:t.title,["& .".concat(g.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),x=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),y=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Z=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var w=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:i,avatar:o,className:c,component:u="div",disableTypography:m=!1,subheader:p,subheaderTypographyProps:g,title:w,titleTypographyProps:S}=r,j=(0,n.Z)(r,f),C=(0,a.Z)({},r,{component:u,disableTypography:m}),N=v(C),_=w;null==_||_.type===s.Z||m||(_=(0,h.jsx)(s.Z,(0,a.Z)({variant:o?"body2":"h5",className:N.title,component:"span",display:"block"},S,{children:_})));let P=p;return null==P||P.type===s.Z||m||(P=(0,h.jsx)(s.Z,(0,a.Z)({variant:o?"body2":"body1",className:N.subheader,color:"text.secondary",component:"span",display:"block"},g,{children:P}))),(0,h.jsxs)(b,(0,a.Z)({className:(0,l.Z)(N.root,c),as:u,ref:t,ownerState:C},j,{children:[o&&(0,h.jsx)(x,{className:N.avatar,ownerState:C,children:o}),(0,h.jsxs)(Z,{className:N.content,ownerState:C,children:[_,P]}),i&&(0,h.jsx)(y,{className:N.action,ownerState:C,children:i})]}))})},82071:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});let n=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:t=>{let{from:r,to:n,count:a}=t;return"".concat(r,"â€“").concat(n," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==a?a:">".concat(n))}}})},33251:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(30202),a=r(33934),i=r(52293);let l=function(e){var t,r;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=(0,n.NL)(),d=["list",e,l],c=Object.fromEntries(Object.entries(l).filter(e=>{let[,t]=e;return void 0!==t})),{data:u,isLoading:m,error:p}=(0,a.a)({queryKey:d,queryFn:async()=>{var t,r,n;let a=(await i.Do.get(e,c)).data,l=Array.isArray(a)?a:null!==(r=null==a?void 0:a.results)&&void 0!==r?r:[],o=Array.isArray(a)?l.length:null!==(n=null==a?void 0:null===(t=a.pagination)||void 0===t?void 0:t.total)&&void 0!==n?n:l.length;return{items:l,total:o}},enabled:o,staleTime:3e4});return{data:null!==(t=null==u?void 0:u.items)&&void 0!==t?t:[],total:null!==(r=null==u?void 0:u.total)&&void 0!==r?r:0,loading:m,error:p,mutate:()=>{s.invalidateQueries({queryKey:d})}}}},89902:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(85893),a=r(67294),i=r(52857),l=r(60762),o=r(34375),s=r(73907),d=r(16127),c=r(75673),u=r(82071),m=r(74538),p=r(33251),g=r(52293),h=r(86501),f=r(11163),v=r(83727),b=r(22120),x=()=>{let e=(0,f.useRouter)(),{t}=(0,b.$G)(),[r,x]=(0,a.useState)({page:0,pageSize:10}),[y,Z]=(0,a.useState)(null),[w,S]=(0,a.useState)(!1),{data:j=[],loading:C,total:N,mutate:_}=(0,p.z)(m.Z.replyLetter,{page:r.page+1,limit:r.pageSize}),P=t=>{e.push("/reply-letter/".concat(t.id))},R=e=>{Z(e),S(!0)},k=async()=>{y&&(await g.Do.delete(m.Z.replyLetterById(y.id)),_(),S(!1),h.ZP.success(String(t("replyLetter.toast.deleted"))))},L=(0,u.x)(t),M=[{field:"letter_number",headerName:String(t("replyLetter.table.letterNumber")),flex:.18,minWidth:140},{field:"basis",headerName:String(t("replyLetter.table.basis")),flex:.3,minWidth:220},{field:"responsible_person",headerName:String(t("replyLetter.table.responsiblePerson")),flex:.2,minWidth:160,valueGetter:e=>e.row.responsible_person_detail?e.row.responsible_person_detail.fullname:e.row.responsible_person},{field:"organization",headerName:String(t("replyLetter.table.company")),flex:.2,minWidth:160},{field:"actions",headerName:String(t("common.actions")),flex:.18,minWidth:160,sortable:!1,renderCell:e=>{let t=e.row;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{size:"small","aria-label":"edit",onClick:()=>P(t),children:(0,n.jsx)(c.Z,{icon:"tabler:edit"})}),(0,n.jsx)(i.Z,{size:"small","aria-label":"delete",color:"error",onClick:()=>R(t),children:(0,n.jsx)(c.Z,{icon:"tabler:trash"})})]})}}];return(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(o.Z,{title:String(t("replyLetter.title")),action:(0,n.jsx)(s.Z,{variant:"contained",onClick:()=>e.push("/reply-letter/create"),children:String(t("replyLetter.create.title"))})}),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d._,{autoHeight:!0,rowHeight:56,rows:j,columns:M,loading:C,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:r,onPaginationModelChange:x,getRowId:e=>e.id,localeText:L,rowCount:N})}),(0,n.jsx)(v.Z,{open:w,onClose:()=>S(!1),onConfirm:k,title:String(t("replyLetter.deleteConfirm.title")),description:y?"ID: ".concat(y.id):void 0})]})};function y(){return(0,n.jsx)(x,{})}},83727:function(e,t,r){"use strict";var n=r(85893),a=r(33453),i=r(92365),l=r(40110),o=r(96727),s=r(73907),d=r(96788),c=r(22120);t.Z=e=>{let{open:t,onClose:r,onConfirm:u,confirming:m,title:p,description:g}=e,{t:h}=(0,c.$G)();return(0,n.jsxs)(a.Z,{open:t,onClose:m?void 0:r,fullWidth:!0,maxWidth:"xs",children:[(0,n.jsx)(i.Z,{children:p||String(h("common.deleteConfirm.title"))}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(d.Z,{variant:"body2",children:g||String(h("common.deleteConfirm.description"))})}),(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(s.Z,{variant:"tonal",color:"secondary",onClick:r,disabled:!!m,children:String(h("common.cancel"))}),(0,n.jsx)(s.Z,{color:"error",onClick:()=>u(),disabled:!!m,children:m?String(h("common.deleting")):String(h("common.delete"))})]})]})}}},function(e){e.O(0,[2785,6127,2888,9774,179],function(){return e(e.s=44482)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7749],{94487:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/view/[id]",function(){return a(36174)}])},7879:function(e,t,a){"use strict";var r=a(85893),n=a(67294),i=a(77527),s=a(40492);let l=(0,i.ZP)(s.Z)(e=>{let{theme:t}=e;return{alignItems:"flex-start","& .MuiInputLabel-root":{transform:"none",lineHeight:1.154,position:"relative",marginBottom:t.spacing(1),fontSize:t.typography.body2.fontSize,color:"".concat(t.palette.text.primary," !important")},"& .MuiInputBase-root":{borderRadius:8,backgroundColor:"transparent !important",border:"1px solid rgba(".concat(t.palette.customColors.main,", 0.2)"),transition:t.transitions.create(["border-color","box-shadow"],{duration:t.transitions.duration.shorter}),"&:not(.Mui-focused):not(.Mui-disabled):not(.Mui-error):hover":{borderColor:"rgba(".concat(t.palette.customColors.main,", 0.28)")},"&:before, &:after":{display:"none"},"&.MuiInputBase-sizeSmall":{borderRadius:6},"&.Mui-error":{borderColor:t.palette.error.main},"&.Mui-focused":{boxShadow:t.shadows[2],"& .MuiInputBase-input:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transform:"translateX(4px)"},"&.MuiInputBase-colorPrimary":{borderColor:t.palette.primary.main},"&.MuiInputBase-colorSecondary":{borderColor:t.palette.secondary.main},"&.MuiInputBase-colorInfo":{borderColor:t.palette.info.main},"&.MuiInputBase-colorSuccess":{borderColor:t.palette.success.main},"&.MuiInputBase-colorWarning":{borderColor:t.palette.warning.main},"&.MuiInputBase-colorError":{borderColor:t.palette.error.main},"&.Mui-error":{borderColor:t.palette.error.main}},"&.Mui-disabled":{backgroundColor:"".concat(t.palette.action.selected," !important")},"& .MuiInputAdornment-root":{marginTop:"0 !important"}},"& .MuiInputBase-input":{color:t.palette.text.secondary,"&:not(textarea)":{padding:"15.5px 13px"},"&:not(textarea).MuiInputBase-inputSizeSmall":{padding:"7.5px 13px"},"&:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter})},"&.MuiInputBase-inputAdornedStart:not(.MuiAutocomplete-input)":{paddingLeft:0},"&.MuiInputBase-inputAdornedEnd:not(.MuiAutocomplete-input)":{paddingRight:0}},"& .MuiFormHelperText-root":{lineHeight:1.154,margin:t.spacing(1,0,0),color:t.palette.text.secondary,fontSize:t.typography.body2.fontSize,"&.Mui-error":{color:t.palette.error.main}},"& .MuiSelect-select:focus, & .MuiNativeSelect-select:focus":{backgroundColor:"transparent"},"& .MuiSelect-filled .MuiChip-root":{height:22},"& .MuiAutocomplete-input":{paddingLeft:"6px !important",paddingTop:"7.5px !important",paddingBottom:"7.5px !important","&.MuiInputBase-inputSizeSmall":{paddingLeft:"6px !important",paddingTop:"2.5px !important",paddingBottom:"2.5px !important"}},"& .MuiAutocomplete-inputRoot":{paddingTop:"8px !important",paddingLeft:"8px !important",paddingBottom:"8px !important","&:not(.MuiInputBase-sizeSmall).MuiInputBase-adornedStart":{paddingLeft:"13px !important"},"&.MuiInputBase-sizeSmall":{paddingTop:"5px !important",paddingLeft:"5px !important",paddingBottom:"5px !important","& .MuiAutocomplete-tag":{margin:2,height:22}}},"& .MuiInputBase-multiline":{padding:"15.25px 13px","&.MuiInputBase-sizeSmall":{padding:"7.25px 13px"},"& textarea.MuiInputBase-inputSizeSmall:placeholder-shown":{overflowX:"hidden"}},"& + .react-datepicker__close-icon":{top:11,"&:after":{fontSize:"1.6rem !important"}}}}),o=(0,n.forwardRef)((e,t)=>{let{size:a="small",InputLabelProps:n,...i}=e;return(0,r.jsx)(l,{size:a,inputRef:t,...i,variant:"filled",InputLabelProps:{...n,shrink:!0}})});t.Z=o},69447:function(e,t,a){"use strict";var r=a(85893),n=a(18745),i=a(17494),s=a(2339),l=a(17643);let o=e=>{let{sx:t,skin:a,color:o,variant:c}=e,d=(0,n.Z)(),u=(0,s.Z)(),p={primary:{boxShadow:"none",color:d.palette.primary.main,backgroundColor:u.primaryLight.backgroundColor},secondary:{boxShadow:"none",color:d.palette.secondary.main,backgroundColor:u.secondaryLight.backgroundColor},success:{boxShadow:"none",color:d.palette.success.main,backgroundColor:u.successLight.backgroundColor},error:{boxShadow:"none",color:d.palette.error.main,backgroundColor:u.errorLight.backgroundColor},warning:{boxShadow:"none",color:d.palette.warning.main,backgroundColor:u.warningLight.backgroundColor},info:{boxShadow:"none",color:d.palette.info.main,backgroundColor:u.infoLight.backgroundColor},grey:{boxShadow:"none",color:d.palette.grey[500],backgroundColor:(0,l.E)(d.palette.grey[500],.12)}};return(0,r.jsx)(i.Z,{...e,sx:o&&"light"===a&&"filled"===c?Object.assign(p[o],t):t})};o.defaultProps={color:"grey",variant:"filled"},t.Z=o},74538:function(e,t){"use strict";let a=e=>Array.isArray(e)?e[0]:null==e?"":String(e);t.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(a(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(a(e)),region:"/region/",regionById:e=>"/region/".concat(a(e)),countryById:e=>"/country/".concat(a(e)),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(a(e)),industries:"/industry",industryById:e=>"/industry/".concat(a(e)),industryFields:"/industry/fields",users:"/user",userById:e=>"/user/".concat(a(e)),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(a(e)),services:"/service",serviceById:e=>"/service/".concat(a(e)),partners:"/partner",partnerById:e=>"/partner/".concat(a(e)),company:"/company/",companyById:e=>"/company/".concat(a(e)),replyLetter:"/reply-letter/",replyLetterById:e=>"/reply-letter/".concat(a(e)),replyLetterFile:"/reply-letter-file/",replyLetterFileById:e=>"/reply-letter-file/".concat(a(e)),documents:"/documents/",documentById:e=>"/documents/".concat(a(e)),documentForm:"/document-form/",documentFormById:e=>"/document-form/".concat(a(e)),listOfMagazine:"/list-of-magazine/",listOfMagazineById:e=>"/list-of-magazine/".concat(a(e)),task:"/task/",taskById:e=>"/task/".concat(a(e)),taskPart:"/task-part/",taskPartById:e=>"/task-part/".concat(a(e)),taskEvent:"/task-event/",taskEventById:e=>"/task-event/".concat(a(e)),taskComment:"/task-comment/",taskCommentById:e=>"/task-comment/".concat(a(e)),taskAttachment:"/task-attachment/",taskAttachmentById:e=>"/task-attachment/".concat(a(e)),department:"/department/",departmentById:e=>"/department/".concat(a(e)),position:"/position/",positionById:e=>"/position/".concat(a(e)),projects:"/project",projectById:e=>"/project/".concat(a(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(a(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(a(e)),stats:"/stats",statById:e=>"/stats/".concat(a(e)),faqs:"/faq",faqById:e=>"/faq/".concat(a(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(a(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(a(e)),news:"/news-post",newsById:e=>"/news-post/".concat(a(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(a(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(a(e)),applicationApprovedByID:e=>"/application-approved/".concat(a(e)),limitData:"/limit-data"}},36174:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eb}});var r=a(85893),n=a(67294),i=a(11163),s=a(90642),l=a(68573),o=a(60762),c=a(71919),d=a(84166),u=a(96788),p=a(81873),m=a(43374),x=a(28907),h=a(74538),g=a(52293),j=a(18745),v=a(56912),Z=a(76592),y=a(70360),b=a(46577),w=a(8863),k=a(19827),f=a(21038),S=a(52857),_=a(75673),I=a(22120);function B(e){let{parts:t,selectedPartId:a,setSelectedPartId:n}=e,{t:i}=(0,I.$G)(),s=e=>{switch(e){case"new":default:return"default";case"in_progress":return"info";case"on_review":case"returned":return"warning";case"done":return"success";case"cancelled":return"error"}};return(0,r.jsx)(o.Z,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{children:(0,r.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,r.jsx)(u.Z,{variant:"subtitle2",children:String(i("tasks.view.parts.title"))}),(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:String(i("tasks.view.parts.count",{count:t.length}))})]})}),t.length?(0,r.jsxs)(Z.Z,{size:"small",sx:{"& .MuiTableCell-root":{py:1}},children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(w.Z,{children:String(i("tasks.view.parts.table.title"))}),(0,r.jsx)(w.Z,{children:String(i("tasks.view.parts.table.status"))}),(0,r.jsx)(w.Z,{children:String(i("tasks.view.parts.table.department"))}),(0,r.jsx)(w.Z,{children:String(i("tasks.view.parts.table.assignee"))}),(0,r.jsx)(w.Z,{children:String(i("tasks.view.parts.table.start"))}),(0,r.jsx)(w.Z,{children:String(i("tasks.view.parts.table.end"))}),(0,r.jsx)(w.Z,{align:"right",children:String(i("common.actions"))})]})}),(0,r.jsx)(k.Z,{children:t.map(e=>{var t,l;let o=a===e.id;return(0,r.jsxs)(b.Z,{hover:!0,selected:o,onClick:()=>n(e.id),sx:{cursor:"pointer"},children:[(0,r.jsxs)(w.Z,{children:[(0,r.jsxs)(d.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,r.jsx)(_.Z,{icon:"mdi:subdirectory-arrow-right"}),(0,r.jsx)(u.Z,{variant:"body2",sx:{fontWeight:600},children:e.title||String(i("tasks.view.parts.partFallbackTitle",{id:e.id}))})]}),!!e.note&&(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:e.note})]}),(0,r.jsx)(w.Z,{children:(0,r.jsx)(p.Z,{size:"small",label:e.status,color:s(e.status),variant:"outlined"})}),(0,r.jsx)(w.Z,{children:(null===(t=e.department_detail)||void 0===t?void 0:t.name)||e.department}),(0,r.jsx)(w.Z,{children:(null===(l=e.assignee_detail)||void 0===l?void 0:l.fullname)||e.assignee}),(0,r.jsx)(w.Z,{children:e.start_date||"—"}),(0,r.jsx)(w.Z,{children:e.end_date||"—"}),(0,r.jsx)(w.Z,{align:"right",onClick:e=>e.stopPropagation(),children:(0,r.jsx)(f.Z,{title:String(i("common.delete")),children:(0,r.jsx)(S.Z,{size:"small",children:(0,r.jsx)(_.Z,{icon:"mdi:delete"})})})})]},e.id)})})]}):(0,r.jsx)(c.Z,{children:(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(i("tasks.view.parts.empty"))})})]})})}var P=a(33934),C=a(14934),M=a(47407),z=a(19304),D=a(87590),L=a(32200),F=a(61769),q=a(21201);let A=e=>{let t=(e.title||"").trim();if(t)return t;let a=(e.file||"").trim();if(!a)return"Fayl #".concat(e.id);try{let e=a.split("?")[0],t=e.split("/");return decodeURIComponent(t[t.length-1]||e)}catch(e){return a}},R=e=>{let t=(e||"").toLowerCase().split("?")[0],a=t.split(".").pop();return a&&a!==t?a:""},T=e=>{switch(e){case"pdf":return"tabler:file-type-pdf";case"doc":case"docx":return"tabler:file-type-doc";case"xls":case"xlsx":return"tabler:file-type-xls";case"ppt":case"pptx":return"tabler:file-type-ppt";case"png":case"jpg":case"jpeg":case"webp":case"gif":return"tabler:photo";case"zip":case"rar":case"7z":return"tabler:archive";default:return"tabler:file"}};function W(e){let{taskId:t,partId:a}=e,{t:i}=(0,I.$G)(),{data:l,isLoading:m,isError:x}=(0,P.a)({queryKey:["task-attachments",t,null!=a?a:null],queryFn:async()=>{let e={task:t,perPage:50,...null!=a?{part:a}:{}};return(await g.Do.get(h.Z.taskAttachment,e)).data||{results:[]}},enabled:!!t,staleTime:1e4}),j=(null==l?void 0:l.results)||[];return m?(0,r.jsxs)(d.Z,{spacing:2,children:[(0,r.jsx)(C.Z,{variant:"text",width:"30%"}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}})]}):x?(0,r.jsx)(u.Z,{variant:"body2",color:"error",children:String(i("tasks.view.attachments.loadError"))}):j.length?(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(s.Z,{sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[(0,r.jsx)(u.Z,{variant:"subtitle2",children:String(i("tasks.view.attachments.title"))}),(0,r.jsx)(p.Z,{size:"small",color:"info",label:String(i("tasks.view.attachments.count",{count:j.length}))})]}),(0,r.jsx)(M.Z,{disablePadding:!0,children:j.map((e,t)=>{var a;let s=A(e),l=R(e.file||e.title),o=T(l),c=e.created_at?new Date(e.created_at).toLocaleString():"",m=e.file||"#";return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsxs)(z.ZP,{disableGutters:!0,secondaryAction:m&&"#"!==m?(0,r.jsx)(f.Z,{title:String(i("tasks.view.attachments.openOrDownload")),children:(0,r.jsx)(S.Z,{component:"a",href:m,target:"_blank",rel:"noreferrer",children:(0,r.jsx)(_.Z,{icon:"tabler:download"})})}):null,sx:{py:1.25,px:1,borderRadius:2,"&:hover":{backgroundColor:e=>e.palette.action.hover}},children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(q.Z,{variant:"rounded",sx:{width:40,height:40,bgcolor:e=>e.palette.action.selected,color:"text.primary"},children:(0,r.jsx)(_.Z,{icon:o})})}),(0,r.jsx)(L.Z,{primary:(0,r.jsxs)(d.Z,{direction:"row",spacing:1,sx:{alignItems:"center",flexWrap:"wrap",rowGap:1},children:[m&&"#"!==m?(0,r.jsx)(F.Z,{href:m,target:"_blank",rel:"noreferrer",underline:"hover",color:"inherit",children:(0,r.jsx)(u.Z,{variant:"subtitle2",sx:{fontWeight:600},children:s})}):(0,r.jsx)(u.Z,{variant:"subtitle2",sx:{fontWeight:600},children:s}),l?(0,r.jsx)(p.Z,{size:"small",variant:"outlined",label:l.toUpperCase()}):null,e.part?(0,r.jsx)(p.Z,{size:"small",variant:"outlined",label:String(i("tasks.view.attachments.partLabel",{id:e.part}))}):null]}),secondary:(0,r.jsxs)(d.Z,{direction:"row",spacing:1,sx:{alignItems:"center",flexWrap:"wrap",rowGap:.5},children:[c?(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:c}):null,"number"==typeof e.uploaded_by?(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:String(i("tasks.view.attachments.uploader",{id:e.uploaded_by}))}):null]})})]}),t<j.length-1?(0,r.jsx)(v.Z,{sx:{my:1}}):null]},null!==(a=e.id)&&void 0!==a?a:t)})})]})}):(0,r.jsx)(o.Z,{children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(s.Z,{sx:{py:2},children:(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(i("tasks.view.attachments.empty"))})})})})}let O=e=>{var t,a;let r=(e||"").trim();if(!r)return"?";let n=r.split(" ").filter(Boolean);return(((null===(t=n[0])||void 0===t?void 0:t[0])||"")+((null===(a=n[1])||void 0===a?void 0:a[0])||"")).toUpperCase()||r[0].toUpperCase()};function E(e){let{taskId:t,partId:a}=e,{t:i}=(0,I.$G)(),{data:l,isLoading:m,isError:x}=(0,P.a)({queryKey:["task-comments",t,null!=a?a:null],queryFn:async()=>{let e={task:t,perPage:50};return null!=a&&(e.part=a),(await g.Do.get(h.Z.taskComment,e)).data||{results:[]}},enabled:!!t,staleTime:1e4}),j=(null==l?void 0:l.results)||[];return m?(0,r.jsxs)(d.Z,{spacing:2,children:[(0,r.jsx)(C.Z,{variant:"text",width:"25%"}),(0,r.jsx)(C.Z,{variant:"rectangular",height:72,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:72,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:72,sx:{borderRadius:2}})]}):x?(0,r.jsx)(u.Z,{variant:"body2",color:"error",children:String(i("tasks.view.comments.loadError"))}):j.length?(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(s.Z,{sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[(0,r.jsx)(u.Z,{variant:"subtitle2",children:String(i("tasks.view.comments.title"))}),(0,r.jsx)(p.Z,{size:"small",color:"info",label:String(i("tasks.view.comments.count",{count:j.length}))})]}),(0,r.jsx)(M.Z,{disablePadding:!0,children:j.map((e,t)=>{var a,s;let l=e.created_at?new Date(e.created_at).toLocaleString():"",o=e.is_system?String(i("tasks.view.comments.system")):"".concat(null===(a=e.author_detail)||void 0===a?void 0:a.fullname);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsxs)(z.ZP,{disableGutters:!0,alignItems:"flex-start",sx:{py:1.25,px:1,borderRadius:2,"&:hover":{backgroundColor:e=>e.palette.action.hover}},children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(q.Z,{sx:{width:40,height:40,bgcolor:t=>e.is_system?t.palette.grey[200]:t.palette.primary.light,color:t=>e.is_system?t.palette.text.primary:t.palette.primary.contrastText},children:e.is_system?(0,r.jsx)(_.Z,{icon:"tabler:settings"}):O(o)})}),(0,r.jsx)(L.Z,{primary:(0,r.jsxs)(d.Z,{direction:"row",spacing:1,sx:{alignItems:"center",flexWrap:"wrap",rowGap:1},children:[(0,r.jsx)(u.Z,{variant:"subtitle2",sx:{fontWeight:700},children:o}),e.is_system?(0,r.jsx)(p.Z,{size:"small",color:"default",variant:"outlined",label:String(i("tasks.view.comments.system"))}):null,e.part?(0,r.jsx)(p.Z,{size:"small",variant:"outlined",label:String(i("tasks.view.comments.partLabel",{id:e.part}))}):null,l?(0,r.jsxs)(u.Z,{variant:"caption",sx:{color:"text.disabled"},children:["• ",l]}):null]}),secondary:(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",sx:{mt:.5,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.text||"—"})})]}),t<j.length-1?(0,r.jsx)(v.Z,{sx:{my:1}}):null]},null!==(s=e.id)&&void 0!==s?s:t)})})]})}):(0,r.jsx)(o.Z,{children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(i("tasks.view.comments.empty"))})})})}var G=a(30381),J=a.n(G);function N(e){var t,a,n,i,m,x,Z;let{task:y,selectedPartId:b,setSelectedPartId:w}=e,{t:k}=(0,I.$G)(),f=(0,j.Z)(),S=null==y?void 0:y.id,{data:_}=(0,P.a)({queryKey:["task-parts",null!=S?S:"none"],enabled:!!S,queryFn:async()=>{let e=(await g.Do.get(h.Z.taskPart,{task:String(S),perPage:100})).data;return(null==e?void 0:e.results)||e||[]},initialData:[]});if(!y)return(0,r.jsx)(o.Z,{children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(k("tasks.view.document.notFound"))})})});let C=e=>{let{label:t,value:a}=e;return(0,r.jsxs)(d.Z,{spacing:.75,children:[(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:t}),(0,r.jsx)(u.Z,{variant:"body2",sx:{wordBreak:"break-word"},children:null!=a?a:"—"})]})};return(0,r.jsxs)(l.ZP,{container:!0,spacing:4,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",spacing:3,children:[(0,r.jsxs)(s.Z,{sx:{minWidth:0},children:[(0,r.jsx)(u.Z,{variant:"overline",color:"text.secondary",children:String(k("tasks.view.document.header.overline"))}),(0,r.jsx)(u.Z,{variant:"h6",sx:{mt:.5,lineHeight:1.35},children:y.name||String(k("tasks.view.document.header.fallbackTitle",{id:y.id}))}),(0,r.jsxs)(u.Z,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[String(k("common.id")),": ",y.id]})]}),(0,r.jsxs)(d.Z,{direction:"row",spacing:1,flexWrap:"wrap",justifyContent:"flex-end",children:[y.status&&(0,r.jsx)(p.Z,{size:"small",label:y.status,color:(e=>{switch(e){case"new":default:return"default";case"in_progress":return"info";case"on_review":case"returned":return"warning";case"done":return"success";case"cancelled":return"error"}})(y.status)}),y.priority&&(0,r.jsx)(p.Z,{size:"small",label:y.priority,color:"orgently"===y.priority?"error":"default",variant:"outlined"}),y.type&&(0,r.jsx)(p.Z,{size:"small",label:y.type,color:"primary",variant:"outlined"})]})]}),(0,r.jsx)(v.Z,{sx:{my:3}}),(0,r.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,md:4,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.inputDocNumber")),value:y.input_doc_number})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:4,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.outputDocNumber")),value:y.output_doc_number})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:4,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.sendingOrg")),value:y.sending_org})})]})]})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{variant:"subtitle1",sx:{mb:2},children:String(k("tasks.view.document.sections.main"))}),(0,r.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.company")),value:(null===(t=y.company_detail)||void 0===t?void 0:t.name)||y.company})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.department")),value:(null===(a=y.department_detail)||void 0===a?void 0:a.name)||y.department})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.taskForm")),value:(null===(n=y.task_form_detail)||void 0===n?void 0:n.name)||y.task_form})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.magazine")),value:(null===(i=y.list_of_magazine_detail)||void 0===i?void 0:i.name)||y.list_of_magazine})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.signedBy")),value:(null===(m=y.signed_by_detail)||void 0===m?void 0:m.fullname)||y.signed_by})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.responsiblePerson")),value:null!==(x=y.sending_respon_person)&&void 0!==x?x:"—"})})]})]})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{variant:"subtitle1",sx:{mb:2},children:String(k("tasks.view.document.sections.dates"))}),(0,r.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.startDate")),value:y.start_date})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.endDate")),value:y.end_date})})]}),(0,r.jsx)(v.Z,{sx:{my:3}}),(0,r.jsx)(u.Z,{variant:"subtitle1",sx:{mb:2},children:String(k("tasks.view.document.sections.system"))}),(0,r.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.createdAt")),value:J()(y.created_time).format("DD.MM.YYYY HH:mm")})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.updatedAt")),value:J()(y.updated_time).format("DD.MM.YYYY HH:mm")})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.createdBy")),value:y.created_by})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(C,{label:String(k("tasks.view.document.fields.updatedBy")),value:null!==(Z=y.updated_by)&&void 0!==Z?Z:"—"})})]})]})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{variant:"subtitle1",sx:{mb:2},children:String(k("tasks.view.document.sections.note"))}),(0,r.jsx)(s.Z,{sx:{p:2.5,background:f.palette.background.paper},children:(0,r.jsx)(u.Z,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:y.note||"—"})})]})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(B,{parts:_,selectedPartId:b,setSelectedPartId:w})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(W,{taskId:y.id,partId:null!=b?b:void 0})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(E,{taskId:y.id,partId:null!=b?b:void 0})})]})}var H=a(1954),K=a(73907),Y=a(33453),$=a(92365),U=a(40110),X=a(96727),Q=a(86501),V=a(30202),ee=a(7879),et=a(34273),ea=e=>{let{task:t,part:a}=e,{t:i}=(0,I.$G)(),s=(0,V.NL)(),{user:l}=(0,et.a)(),[m,x]=n.useState(!1),[j,Z]=n.useState(!1),[y,b]=n.useState(""),[w,k]=n.useState(""),[f,S]=n.useState(null),[_,B]=n.useState(!1),P=null==t?void 0:t.id,C=null==a?void 0:a.id,M=C?String(i("tasks.view.actions.selectedPartLabel",{id:C})):P?String(i("tasks.view.actions.selectedTaskLabel",{id:P})):"—",z=()=>{b("")},D=()=>{k(""),S(null)},L=async()=>{P&&await s.invalidateQueries({queryKey:["task-comments"]})},F=async()=>{P&&await s.invalidateQueries({queryKey:["task-attachments"]})},q=async()=>{if(!P)return;let e=y.trim();if(!e){Q.ZP.error(String(i("tasks.view.actions.toasts.commentRequired")));return}try{B(!0),await g.Do.post(h.Z.taskComment,{task:P,part:null!=C?C:null,author:null==l?void 0:l.id,text:e}),Q.ZP.success(String(i("tasks.view.actions.toasts.commentAdded"))),x(!1),z(),await L()}catch(e){console.error("Failed to create comment",e),Q.ZP.error(String(i("tasks.view.actions.toasts.commentAddError")))}finally{B(!1)}},A=async()=>{if(P){if(!f){Q.ZP.error(String(i("tasks.view.actions.toasts.fileRequired")));return}try{B(!0);let e=new FormData;e.append("file",f),e.append("title",w.trim()||f.name),e.append("task",P.toString()),e.append("part",C?C.toString():""),await g.Do.postForm(h.Z.taskAttachment,e),Q.ZP.success(String(i("tasks.view.actions.toasts.fileAttached"))),Z(!1),D(),await F()}catch(e){console.error("Failed to create attachment",e),Q.ZP.error(String(i("tasks.view.actions.toasts.fileAttachError")))}finally{B(!1)}}};return(0,r.jsx)(o.Z,{sx:{position:{md:"sticky"},top:{md:24}},children:(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(d.Z,{spacing:2,children:[(0,r.jsx)(u.Z,{variant:"subtitle1",children:String(i("tasks.view.actions.title"))}),(0,r.jsx)(v.Z,{}),(0,r.jsxs)(d.Z,{spacing:1,children:[(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:String(i("tasks.view.actions.selectedSection"))}),C?(0,r.jsxs)(d.Z,{spacing:1,children:[(0,r.jsxs)(d.Z,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",useFlexGap:!0,children:[(0,r.jsx)(p.Z,{size:"small",icon:(0,r.jsx)(H.JO,{icon:"mdi:subdirectory-arrow-right"}),label:String(i("tasks.view.actions.selectedPartLabel",{id:C})),variant:"outlined"}),(null==a?void 0:a.title)?(0,r.jsx)(p.Z,{size:"small",label:a.title,variant:"outlined"}):null,(null==a?void 0:a.status)?(0,r.jsx)(p.Z,{size:"small",label:a.status,color:"info",variant:"outlined"}):null]}),(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(i("tasks.view.actions.attachmentsApplyToPart"))})]}):(0,r.jsxs)(d.Z,{spacing:.5,children:[(0,r.jsx)(u.Z,{variant:"body2",children:String(i("tasks.view.actions.noPartSelected"))}),(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(i("tasks.view.actions.attachmentsApplyToTask"))})]})]}),(0,r.jsx)(v.Z,{}),(0,r.jsxs)(d.Z,{spacing:1,children:[(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:String(i("tasks.view.actions.deadline"))}),(0,r.jsxs)(d.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,r.jsx)(H.JO,{icon:"mdi:calendar"}),(0,r.jsx)(u.Z,{variant:"body2",children:(null==t?void 0:t.end_date)||String(i("common.notSet"))})]}),(0,r.jsx)(K.Z,{size:"small",variant:"outlined",children:String(i("tasks.view.actions.setDeadline"))})]}),(0,r.jsx)(v.Z,{}),C&&(0,r.jsxs)(d.Z,{spacing:1,children:[(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:String(i("tasks.view.actions.partStatus"))}),(0,r.jsxs)(d.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,r.jsx)(H.JO,{icon:"mdi:subdirectory-arrow-right"}),(0,r.jsx)(u.Z,{variant:"body2",children:(null==a?void 0:a.status)||String(i("common.notSet"))})]}),(0,r.jsxs)(d.Z,{direction:"row",spacing:1,children:[(0,r.jsx)(K.Z,{size:"small",variant:"contained",children:String(i("common.start"))}),(0,r.jsx)(K.Z,{size:"small",variant:"outlined",children:String(i("common.finish"))})]})]}),(0,r.jsx)(v.Z,{}),(0,r.jsxs)(d.Z,{spacing:1,children:[(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:String(i("tasks.view.actions.files"))}),(0,r.jsx)(d.Z,{direction:"row",spacing:1,children:(0,r.jsx)(K.Z,{size:"small",startIcon:(0,r.jsx)(H.JO,{icon:"mdi:paperclip"}),variant:"outlined",disabled:!P,onClick:()=>Z(!0),children:String(i("tasks.view.actions.addFile"))})})]}),(0,r.jsx)(v.Z,{}),(0,r.jsxs)(d.Z,{spacing:1,children:[(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:String(i("tasks.view.actions.comments"))}),(0,r.jsx)(K.Z,{size:"small",startIcon:(0,r.jsx)(H.JO,{icon:"mdi:comment"}),variant:"outlined",disabled:!P,onClick:()=>x(!0),children:String(i("tasks.view.actions.addComment"))})]})]}),(0,r.jsxs)(Y.Z,{open:m,onClose:_?void 0:()=>x(!1),fullWidth:!0,maxWidth:"sm",children:[(0,r.jsxs)($.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(H.JO,{icon:"mdi:comment"}),String(i("tasks.view.actions.commentDialog.title",{target:M}))]}),(0,r.jsx)(U.Z,{children:(0,r.jsx)(ee.Z,{autoFocus:!0,fullWidth:!0,minRows:4,multiline:!0,label:String(i("tasks.view.actions.commentDialog.messageLabel")),placeholder:String(i("tasks.view.actions.commentDialog.messagePlaceholder")),value:y,onChange:e=>b(e.target.value),disabled:_,sx:{mt:1}})}),(0,r.jsxs)(X.Z,{children:[(0,r.jsx)(K.Z,{variant:"text",color:"secondary",disabled:_,onClick:()=>{x(!1),z()},children:String(i("common.cancel"))}),(0,r.jsx)(K.Z,{variant:"contained",disabled:_,onClick:q,children:String(i("common.send"))})]})]}),(0,r.jsxs)(Y.Z,{open:j,onClose:_?void 0:()=>Z(!1),fullWidth:!0,maxWidth:"sm",children:[(0,r.jsxs)($.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(H.JO,{icon:"mdi:paperclip"}),String(i("tasks.view.actions.attachmentDialog.title",{target:M}))]}),(0,r.jsx)(U.Z,{children:(0,r.jsxs)(d.Z,{spacing:2,sx:{mt:1},children:[(0,r.jsx)(ee.Z,{fullWidth:!0,label:String(i("tasks.view.actions.attachmentDialog.titleLabel")),value:w,onChange:e=>k(e.target.value),disabled:_}),(0,r.jsxs)(K.Z,{component:"label",variant:"outlined",disabled:_,startIcon:(0,r.jsx)(H.JO,{icon:"mdi:file-upload"}),children:[String(i("tasks.view.actions.attachmentDialog.chooseFile")),(0,r.jsx)("input",{hidden:!0,type:"file",onChange:e=>{var t;return S((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),f?(0,r.jsx)(d.Z,{direction:"row",spacing:1,alignItems:"center",children:(0,r.jsx)(p.Z,{icon:(0,r.jsx)(H.JO,{icon:"mdi:file"}),label:f.name,variant:"outlined",onDelete:_?void 0:()=>S(null)})}):null]})}),(0,r.jsxs)(X.Z,{children:[(0,r.jsx)(K.Z,{variant:"text",color:"secondary",disabled:_,onClick:()=>{Z(!1),D()},children:String(i("common.cancel"))}),(0,r.jsx)(K.Z,{variant:"contained",disabled:_,onClick:A,children:String(i("tasks.view.actions.attachmentDialog.attach"))})]})]})]})})},er=a(77527),en=a(36599),ei=a(87413),es=a(9601),el=a(72162),eo=a(17494),ec=a(51221);let ed=(0,er.ZP)(en.Z)({"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}),eu=e=>{switch(e){case"assigned":case"status_changed":return"info";case"part_created":case"task_created":return"primary";case"commented":case"file_added":case"part_returned":case"task_returned":return"warning";case"part_completed":case"task_completed":return"success";case"part_cancelled":case"task_cancelled":return"error";default:return"grey"}};function ep(e){let{id:t}=e,{t:a}=(0,I.$G)(),{data:n=[],isLoading:i}=(0,P.a)({queryKey:["task-events",t],queryFn:async()=>{var e;return(null===(e=(await g.Do.get(h.Z.taskEvent,{task:t,perPage:50})).data)||void 0===e?void 0:e.results)||[]},staleTime:1e4});return(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{variant:"subtitle2",sx:{mb:2},children:String(a("tasks.view.history.title"))}),i?(0,r.jsxs)(d.Z,{spacing:2,children:[(0,r.jsx)(C.Z,{variant:"text",width:"40%"}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}})]}):n.length?(0,r.jsx)(ed,{children:n.map(e=>{var t;return(0,r.jsxs)(ei.Z,{children:[(0,r.jsxs)(es.Z,{children:[(0,r.jsx)(eo.Z,{color:eu(e.event_type),variant:"outlined"}),(0,r.jsx)(ec.Z,{})]}),(0,r.jsx)(el.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:(0,r.jsxs)(s.Z,{sx:{mb:1.5,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(u.Z,{variant:"subtitle1",sx:{mr:2},children:[(null===(t=e.actor_detail)||void 0===t?void 0:t.fullname)||"—"," — ",e.message||e.event_type]}),(0,r.jsx)(u.Z,{variant:"caption",sx:{color:"text.disabled"},children:e.created_time?new Date(e.created_time).toLocaleString():""})]})})]},e.id)})}):(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(a("tasks.view.history.empty"))})]})})}var em=a(89540),ex=a(69447),eh=a(54560);let eg=(0,er.ZP)(en.Z)(e=>{let{theme:t}=e;return{"& .MuiTimelineItem-root:nth-of-type(even) .MuiTimelineContent-root":{textAlign:"left"},[t.breakpoints.down("md")]:{"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}}}),ej=e=>{switch(e){case"assigned":case"status_changed":return"info";case"part_created":case"task_created":return"primary";case"commented":case"file_added":case"part_returned":case"task_returned":return"warning";case"part_completed":case"task_completed":return"success";case"part_cancelled":case"task_cancelled":return"error";default:return"grey"}},ev=e=>{switch(e){case"assigned":return"tabler:user-check";case"part_created":return"tabler:subtask";case"file_added":return"tabler:paperclip";case"commented":return"tabler:message-circle";case"task_created":return"tabler:file-plus";case"status_changed":return"tabler:refresh";case"part_completed":case"task_completed":return"tabler:circle-check";case"part_returned":case"task_returned":return"tabler:arrow-back-up";case"part_cancelled":case"task_cancelled":return"tabler:circle-x";default:return"tabler:info-circle"}};var eZ=e=>{let{id:t}=e,{t:a}=(0,I.$G)(),{data:n=[],isLoading:i}=(0,P.a)({queryKey:["task-events",t],queryFn:async()=>{var e;return(null===(e=(await g.Do.get(h.Z.taskEvent,{task:t,perPage:50})).data)||void 0===e?void 0:e.results)||[]},staleTime:1e4}),{settings:l}=(0,eh.r)(),m=(0,em.Z)(e=>e.breakpoints.down("md")),{direction:x}=l;return i?(0,r.jsxs)(d.Z,{spacing:2,children:[(0,r.jsx)(C.Z,{variant:"text",width:"40%"}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}}),(0,r.jsx)(C.Z,{variant:"rectangular",height:64,sx:{borderRadius:2}})]}):(0,r.jsx)(o.Z,{children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(eg,{position:m?"right":"alternate",children:n.length?n.map((e,t)=>{var a,n,i,l,o,c,m;let x=ev(e.event_type),h=ej(e.event_type),g=(null===(a=e.actor_detail)||void 0===a?void 0:a.fullname)||"—",j=e.message||e.event_type,v=e.created_time?new Date(e.created_time).toLocaleString():"";return(0,r.jsxs)(ei.Z,{children:[(0,r.jsxs)(es.Z,{children:[(0,r.jsx)(ex.Z,{skin:"light",color:h,children:(0,r.jsx)(_.Z,{icon:x,fontSize:20})}),(0,r.jsx)(ec.Z,{})]}),(0,r.jsxs)(el.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:1}},children:[(0,r.jsxs)(s.Z,{sx:{mb:1,display:"flex",gap:2,flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(u.Z,{variant:"subtitle1",sx:{mr:2},children:[g," — ",j]}),(0,r.jsx)(u.Z,{variant:"caption",sx:{color:"text.disabled"},children:v})]}),(0,r.jsxs)(d.Z,{direction:"row",spacing:1,sx:{flexWrap:"wrap",rowGap:1},children:[(null===(n=e.part_detail)||void 0===n?void 0:n.title)?(0,r.jsx)(p.Z,{size:"small",label:"Qism: ".concat(e.part_detail.title)}):null,(null===(l=e.part_detail)||void 0===l?void 0:null===(i=l.department_detail)||void 0===i?void 0:i.name)?(0,r.jsx)(p.Z,{size:"small",label:"Bo'lim: ".concat(e.part_detail.department_detail.name)}):null,(null===(c=e.part_detail)||void 0===c?void 0:null===(o=c.assignee_detail)||void 0===o?void 0:o.fullname)?(0,r.jsx)(p.Z,{size:"small",label:"Ijrochi: ".concat(e.part_detail.assignee_detail.fullname)}):null,null]})]})]},null!==(m=e.id)&&void 0!==m?m:t)}):(0,r.jsx)(s.Z,{sx:{py:2},children:(0,r.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:String(a("tasks.view.process.empty"))})})})})})},ey=()=>{let{t:e}=(0,I.$G)(),{id:t}=(0,i.useRouter)().query,[a,j]=(0,n.useState)(0),[v,Z]=(0,n.useState)(),[y,b]=(0,n.useState)(void 0);(0,n.useEffect)(()=>{!t||Array.isArray(t)||(async()=>{try{let e=await g.Do.get(h.Z.taskById(t));Z(e.data)}catch(e){console.error("Failed to fetch task",e)}})()},[t]);let{data:w}=(0,P.a)({queryKey:["task-part",y],enabled:!!y,queryFn:async()=>(await g.Do.get(h.Z.taskPartById(y))).data});return(0,r.jsx)(s.Z,{sx:{p:4},children:(0,r.jsxs)(l.ZP,{container:!0,spacing:4,children:[(0,r.jsxs)(l.ZP,{item:!0,xs:12,md:8,lg:9,children:[(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(u.Z,{variant:"h6",children:v?String(e("tasks.view.header.titleWithId",{id:v.id,name:v.name})):String(e("tasks.view.header.title"))}),(0,r.jsxs)(d.Z,{direction:"row",spacing:1,children:[(0,r.jsx)(p.Z,{label:String(e("tasks.view.header.status",{value:(null==v?void 0:v.status)||"—"})),size:"small"}),(0,r.jsx)(p.Z,{label:String(e("tasks.view.header.priority",{value:(null==v?void 0:v.priority)||"—"})),size:"small"}),(null==v?void 0:v.end_date)&&(0,r.jsx)(p.Z,{label:String(e("tasks.view.header.deadline",{value:v.end_date})),size:"small"})]})]}),(0,r.jsxs)(m.Z,{value:a,onChange:(e,t)=>j(t),sx:{mt:2},variant:"scrollable",scrollButtons:"auto",children:[(0,r.jsx)(x.Z,{label:String(e("tasks.view.tabs.document"))}),(0,r.jsx)(x.Z,{label:String(e("tasks.view.tabs.history"))}),(0,r.jsx)(x.Z,{label:String(e("tasks.view.tabs.process"))})]})]})}),(0,r.jsxs)(s.Z,{sx:{mt:3},children:[0===a&&(0,r.jsx)(N,{task:v,selectedPartId:null!=y?y:void 0,setSelectedPartId:b}),1===a&&(0,r.jsx)(ep,{id:t}),2===a&&(0,r.jsx)(eZ,{id:t})]})]}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:4,lg:3,children:(0,r.jsx)(ea,{task:v,part:w})})]})})};function eb(){return(0,r.jsx)(ey,{})}}},function(e){e.O(0,[4885,2712,1440,3035,8833,8637,2888,9774,179],function(){return e(e.s=94487)}),_N_E=e.O()}]);
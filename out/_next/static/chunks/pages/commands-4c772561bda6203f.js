(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9941],{51128:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/commands",function(){return a(75406)}])},34375:function(e,t,a){"use strict";a.d(t,{Z:function(){return I}});var n=a(63366),o=a(87462),r=a(67294),i=a(86010),c=a(94780),l=a(96788),d=a(29567),s=a(77527),m=a(1588),u=a(34867);function p(e){return(0,u.Z)("MuiCardHeader",e)}let y=(0,m.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var g=a(85893);let f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=e=>{let{classes:t}=e;return(0,c.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,t)},h=(0,s.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,o.Z)({["& .".concat(y.title)]:t.title,["& .".concat(y.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),b=(0,s.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),x=(0,s.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),j=(0,s.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var I=r.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:r,avatar:c,className:s,component:m="div",disableTypography:u=!1,subheader:p,subheaderTypographyProps:y,title:I,titleTypographyProps:w}=a,Z=(0,n.Z)(a,f),k=(0,o.Z)({},a,{component:m,disableTypography:u}),B=v(k),S=I;null==S||S.type===l.Z||u||(S=(0,g.jsx)(l.Z,(0,o.Z)({variant:c?"body2":"h5",className:B.title,component:"span",display:"block"},w,{children:S})));let C=p;return null==C||C.type===l.Z||u||(C=(0,g.jsx)(l.Z,(0,o.Z)({variant:c?"body2":"body1",className:B.subheader,color:"text.secondary",component:"span",display:"block"},y,{children:C}))),(0,g.jsxs)(h,(0,o.Z)({className:(0,i.Z)(B.root,s),as:m,ref:t,ownerState:k},Z,{children:[c&&(0,g.jsx)(b,{className:B.avatar,ownerState:k,children:c}),(0,g.jsxs)(j,{className:B.content,ownerState:k,children:[S,C]}),r&&(0,g.jsx)(x,{className:B.action,ownerState:k,children:r})]}))})},82071:function(e,t,a){"use strict";a.d(t,{x:function(){return n}});let n=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:t=>{let{from:a,to:n,count:o}=t;return"".concat(a,"â€“").concat(n," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==o?o:">".concat(n))}}})},74538:function(e,t){"use strict";let a=e=>Array.isArray(e)?e[0]:null==e?"":String(e);t.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(a(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(a(e),"/"),region:"/region/",regionById:e=>"/region/".concat(a(e),"/"),countryById:e=>"/country/".concat(a(e),"/"),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(a(e)),industries:"/industry",industryById:e=>"/industry/".concat(a(e)),industryFields:"/industry/fields",users:"/user",userById:e=>"/user/".concat(a(e)),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(a(e)),services:"/service",serviceById:e=>"/service/".concat(a(e)),partners:"/partner",partnerById:e=>"/partner/".concat(a(e)),company:"/company/",companyById:e=>"/company/".concat(a(e)),replyLetter:"/reply-letter/",replyLetterById:e=>"/reply-letter/".concat(a(e)),replyLetterFile:"/reply-letter-file/",replyLetterFileById:e=>"/reply-letter-file/".concat(a(e)),documents:"/documents/",documentById:e=>"/documents/".concat(a(e)),documentForm:"/document-form/",documentFormById:e=>"/document-form/".concat(a(e)),listOfMagazine:"/list-of-magazine/",listOfMagazineById:e=>"/list-of-magazine/".concat(a(e)),task:"/task/",taskById:e=>"/task/".concat(a(e)),taskPart:"/task-part/",taskPartById:e=>"/task-part/".concat(a(e)),taskEvent:"/task-event/",taskEventById:e=>"/task-event/".concat(a(e)),taskComment:"/task-comment/",taskCommentById:e=>"/task-comment/".concat(a(e)),taskAttachment:"/task-attachment/",taskAttachmentById:e=>"/task-attachment/".concat(a(e)),department:"/department/",departmentById:e=>"/department/".concat(a(e)),position:"/position/",positionById:e=>"/position/".concat(a(e)),projects:"/project",projectById:e=>"/project/".concat(a(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(a(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(a(e)),stats:"/stats",statById:e=>"/stats/".concat(a(e)),faqs:"/faq",faqById:e=>"/faq/".concat(a(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(a(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(a(e)),news:"/news-post",newsById:e=>"/news-post/".concat(a(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(a(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(a(e)),applicationApprovedByID:e=>"/application-approved/".concat(a(e)),limitData:"/limit-data"}},33251:function(e,t,a){"use strict";a.d(t,{z:function(){return i}});var n=a(30202),o=a(33934),r=a(52293);let i=function(e){var t,a;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,n.NL)(),l=["list",e,i],d=Object.fromEntries(Object.entries(i).filter(e=>{let[,t]=e;return void 0!==t})),{data:s,isLoading:m,error:u}=(0,o.a)({queryKey:l,queryFn:async()=>{var t,a,n;let o=(await r.Do.get(e,d)).data,i=Array.isArray(o)?o:null!==(a=null==o?void 0:o.results)&&void 0!==a?a:[],c=Array.isArray(o)?i.length:null!==(n=null==o?void 0:null===(t=o.pagination)||void 0===t?void 0:t.total)&&void 0!==n?n:i.length;return{items:i,total:c}},staleTime:3e4});return{data:null!==(t=null==s?void 0:s.items)&&void 0!==t?t:[],total:null!==(a=null==s?void 0:s.total)&&void 0!==a?a:0,loading:m,error:u,mutate:()=>{c.invalidateQueries({queryKey:l})}}}},75406:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var n=a(85893),o=a(67294),r=a(52857),i=a(60762),c=a(34375),l=a(51015),d=a(28634),s=a(75673),m=a(74538),u=a(33251),p=a(52293),y=a(86501),g=a(33453),f=a(92365),v=a(40110),h=a(96727),b=a(96788),x=a(22120),j=e=>{let{open:t,onClose:a,onConfirm:o,confirming:r,title:i,description:c}=e,{t:d}=(0,x.$G)();return(0,n.jsxs)(g.Z,{open:t,onClose:r?void 0:a,fullWidth:!0,maxWidth:"xs",children:[(0,n.jsx)(f.Z,{children:i||String(d("common.deleteConfirmTitle"))}),(0,n.jsx)(v.Z,{children:(0,n.jsx)(b.Z,{variant:"body2",children:c||String(d("common.deleteConfirmDescription"))})}),(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(l.Z,{variant:"tonal",color:"secondary",onClick:a,disabled:!!r,children:String(d("common.cancel"))}),(0,n.jsx)(l.Z,{color:"error",onClick:()=>o(),disabled:!!r,children:r?String(d("common.deleting")):String(d("common.delete"))})]})]})},I=a(11163),w=a(30381),Z=a.n(w),k=a(82071),B=a(34273),S=()=>{var e;let t=(0,I.useRouter)(),{t:a}=(0,x.$G)(),{user:g}=(0,B.a)(),[f,v]=(0,o.useState)({page:0,pageSize:10}),{data:h=[],loading:b,mutate:w}=(0,u.z)(m.Z.command,{page:f.page+1,perPage:f.pageSize}),[S,C]=(0,o.useState)(null),[P,_]=(0,o.useState)(!1),N=e=>{t.push("/commands/".concat(e.id))},R=e=>{C(e),_(!0)},M=async()=>{S&&(await p.Do.delete(m.Z.commandById(S.id)),w(),_(!1),y.ZP.success(String(a("commands.toast.deleted"))))},q=[{field:"command_number",headerName:String(a("commands.table.number")),flex:.18,minWidth:160},{field:"basis",headerName:String(a("commands.table.basis")),flex:.3,minWidth:240},{field:"comment",headerName:String(a("commands.table.comment")),flex:.25,minWidth:200},{field:"company_detail",headerName:String(a("commands.table.company")),flex:.18,minWidth:160,valueGetter:e=>e.row.company_detail?e.row.company_detail.name:""},{field:"created_time",headerName:String(a("commands.table.createdAt")),flex:.2,minWidth:180,valueGetter:e=>e.row.created_time?Z()(e.row.created_time).format("YYYY-MM-DD HH:mm"):""},{field:"actions",headerName:String(a("common.actions")),flex:.18,minWidth:160,sortable:!1,renderCell:e=>{var t;let a=e.row;return(0,n.jsx)(n.Fragment,{children:(null==g?void 0:null===(t=g.role_detail)||void 0===t?void 0:t.some(e=>"Performer"!==e.name))&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{size:"small","aria-label":"edit",onClick:()=>N(a),children:(0,n.jsx)(s.Z,{icon:"tabler:edit"})}),(0,n.jsx)(r.Z,{size:"small","aria-label":"delete",color:"error",onClick:()=>R(a),children:(0,n.jsx)(s.Z,{icon:"tabler:trash"})})]})})}}];return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(c.Z,{title:String(a("commands.title")),action:(null==g?void 0:null===(e=g.role_detail)||void 0===e?void 0:e.some(e=>"Performer"!==e.name))&&(0,n.jsx)(l.Z,{variant:"contained",onClick:()=>t.push("/commands/create"),children:String(a("commands.create.title"))})}),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d._,{autoHeight:!0,rowHeight:56,rows:h,columns:q,loading:b,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:f,onPaginationModelChange:v,getRowId:e=>e.id,localeText:(0,k.x)(a)})}),(0,n.jsx)(j,{open:P,onClose:()=>_(!1),onConfirm:M,title:String(a("commands.deleteConfirm.title")),description:S?"ID: ".concat(S.id):void 0})]})};let C=()=>(0,n.jsx)(S,{});C.acl={action:"read",subject:"cms"},C.authGuard=!0;var P=C}},function(e){e.O(0,[4885,2785,9084,8634,2888,9774,179],function(){return e(e.s=51128)}),_N_E=e.O()}]);
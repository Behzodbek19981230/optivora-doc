(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6263],{50811:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list-of-magazine",function(){return i(17836)}])},17836:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return k}});var r=i(85893),a=i(67294),l=i(84166),t=i(21038),s=i(52857),d=i(60762),o=i(34375),c=i(73907),u=i(22057),m=i(74538),h=i(33251),x=i(75673),j=i(52293),Z=i(58898),f=i(33453),g=i(92365),p=i(40110),_=i(68573),N=i(96727),w=i(87536),z=i(7879);let C={name:"",name_en:"",name_uz:"",name_ru:""};var b=e=>{let{open:n,item:i,onClose:l,onSaved:t}=e,s=(0,Z.Z)(),{control:d,handleSubmit:o,reset:u}=(0,w.cI)({defaultValues:C});(0,a.useEffect)(()=>{i?u(i):u(C)},[i,u]);let h=async e=>{try{(null==i?void 0:i.id)?(await j.Do.put(m.Z.listOfMagazineById(i.id),e),s.success("Updated")):(await j.Do.post(m.Z.listOfMagazine,e),s.success("Created")),t()}catch(e){s.error((null==e?void 0:e.message)||"Error")}};return(0,r.jsxs)(f.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:l,children:[(0,r.jsx)(g.Z,{children:i?"Jurnalni tahrirlash":"Yangi jurnal"}),(0,r.jsxs)("form",{onSubmit:o(h),children:[(0,r.jsx)(p.Z,{children:(0,r.jsxs)(_.ZP,{container:!0,spacing:4,children:[(0,r.jsx)(_.ZP,{item:!0,xs:12,children:(0,r.jsx)(w.Qr,{name:"name",control:d,rules:{required:!0},render:e=>{let{field:n}=e;return(0,r.jsx)(z.Z,{fullWidth:!0,label:"Name",...n})}})}),(0,r.jsx)(_.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(w.Qr,{name:"name_en",control:d,rules:{required:!0},render:e=>{let{field:n}=e;return(0,r.jsx)(z.Z,{fullWidth:!0,label:"Name (EN)",...n})}})}),(0,r.jsx)(_.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(w.Qr,{name:"name_uz",control:d,rules:{required:!0},render:e=>{let{field:n}=e;return(0,r.jsx)(z.Z,{fullWidth:!0,label:"Name (UZ)",...n})}})}),(0,r.jsx)(_.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(w.Qr,{name:"name_ru",control:d,rules:{required:!0},render:e=>{let{field:n}=e;return(0,r.jsx)(z.Z,{fullWidth:!0,label:"Name (RU)",...n})}})})]})}),(0,r.jsxs)(N.Z,{children:[(0,r.jsx)(c.Z,{variant:"outlined",onClick:l,children:"Bekor qilish"}),(0,r.jsx)(c.Z,{variant:"contained",type:"submit",children:"Saqlash"})]})]})]})},W=()=>{let e=(0,Z.Z)(),[n,i]=(0,a.useState)({page:0,pageSize:10}),[f,g]=(0,a.useState)(!1),[p,_]=(0,a.useState)(null),{data:N=[],total:w,loading:z,mutate:C}=(0,h.z)(m.Z.listOfMagazine,{page:n.page+1,perPage:n.pageSize});return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(o.Z,{title:"Jurnallar roÊ»yxati",action:(0,r.jsx)(c.Z,{variant:"contained",onClick:()=>{_(null),g(!0)},children:"Yaratish"})}),(0,r.jsx)(u._,{autoHeight:!0,rowHeight:56,rows:N,columns:[{field:"name",headerName:"Name",flex:.25,minWidth:160},{field:"name_en",headerName:"Name (EN)",flex:.2,minWidth:140},{field:"name_uz",headerName:"Name (UZ)",flex:.2,minWidth:140},{field:"name_ru",headerName:"Name (RU)",flex:.2,minWidth:140},{field:"actions",headerName:"Actions",flex:.15,minWidth:130,sortable:!1,renderCell:n=>{let i=n.row;return(0,r.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,r.jsx)(t.Z,{title:"Edit",children:(0,r.jsx)(s.Z,{size:"small",onClick:()=>{_(i),g(!0)},children:(0,r.jsx)(x.Z,{icon:"tabler:edit"})})}),(0,r.jsx)(t.Z,{title:"Delete",children:(0,r.jsx)(s.Z,{size:"small",color:"error",onClick:async()=>{await j.Do.delete(m.Z.listOfMagazineById(i.id)),e.success("Deleted"),C()},children:(0,r.jsx)(x.Z,{icon:"tabler:trash"})})})]})}}],loading:z,rowCount:w,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:i,getRowId:e=>e.id}),(0,r.jsx)(b,{open:f,item:p,onClose:()=>g(!1),onSaved:()=>{g(!1),C()}})]})},k=()=>(0,r.jsx)(W,{})}},function(e){e.O(0,[9674,7536,2057,3934,5698,2888,9774,179],function(){return e(e.s=50811)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4844],{63577:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/calendar",function(){return o(11488)}])},74538:function(e,t){"use strict";let o=e=>Array.isArray(e)?e[0]:null==e?"":String(e);t.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(o(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(o(e)),region:"/region/",regionById:e=>"/region/".concat(o(e)),countryById:e=>"/country/".concat(o(e)),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(o(e)),industries:"/industry",industryById:e=>"/industry/".concat(o(e)),industryFields:"/industry/fields",users:"/user",userById:e=>"/user/".concat(o(e)),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(o(e)),services:"/service",serviceById:e=>"/service/".concat(o(e)),partners:"/partner",partnerById:e=>"/partner/".concat(o(e)),company:"/company/",companyById:e=>"/company/".concat(o(e)),replyLetter:"/reply-letter/",replyLetterById:e=>"/reply-letter/".concat(o(e)),replyLetterFile:"/reply-letter-file/",replyLetterFileById:e=>"/reply-letter-file/".concat(o(e)),documents:"/documents/",documentById:e=>"/documents/".concat(o(e)),documentForm:"/document-form/",documentFormById:e=>"/document-form/".concat(o(e)),listOfMagazine:"/list-of-magazine/",listOfMagazineById:e=>"/list-of-magazine/".concat(o(e)),task:"/task/",taskById:e=>"/task/".concat(o(e)),taskPart:"/task-part/",taskPartById:e=>"/task-part/".concat(o(e)),taskEvent:"/task-event/",taskEventById:e=>"/task-event/".concat(o(e)),taskComment:"/task-comment/",taskCommentById:e=>"/task-comment/".concat(o(e)),taskAttachment:"/task-attachment/",taskAttachmentById:e=>"/task-attachment/".concat(o(e)),department:"/department/",departmentById:e=>"/department/".concat(o(e)),position:"/position/",positionById:e=>"/position/".concat(o(e)),projects:"/project",projectById:e=>"/project/".concat(o(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(o(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(o(e)),stats:"/stats",statById:e=>"/stats/".concat(o(e)),faqs:"/faq",faqById:e=>"/faq/".concat(o(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(o(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(o(e)),news:"/news-post",newsById:e=>"/news-post/".concat(o(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(o(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(o(e)),applicationApprovedByID:e=>"/application-approved/".concat(o(e)),limitData:"/limit-data"}},11488:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return T}});var n=o(85893),r=o(67294),a=o(90642),l=o(89540),i=o(54560),d=o(77527),c=o(2339),s=o(17643);let u=(0,d.ZP)(a.Z)(e=>{let{theme:t}=e,o=(0,c.Z)();return{display:"flex",position:"relative",borderRadius:t.shape.borderRadius,"& .fc":{zIndex:1,".fc-col-header, .fc-daygrid-body, .fc-scrollgrid-sync-table, .fc-timegrid-body, .fc-timegrid-body table":{width:"100% !important"},"& .fc-toolbar":{flexWrap:"wrap",flexDirection:"row !important","&.fc-header-toolbar":{marginBottom:t.spacing(6)},".fc-prev-button, & .fc-next-button":{display:"inline-block",borderColor:"transparent",backgroundColor:"transparent","& .fc-icon":{color:t.palette.text.secondary,fontSize:t.typography.h4.fontSize},"&:hover, &:active, &:focus":{boxShadow:"none !important",borderColor:"transparent !important",backgroundColor:"transparent !important"}},"& .fc-prev-button":{paddingLeft:"0 !important",marginRight:t.spacing(1.5)},"& .fc-toolbar-chunk:first-of-type":{display:"flex",flexWrap:"wrap",alignItems:"center",[t.breakpoints.down("md")]:{"& div:first-of-type":{display:"flex",alignItems:"center"}}},"& .fc-button":{padding:t.spacing(),"&:active, .&:focus":{boxShadow:"none"}},"& .fc-button-group":{"& .fc-button":{textTransform:"capitalize","&:focus":{boxShadow:"none"}},"& .fc-button-primary":{"&:not(.fc-prev-button):not(.fc-next-button):not(.fc-sidebarToggle-button)":{border:0,color:t.palette.primary.main,padding:t.spacing(1.94,5.08),backgroundColor:(0,s.E)(t.palette.primary.main,.16),"&.fc-button-active, &:hover":{backgroundColor:(0,s.E)(t.palette.primary.main,.24)}}},"& .fc-sidebarToggle-button":{border:0,lineHeight:.8,borderColor:"transparent",paddingBottom:"0 !important",backgroundColor:"transparent",color:t.palette.text.secondary,marginLeft:"".concat(t.spacing(-2)," !important"),padding:"".concat(t.spacing(1.275,2)," !important"),"&:focus":{outline:0,boxShadow:"none"},"&:not(.fc-prev-button):not(.fc-next-button):hover":{backgroundColor:"transparent !important"},"& + div":{marginLeft:0}},".fc-dayGridMonth-button, .fc-timeGridWeek-button, .fc-timeGridDay-button, & .fc-listMonth-button":{padding:t.spacing(2.2,6),"&:last-of-type, &:first-of-type":{borderRadius:t.shape.borderRadius},"&:first-of-type":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-of-type":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},"& > * > :not(:first-of-type)":{marginLeft:0},"& .fc-toolbar-title":{...t.typography.h5,marginRight:t.spacing(4),marginLeft:t.spacing(2.5)},".fc-button:empty:not(.fc-sidebarToggle-button), & .fc-toolbar-chunk:empty":{display:"none"}},"& tbody td, & thead th":{borderColor:t.palette.divider,"&.fc-col-header-cell":{borderLeft:0},'&[role="presentation"]':{borderRightWidth:0}},"& .fc-event":{"&:not(.fc-list-event)":{"&.bg-primary":{borderColor:"transparent",color:t.palette.primary.main,backgroundColor:o.primaryLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.primary.main}},"&.bg-success":{borderColor:"transparent",color:t.palette.success.main,backgroundColor:o.successLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.success.main}},"&.bg-error":{borderColor:"transparent",color:t.palette.error.main,backgroundColor:o.errorLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.error.main}},"&.bg-warning":{borderColor:"transparent",color:t.palette.warning.main,backgroundColor:o.warningLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.warning.main}},"&.bg-info":{borderColor:"transparent",color:t.palette.info.main,backgroundColor:o.infoLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.info.main}}},"&.bg-primary":{"& .fc-list-event-dot":{borderColor:t.palette.primary.main,backgroundColor:t.palette.primary.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.primary.light,.1)}},"&.bg-success":{"& .fc-list-event-dot":{borderColor:t.palette.success.main,backgroundColor:t.palette.success.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.success.light,.1)}},"&.bg-error":{"& .fc-list-event-dot":{borderColor:t.palette.error.main,backgroundColor:t.palette.error.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.error.light,.1)}},"&.bg-warning":{"& .fc-list-event-dot":{borderColor:t.palette.warning.main,backgroundColor:t.palette.warning.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.warning.light,.1)}},"&.bg-info":{"& .fc-list-event-dot":{borderColor:t.palette.info.main,backgroundColor:t.palette.info.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.info.light,.1)}},"&.fc-daygrid-event":{marginLeft:"4px",marginRight:"4px"}},"& .fc-view-harness":{minHeight:"650px",margin:t.spacing(0,-6),width:"calc(100% + ".concat(t.spacing(12),")")},"& .fc-col-header":{"& .fc-col-header-cell":{fontWeight:500,color:t.palette.text.secondary,fontSize:t.typography.body1.fontSize,"& .fc-col-header-cell-cushion":{padding:t.spacing(.5,2),textDecoration:"none !important"}}},"& .fc-scrollgrid-section-liquid > td":{borderBottom:0},"& .fc-daygrid-event-harness":{"& .fc-event":{marginTop:0,fontWeight:500,marginBottom:0,borderRadius:4,padding:t.spacing(.4,2),fontSize:t.typography.body2.fontSize},"&:not(:last-of-type)":{marginBottom:t.spacing(2)}},"& .fc-daygrid-day-bottom":{marginTop:t.spacing(1.2)},"& .fc-daygrid-day":{padding:"5px","& .fc-daygrid-day-top":{flexDirection:"row"}},"& .fc-scrollgrid":{borderLeftWidth:0,borderColor:t.palette.divider},"& .fc-day-past, & .fc-day-future":{"&.fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc-daygrid-day-number":{marginBottom:t.spacing(1.5),padding:t.spacing(0,1.5)},"& .fc-daygrid-day-number, & .fc-timegrid-slot-label-cushion, & .fc-list-event-time":{textDecoration:"none !important",color:"".concat(t.palette.text.secondary," !important")},"& .fc-day-today:not(.fc-popover):not(.fc-col-header-cell)":{backgroundColor:t.palette.action.selected},"& .fc-timegrid":{"& .fc-scrollgrid-section":{height:0,"& .fc-col-header-cell, & .fc-timegrid-axis":{borderLeft:0,borderColor:t.palette.divider},"& .fc-timegrid-axis":{borderColor:t.palette.divider}},"& .fc-timegrid-axis":{"&.fc-scrollgrid-shrink":{"& .fc-timegrid-axis-cushion":{textTransform:"lowercase",color:t.palette.text.disabled,fontSize:t.typography.h6.fontSize}}},"& .fc-timegrid-slots":{"& .fc-timegrid-slot":{height:"3rem",borderColor:t.palette.divider,"&.fc-timegrid-slot-label":{borderRight:0},"&.fc-timegrid-slot-lane":{borderLeft:0},"& .fc-timegrid-slot-label-frame":{textAlign:"center","& .fc-timegrid-slot-label-cushion":{textTransform:"lowercase",fontSize:t.typography.body2.fontSize,color:"".concat(t.palette.text.secondary," !important")}}}},"& .fc-timegrid-divider":{display:"none"},"& .fc-timegrid-event":{boxShadow:"none"}},"& .fc-list":{border:"none",'& th[colspan="3"]':{position:"relative"},"& .fc-list-table":{borderBottom:"1px solid ".concat(t.palette.divider),"& tr":{borderBottom:"1px solid ".concat(t.palette.divider),"&:first-of-type":{borderTop:"1px solid ".concat(t.palette.divider)},"& > *":{border:0}}},"& .fc-list-day-cushion":{background:t.palette.action.hover},".fc-list-event":{cursor:"pointer","&:hover":{"& td":{backgroundColor:t.palette.action.hover}},"& td":{borderColor:t.palette.divider}},"& .fc-list-day":{backgroundColor:t.palette.action.hover,"& .fc-list-day-text, & .fc-list-day-side-text":{textDecoration:"none",...t.typography.h6},"&  >  *":{background:"none",borderColor:t.palette.divider}},"& .fc-list-event-title":{display:"flex",paddingLeft:t.spacing(2.5),color:t.palette.text.secondary,fontSize:t.typography.body1.fontSize},"& .fc-list-event-time":{color:t.palette.text.disabled,fontSize:t.typography.body1.fontSize}},"& .fc-popover":{zIndex:20,boxShadow:1,borderColor:t.palette.divider,background:t.palette.background.paper,"& .fc-popover-header":{padding:t.spacing(2),background:t.palette.action.hover,"& .fc-popover-title, & .fc-popover-close":{color:t.palette.text.primary}},"& .fc-popover-body":{"& *:not(.fc-event-main):not(:last-of-type)":{marginBottom:t.spacing(1.2)}}},[t.breakpoints.up("md")]:{"& .fc-sidebarToggle-button":{display:"none"},"& .fc-toolbar-title":{marginLeft:0}},"@media (max-width:610px)":{"& .fc-header-toolbar .fc-toolbar-chunk:last-of-type":{marginTop:t.spacing(4)}}}}});var p=o(20281),g=o(18745),y=o(43907),m=o(17292),f=o(16993),v=o(61029),b=o(70125),h=o(39897);o(27121);var x=o(22120),k=o(52293),C=o(34273);let w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=[];for(let n=e-t;n<=e+t;n++)o.push(n);return o},S={en:["January","February","March","April","May","June","July","August","September","October","November","December"],ru:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],uz:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"]},E={title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:"",guests:[],location:"",description:""}};var B=e=>{let{i18n:t,t:o}=(0,x.$G)();(0,g.Z)();let{store:a,direction:l,updateEvent:i,calendarApi:d,calendarsColor:c,setCalendarApi:s,handleSelectEvent:u,handleLeftSidebarToggle:p,handleAddEventSidebarToggle:B,handleSelectDate:N}=e,I=(0,r.useRef)(null),{user:A}=(0,C.a)(),[F,L]=(0,r.useState)(()=>new Date().getFullYear()),[M,_]=(0,r.useState)(()=>new Date().getMonth()),[T,D]=(0,r.useState)(null),[R,j]=(0,r.useState)({}),[z,W]=(0,r.useState)(0),q=["new","in_progress","on_review","returned","done","cancelled"],O={new:"#FF9F43",in_progress:"#00CFE8",on_review:"#7367F0",returned:"#EA5455",done:"#28C76F",cancelled:"#82868B"};(0,r.useEffect)(()=>{if(d)try{var e;let t=null===(e=d.getDate)||void 0===e?void 0:e.call(d);t instanceof Date&&!Number.isNaN(t.getTime())&&(L(t.getFullYear()),_(t.getMonth()))}catch(e){}},[d]);let P=async(e,t)=>{try{var o,n,r,a,l,i,d,c;let s=await k.Do.post("task-calendar/stats/by-start-date/",{year:e,month:t+1,company:null==A?void 0:A.company_id,assignee_id:null==A?void 0:A.id}),u=null==s?void 0:s.data,p={},g=Array.isArray(null==u?void 0:u.by_start_date)?u.by_start_date:null;if(g){for(let e of g){let t=null==e?void 0:e.start_date,r=Number(null!==(o=null==e?void 0:e.total)&&void 0!==o?o:0);if("string"!=typeof t||!Number.isFinite(r))continue;let a={},l=null==e?void 0:e.by_status;if(l&&"object"==typeof l)for(let[e,t]of Object.entries(l)){let o=Number(null!==(n=null==t?void 0:t.count)&&void 0!==n?n:0);Number.isFinite(o)&&o>0&&(a[e]=o)}p[t]={total:r,byStatus:a}}j(p),W(e=>e+1);return}if(Array.isArray(u))for(let e of u){let t=(null==e?void 0:e.date)||(null==e?void 0:e.day)||(null==e?void 0:e.start_date),o=Number(null!==(l=null!==(a=null!==(r=null==e?void 0:e.count)&&void 0!==r?r:null==e?void 0:e.total)&&void 0!==a?a:null==e?void 0:e.value)&&void 0!==l?l:0);"string"==typeof t&&Number.isFinite(o)&&(p[t]={total:o})}else if(u&&"object"==typeof u){let e=Array.isArray(u.results)?u.results:null;if(e)for(let t of e){let e=(null==t?void 0:t.date)||(null==t?void 0:t.day)||(null==t?void 0:t.start_date),o=Number(null!==(c=null!==(d=null!==(i=null==t?void 0:t.count)&&void 0!==i?i:null==t?void 0:t.total)&&void 0!==d?d:null==t?void 0:t.value)&&void 0!==c?c:0);"string"==typeof e&&Number.isFinite(o)&&(p[e]={total:o})}else for(let[e,t]of Object.entries(u)){let o=Number(t);"string"==typeof e&&Number.isFinite(o)&&(p[e]={total:o})}}j(p),W(e=>e+1)}catch(e){j({}),W(e=>e+1)}},Z=()=>{var e,t,n,r,a,l,i;let d=null===(n=I.current)||void 0===n?void 0:null===(t=n.getApi)||void 0===t?void 0:null===(e=t.call(n))||void 0===e?void 0:e.el;d&&"dayGridMonth"===(null===(i=I.current)||void 0===i?void 0:null===(l=i.getApi)||void 0===l?void 0:null===(a=l.call(i))||void 0===a?void 0:null===(r=a.view)||void 0===r?void 0:r.type)&&d.querySelectorAll(".fc-daygrid-day").forEach(e=>{var t,n;let r=e.getAttribute("data-date");if(!r)return;let a=e.querySelector(".fc-daygrid-day-events")||e,l=a.querySelector('[data-task-stats-block="1"]');l&&l.remove();let i=null==R?void 0:R[r],d=Number(null!==(t=null==i?void 0:i.total)&&void 0!==t?t:0),c=(null==i?void 0:i.byStatus)||{},s=Object.values(c).some(e=>Number(e)>0);if(!(Number.isFinite(d)&&d>0||s))return;let u=document.createElement("div");u.setAttribute("data-task-stats-block","1"),u.style.display="flex",u.style.flexDirection="column",u.style.gap="4px";let p=(e,t,o)=>{let n=document.createElement("div");n.className="fc-daygrid-event fc-daygrid-block-event",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="space-between",n.style.padding="2px 6px",n.style.borderRadius="4px",n.style.fontSize="12px",n.style.lineHeight="16px";let r=document.createElement("span");if(r.style.display="inline-flex",r.style.alignItems="center",r.style.gap="6px",o){let e=document.createElement("span");e.style.width="8px",e.style.height="8px",e.style.borderRadius="999px",e.style.background=o,e.style.flex="0 0 auto",r.appendChild(e)}let a=document.createElement("span");a.textContent=e,r.appendChild(a);let l=document.createElement("span");return l.textContent=String(t),l.style.fontWeight="700",l.style.color=o||"inherit",n.appendChild(r),n.appendChild(l),n};Number.isFinite(d)&&d>0&&u.appendChild(p(String(o("calendar.stats.total")||"Total"),d,"rgba(115,103,240,0.95)"));let g={new:"documents.status.new",in_progress:"documents.status.inProgress",on_review:"documents.status.onReview",returned:"documents.status.returned",done:"documents.status.done",cancelled:"documents.status.cancelled"};for(let e of[...q,...Object.keys(c).filter(e=>!q.includes(e))]){let t=Number(null!==(n=c[e])&&void 0!==n?n:0);if(!Number.isFinite(t)||t<=0)continue;let r=g[e]?String(o(g[e])):e.replaceAll("_"," ");u.appendChild(p(r,t,O[e]||"#999"))}a.appendChild(u)})},G=()=>{var e,t,n,r,a,l,i;let d=null===(n=I.current)||void 0===n?void 0:null===(t=n.getApi)||void 0===t?void 0:null===(e=t.call(n))||void 0===e?void 0:e.el;d&&"listMonth"===(null===(i=I.current)||void 0===i?void 0:null===(l=i.getApi)||void 0===l?void 0:null===(a=l.call(i))||void 0===a?void 0:null===(r=a.view)||void 0===r?void 0:r.type)&&(d.querySelectorAll(".fc-list-event").forEach(e=>{e.style.display="none"}),d.querySelectorAll(".fc-list-day").forEach(e=>{var t,n;let r=e.getAttribute("data-date");if(!r)return;let a=d.querySelector('[data-task-stats-list="'.concat(r,'"]'));a&&a.remove();let l=null==R?void 0:R[r],i=Number(null!==(t=null==l?void 0:l.total)&&void 0!==t?t:0),c=(null==l?void 0:l.byStatus)||{};if(!(Number.isFinite(i)&&i>0||Object.values(c).some(e=>Number(e)>0)))return;let s=document.createElement("tr");s.setAttribute("data-task-stats-list",r),s.className="fc-list-event";let u=document.createElement("td");u.setAttribute("colspan","3"),u.style.padding="6px 10px";let p=document.createElement("div");p.style.display="flex",p.style.flexDirection="column",p.style.gap="6px";let g=(e,t,o)=>{let n=document.createElement("div");n.style.display="inline-flex",n.style.alignItems="center",n.style.justifyContent="space-between",n.style.gap="10px",n.style.padding="4px 10px",n.style.borderRadius="8px",n.style.background="rgba(0,0,0,0.04)";let r=document.createElement("span");if(r.style.display="inline-flex",r.style.alignItems="center",r.style.gap="8px",o){let e=document.createElement("span");e.style.width="8px",e.style.height="8px",e.style.borderRadius="999px",e.style.background=o,r.appendChild(e)}let a=document.createElement("span");a.textContent=e,r.appendChild(a);let l=document.createElement("span");return l.textContent=String(t),l.style.fontWeight="700",n.appendChild(r),n.appendChild(l),n};Number.isFinite(i)&&i>0&&p.appendChild(g(String(o("calendar.stats.total")||"Total"),i,"rgba(115,103,240,0.95)"));let y={new:"documents.status.new",in_progress:"documents.status.inProgress",on_review:"documents.status.onReview",returned:"documents.status.returned",done:"documents.status.done",cancelled:"documents.status.cancelled"};for(let e of[...q,...Object.keys(c).filter(e=>!q.includes(e))]){let t=Number(null!==(n=c[e])&&void 0!==n?n:0);if(!Number.isFinite(t)||t<=0)continue;let r=y[e]?String(o(y[e])):e.replaceAll("_"," ");p.appendChild(g(r,t,O[e]||"#999"))}u.appendChild(p),s.appendChild(u),e.insertAdjacentElement("afterend",s)}))},H=()=>{var e,t,o,n,r,a,l;let i=null===(o=I.current)||void 0===o?void 0:null===(t=o.getApi)||void 0===t?void 0:null===(e=t.call(o))||void 0===e?void 0:e.el;if(!i||"dayGridMonth"!==(null===(l=I.current)||void 0===l?void 0:null===(a=l.getApi)||void 0===a?void 0:null===(r=a.call(l))||void 0===r?void 0:null===(n=r.view)||void 0===n?void 0:n.type))return;let d=new Date().toISOString().slice(0,10);i.querySelectorAll(".fc-daygrid-day").forEach(e=>{let t=e.getAttribute("data-date");if(!t)return;e.style.cursor="pointer",e.style.background="",e.style.borderRadius="",e.style.boxShadow="";let o=T===t,n=d===t;(o||n)&&(n&&(e.style.background="rgb(98 0 238 / 10%)"),o&&(e.style.background="rgb(115 103 240 / 70%)"))})};(0,r.useEffect)(()=>{try{Z(),G(),H()}catch(e){}},[z,t.language,T]),(0,r.useEffect)(()=>{P(F,M)},[F,M]);let Y=S[(0,r.useMemo)(()=>{let e=(t.language||"ru").toLowerCase();return e.startsWith("uz")?"uz":e.startsWith("ru")?"ru":"en"},[t.language])],J=(e,t)=>{var o,n;L(e),_(t),null===(n=I.current)||void 0===n||null===(o=n.getApi())||void 0===o||o.gotoDate(new Date(e,t,1))};(0,r.useEffect)(()=>{var e,t,o;let n=null===(o=I.current)||void 0===o?void 0:null===(t=o.getApi)||void 0===t?void 0:null===(e=t.call(o))||void 0===e?void 0:e.el;if(!n)return;let r=n.querySelector(".fc-yearMonth-button");if(!r)return;r.classList.add("fc-button","fc-button-primary"),r.style.display="inline-flex",r.style.alignItems="center",r.style.background="transparent",r.style.gap="8px",r.style.padding="0";let a=r.querySelector(".fc-year-month-host");a?a.innerHTML="":(r.innerHTML="",(a=document.createElement("span")).className="fc-year-month-host",a.style.display="inline-flex",a.style.alignItems="center",a.style.gap="8px",a.style.padding="2px",r.appendChild(a));let l=()=>{let e=document.createElement("select");return e.className="fc-button fc-button-primary",e.style.height="32px",e.style.padding="0 10px",e.style.borderRadius="6px",e.style.cursor="pointer",e.style.appearance="none",e.style.maxWidth="140px",e},i=l(),d=l();for(let e of w(F,10)){let t=document.createElement("option");t.value=String(e),t.textContent=String(e),e===F&&(t.selected=!0),i.appendChild(t)}Y.forEach((e,t)=>{let o=document.createElement("option");o.value=String(t),o.textContent=e,t===M&&(o.selected=!0),d.appendChild(o)});let c=()=>{let e=Number(i.value);Number.isFinite(e)&&J(e,M)},s=()=>{let e=Number(d.value);Number.isFinite(e)&&J(F,e)};return i.addEventListener("change",c),d.addEventListener("change",s),a.appendChild(i),a.appendChild(d),()=>{i.removeEventListener("change",c),d.removeEventListener("change",s)}},[J,M,Y,F]);let K=(0,r.useMemo)(()=>{let e=(t.language||"ru").toLowerCase();return e.startsWith("ru")?"ru-RU":e.startsWith("uz")?"uz-UZ":"en-GB"},[t.language]),U=(0,r.useMemo)(()=>(t.language||"ru").toLowerCase().startsWith("uz")?{code:"uz",week:{dow:1,doy:4},buttonText:{prev:"Oldingi",next:"Keyingi",today:"Bugun",month:"Oy",week:"Hafta",day:"Kun",list:"Ro'yxat"},weekText:"Hafta",allDayText:"Butun kun",moreLinkText:"Yana +{{n}}",noEventsText:"Tadbirlar yo'q"}:K,[t.language,K]);if((0,r.useEffect)(()=>{if(null===d){var e;s(null===(e=I.current)||void 0===e?void 0:e.getApi())}},[d,s]),(0,r.useEffect)(()=>{if(d)try{d.setOption("locale",U)}catch(e){}},[d,U]),!a)return null;{let e={events:a.events.length?a.events:[],plugins:[h.ZP,f.Z,v.Z,m.Z,b.Z],initialView:"dayGridMonth",locales:"string"==typeof U?[]:[U],locale:U,headerToolbar:{start:"sidebarToggle, prev, next, title",end:"yearMonth, dayGridMonth,listMonth"},buttonText:{today:String(o("calendar.today")),month:String(o("calendar.month")),week:String(o("calendar.week")),day:String(o("calendar.day")),list:String(o("calendar.list"))},views:{},titleFormat:{year:"numeric",month:"long"},dayHeaderFormat:{weekday:"long"},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},datesSet(e){var t;let o=(null==e?void 0:null===(t=e.view)||void 0===t?void 0:t.currentStart)||(null==e?void 0:e.start);if(o instanceof Date&&!Number.isNaN(o.getTime())){let e=o.getFullYear(),t=o.getMonth();e!==F&&L(e),t!==M&&_(t)}try{Z(),G(),H()}catch(e){}},dayCellDidMount(){},eventDisplay:"auto",eventDidMount(e){var t,o;if((null==e?void 0:null===(t=e.view)||void 0===t?void 0:t.type)==="dayGridMonth"){let t=e.el;t&&(t.style.display="none")}if((null==e?void 0:null===(o=e.view)||void 0===o?void 0:o.type)==="listMonth"){let t=e.el;t&&(t.style.display="none")}},editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,eventClassNames(e){let{event:t}=e,o=c[t._def.extendedProps.calendar];return["bg-".concat(o)]},eventClick(e){var t,o;let{event:n}=e;"dayGridMonth"!==(null==n?void 0:null===(o=n._context)||void 0===o?void 0:null===(t=o.viewApi)||void 0===t?void 0:t.type)&&B()},customButtons:{sidebarToggle:{icon:"bi bi-list",click(){p()}},yearMonth:{text:"",click(){}}},dateClick(e){let t=null==e?void 0:e.dateStr;t&&(D(t),N(t));let o={...E};o.start=e.date,o.end=e.date,o.allDay=!0;try{H()}catch(e){}},eventDrop(e){let{event:t}=e},eventResize(e){let{event:t}=e},ref:I,direction:l};return(0,n.jsx)(y.Z,{...e},String(t.language))}},N=o(74538),I=o(28634);function A(e){let{data:t,loading:o,total:r,paginationModel:a,setPaginationModel:l}=e,{t:i}=(0,x.$G)(),d=[{field:"id",headerName:String(i("common.id")),width:90},{field:"name",headerName:String(i("documents.table.name")),flex:.3,minWidth:180},{field:"status",headerName:String(i("documents.table.status")),flex:.2,minWidth:140},{field:"type",headerName:String(i("documents.table.type")),flex:.15,minWidth:120},{field:"priority",headerName:String(i("documents.table.priority")),flex:.15,minWidth:120},{field:"start_date",headerName:String(i("documents.table.start")),flex:.15,minWidth:130},{field:"end_date",headerName:String(i("documents.table.end")),flex:.15,minWidth:130}];return(0,n.jsx)(I._,{autoHeight:!0,rowHeight:56,rows:t,columns:d,loading:o,rowCount:r,paginationMode:"server",disableRowSelectionOnClick:!0,getRowId:e=>e.id})}let F={Personal:"error",Business:"primary",Family:"warning",Holiday:"success",ETC:"info"},L=new Date;new Date().getTime(),11===L.getMonth()?L.getFullYear():(L.getFullYear(),L.getMonth()),11===L.getMonth()?L.getFullYear():(L.getFullYear(),L.getMonth());let M={events:[],selectedEvent:null,selectedCalendars:[]};var _=()=>{let[e,t]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),[c,s]=(0,r.useState)(!1),{settings:g}=(0,i.r)(),{skin:y,direction:m}=g,f=(0,l.Z)(e=>e.breakpoints.up("md")),[v,b]=(0,r.useState)([]),[h,x]=(0,r.useState)(!1),C=async e=>{x(!0);try{var t;let o=await k.Do.get(N.Z.task,{start_date:e,page:1,perPage:1e3});b((null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.results)||[])}catch(e){console.error("Error fetching tasks:",e)}finally{x(!1)}};return(0,n.jsx)(u,{className:"app-calendar",sx:{boxShadow:"bordered"===y?0:6,..."bordered"===y&&{border:e=>"1px solid ".concat(e.palette.divider)}},children:(0,n.jsxs)(a.Z,{sx:{p:6,pb:0,flexGrow:1,borderRadius:1,boxShadow:"none",backgroundColor:"background.paper",...f?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:{}},children:[(0,n.jsx)(B,{store:M,direction:m,updateEvent:p.eJ,calendarApi:e,calendarsColor:F,setCalendarApi:t,handleSelectEvent:p.cW,handleLeftSidebarToggle:()=>d(!o),handleAddEventSidebarToggle:()=>s(!c),handleSelectDate:e=>{C(e)}}),(0,n.jsx)(a.Z,{sx:{mt:6},children:(0,n.jsx)(A,{data:v,loading:h,total:v.length,paginationModel:{},setPaginationModel:()=>{}})})]})})};function T(){return(0,n.jsx)(_,{})}}},function(e){e.O(0,[1069,8634,6397,2888,9774,179],function(){return e(e.s=63577)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9083],{45670:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o},_i:function(){return a},pQ:function(){return u},uU:function(){return s}});var l=n(67294),r=n(85893);let i=l.createContext(null);function o(e){let{children:t,value:n}=e,o=function(){let[e,t]=l.useState(null);return l.useEffect(()=>{t(`mui-p-${Math.round(1e5*Math.random())}`)},[]),e}(),a=l.useMemo(()=>({idPrefix:o,value:n}),[o,n]);return(0,r.jsx)(i.Provider,{value:a,children:t})}function a(){return l.useContext(i)}function s(e,t){let{idPrefix:n}=e;return null===n?null:`${e.idPrefix}-P-${t}`}function u(e,t){let{idPrefix:n}=e;return null===n?null:`${e.idPrefix}-T-${t}`}},66568:function(e,t,n){"use strict";var l=n(87462),r=n(63366),i=n(67294),o=n(43374),a=n(45670),s=n(85893);let u=["children"],c=i.forwardRef(function(e,t){let{children:n}=e,c=(0,r.Z)(e,u),d=(0,a._i)();if(null===d)throw TypeError("No TabContext provided");let m=i.Children.map(n,e=>i.isValidElement(e)?i.cloneElement(e,{"aria-controls":(0,a.uU)(d,e.props.value),id:(0,a.pQ)(d,e.props.value)}):null);return(0,s.jsx)(o.Z,(0,l.Z)({},c,{ref:t,value:d.value,children:m}))});t.Z=c},62036:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documents/[status]",function(){return n(43656)}])},43656:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return N},default:function(){return P}});var l,r,i=n(85893),o=n(77527),a=n(60762),s=n(34375),u=n(71919),c=n(90642),d=n(28907),m=n(67294),p=n(34273),h=n(20788),v=n(43374),f=n(84166),g=n(81873),w=n(11163),x=n(31504),b=n(33251),_=n(74538),Z=n(22120);(l=r||(r={})).New="new",l.InProgress="in_progress",l.OnReview="on_review",l.Cancelled="cancelled",l.Done="done",l.Returned="returned";let j=[{key:"new",labelKey:"documents.status.new"},{key:"in_progress",labelKey:"documents.status.inProgress"},{key:"on_review",labelKey:"documents.status.onReview"},{key:"cancelled",labelKey:"documents.status.cancelled"},{key:"done",labelKey:"documents.status.done"},{key:"returned",labelKey:"documents.status.returned"}],y=e=>e||"new";var k=e=>{let{currentStatus:t,ownerFilter:n="all"}=e,l=(0,w.useRouter)(),r=(0,m.useMemo)(()=>y(t),[t]),{t:o}=(0,Z.$G)();(0,p.a)(),(0,m.useEffect)(()=>{t||l.replace("/documents/new")},[t,l]);let a="mine"===n?_.Z.taskSelf:_.Z.task,s={new:(0,b.z)(a,{page:1,limit:1,status:"new"}).total,in_progress:(0,b.z)(a,{page:1,limit:1,status:"in_progress"}).total,on_review:(0,b.z)(a,{page:1,limit:1,status:"on_review"}).total,cancelled:(0,b.z)(a,{page:1,limit:1,status:"cancelled"}).total,done:(0,b.z)(a,{page:1,limit:1,status:"done"}).total,returned:(0,b.z)(a,{page:1,limit:1,status:"returned"}).total};return(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(v.Z,{value:r,onChange:(e,t)=>{l.push("/documents/".concat(t))},variant:"scrollable",allowScrollButtonsMobile:!0,children:j.map(e=>{var t;return(0,i.jsx)(d.Z,{value:e.key,label:(0,i.jsxs)(f.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)("span",{children:String(o(e.labelKey))}),(0,i.jsx)(g.Z,{size:"small",color:"error",label:null!==(t=s[e.key])&&void 0!==t?t:0,sx:{height:20}})]})},e.key)})}),(0,i.jsx)(c.Z,{sx:{mt:4},children:(0,i.jsx)(x.Z,{status:r,ownerFilter:n})})]})},S=n(66568),M=n(45670);let E=(0,o.ZP)(S.Z)(e=>{let{theme:t}=e;return{borderBottom:"0 !important","&, & .MuiTabs-scroller":{boxSizing:"content-box",padding:t.spacing(1.25,1.25,2),margin:"".concat(t.spacing(-1.25,-1.25,-2)," !important")},"& .MuiTabs-indicator":{display:"none"},"& .Mui-selected":{boxShadow:t.shadows[2],backgroundColor:t.palette.primary.main,color:"".concat(t.palette.common.white," !important")},"& .MuiTab-root":{lineHeight:1,borderRadius:t.shape.borderRadius,"&:hover":{color:t.palette.primary.main}}}});var N=!0,P=e=>{var t,n;let{status:l}=e,{t:o}=(0,Z.$G)(),{user:v}=(0,p.a)(),f=!!(null==v?void 0:null===(t=v.role_detail)||void 0===t?void 0:t.map(e=>e.id.toString()).includes(h.K.ADMIN))||!!(null==v?void 0:null===(n=v.role_detail)||void 0===n?void 0:n.map(e=>e.id.toString()).includes(h.K.MANAGER)),[g,w]=(0,m.useState)(f?"all":"mine");return(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(s.Z,{title:String(o("documents.title"))}),(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(c.Z,{sx:{mb:2},children:(0,i.jsx)(M.ZP,{value:g,children:(0,i.jsxs)(E,{value:g,onChange:(e,t)=>w(t),children:[(0,i.jsx)(d.Z,{value:"mine",label:String(o("documents.myDocuments")||"Mening hujjatlarim")}),f&&(0,i.jsx)(d.Z,{value:"all",label:String(o("documents.allDocuments")||"Barchasi")})]})})}),(0,i.jsx)(k,{currentStatus:l||r.New,ownerFilter:g})]})]})}}},function(e){e.O(0,[4885,2785,6127,3035,1594,1504,2888,9774,179],function(){return e(e.s=62036)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9523],{13264:function(e,t,r){"use strict";let n=(0,r(70182).ZP)();t.Z=n},1275:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documents/view/[id]",function(){return r(78337)}])},34375:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(63366),o=r(87462),a=r(67294),i=r(86010),s=r(94780),l=r(96788),c=r(29567),d=r(77527),u=r(1588),m=r(34867);function x(e){return(0,m.Z)("MuiCardHeader",e)}let Z=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var h=r(85893);let p=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],b=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},x,t)},g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,o.Z)({["& .".concat(Z.title)]:t.title,["& .".concat(Z.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),f=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),v=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var j=a.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:a,avatar:s,className:d,component:u="div",disableTypography:m=!1,subheader:x,subheaderTypographyProps:Z,title:j,titleTypographyProps:w}=r,k=(0,n.Z)(r,p),C=(0,o.Z)({},r,{component:u,disableTypography:m}),S=b(C),P=j;null==P||P.type===l.Z||m||(P=(0,h.jsx)(l.Z,(0,o.Z)({variant:s?"body2":"h5",className:S.title,component:"span",display:"block"},w,{children:P})));let N=x;return null==N||N.type===l.Z||m||(N=(0,h.jsx)(l.Z,(0,o.Z)({variant:s?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},Z,{children:N}))),(0,h.jsxs)(g,(0,o.Z)({className:(0,i.Z)(S.root,d),as:u,ref:t,ownerState:C},k,{children:[s&&(0,h.jsx)(f,{className:S.avatar,ownerState:C,children:s}),(0,h.jsxs)(y,{className:S.content,ownerState:C,children:[P,N]}),a&&(0,h.jsx)(v,{className:S.action,ownerState:C,children:a})]}))})},87590:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(63366),o=r(87462),a=r(67294),i=r(86010),s=r(94780),l=r(74507),c=r(77527),d=r(29567),u=r(1588),m=r(34867);function x(e){return(0,m.Z)("MuiListItemAvatar",e)}(0,u.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Z=r(85893);let h=["className"],p=e=>{let{alignItems:t,classes:r}=e;return(0,s.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},x,r)},b=(0,c.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})(e=>{let{ownerState:t}=e;return(0,o.Z)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})});var g=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiListItemAvatar"}),{className:s}=r,c=(0,n.Z)(r,h),u=a.useContext(l.Z),m=(0,o.Z)({},r,{alignItems:u.alignItems}),x=p(m);return(0,Z.jsx)(b,(0,o.Z)({className:(0,i.Z)(x.root,s),ownerState:m,ref:t},c))})},84166:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var n=r(63366),o=r(87462),a=r(67294),i=r(86010),s=r(59766),l=r(94780),c=r(34867),d=r(13264),u=r(29628),m=r(39707),x=r(66500),Z=r(95408),h=r(98700),p=r(85893);let b=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,x.Z)(),f=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function v(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:g})}let y=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],j=({ownerState:e,theme:t})=>{let r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,Z.k9)({theme:t},(0,Z.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let n=(0,h.hB)(t),o=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),a=(0,Z.P$)({values:e.direction,base:o}),i=(0,Z.P$)({values:e.spacing,base:o});"object"==typeof a&&Object.keys(a).forEach((e,t,r)=>{if(!a[e]){let n=t>0?a[r[t-1]]:"column";a[e]=n}}),r=(0,s.Z)(r,(0,Z.k9)({theme:t},i,(t,r)=>e.useFlexGap?{gap:(0,h.NA)(n,t)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${y(r?a[r]:e.direction)}`]:(0,h.NA)(n,t)}}))}return(0,Z.dt)(t.breakpoints,r)};var w=r(77527),k=r(29567),C=function(e={}){let{createStyledComponent:t=f,useThemeProps:r=v,componentName:s="MuiStack"}=e,d=()=>(0,l.Z)({root:["root"]},e=>(0,c.Z)(s,e),{}),u=t(j);return a.forwardRef(function(e,t){let s=r(e),l=(0,m.Z)(s),{component:c="div",direction:x="column",spacing:Z=0,divider:h,children:g,className:f,useFlexGap:v=!1}=l,y=(0,n.Z)(l,b),j=d();return(0,p.jsx)(u,(0,o.Z)({as:c,ownerState:{direction:x,spacing:Z,useFlexGap:v},ref:t,className:(0,i.Z)(j.root,f)},y,{children:h?function(e,t){let r=a.Children.toArray(e).filter(Boolean);return r.reduce((e,n,o)=>(e.push(n),o<r.length-1&&e.push(a.cloneElement(t,{key:`separator-${o}`})),e),[])}(g,h):g}))})}({createStyledComponent:(0,w.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,k.Z)({props:e,name:"MuiStack"})})},69447:function(e,t,r){"use strict";var n=r(85893),o=r(18745),a=r(17494),i=r(2339),s=r(17643);let l=e=>{let{sx:t,skin:r,color:l,variant:c}=e,d=(0,o.Z)(),u=(0,i.Z)(),m={primary:{boxShadow:"none",color:d.palette.primary.main,backgroundColor:u.primaryLight.backgroundColor},secondary:{boxShadow:"none",color:d.palette.secondary.main,backgroundColor:u.secondaryLight.backgroundColor},success:{boxShadow:"none",color:d.palette.success.main,backgroundColor:u.successLight.backgroundColor},error:{boxShadow:"none",color:d.palette.error.main,backgroundColor:u.errorLight.backgroundColor},warning:{boxShadow:"none",color:d.palette.warning.main,backgroundColor:u.warningLight.backgroundColor},info:{boxShadow:"none",color:d.palette.info.main,backgroundColor:u.infoLight.backgroundColor},grey:{boxShadow:"none",color:d.palette.grey[500],backgroundColor:(0,s.E)(d.palette.grey[500],.12)}};return(0,n.jsx)(a.Z,{...e,sx:l&&"light"===r&&"filled"===c?Object.assign(m[l],t):t})};l.defaultProps={color:"grey",variant:"filled"},t.Z=l},78337:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var n=r(85893),o=r(67294),a=r(11163),i=r(60762),s=r(34375),l=r(71919),c=r(96788),d=r(68573),u=r(43374),m=r(28907),x=r(84166),Z=r(81873),h=r(90642),p=r(47407),b=r(19304),g=r(87590),f=r(21201),v=r(32200),y=r(36599),j=r(87413),w=r(72162),k=r(9601),C=r(51221),S=r(77527),P=r(89540),N=r(75673),M=r(69447),R=r(74538),I=r(52293),L=()=>{let{id:e}=(0,a.useRouter)().query,[t,r]=(0,o.useState)(null),[L,_]=(0,o.useState)(!0),T=(0,P.Z)(e=>e.breakpoints.down("md")),[A,E]=(0,o.useState)("info"),D=(0,S.ZP)(y.Z)(e=>{let{theme:t}=e;return{"& .MuiTimelineItem-root:nth-of-type(even) .MuiTimelineContent-root":{textAlign:"left"},[t.breakpoints.down("md")]:{"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}}}),H=e=>{let t=e.toLowerCase();return t.includes("created")||t.includes("accepted")?"success":t.includes("updated")||t.includes("in progress")?"primary":t.includes("comment")?"info":t.includes("cancel")||t.includes("error")?"error":t.includes("return")?"warning":"primary"},B=e=>{let t=e.toLowerCase();return t.includes("created")?"tabler:plus":t.includes("updated")?"tabler:pencil":t.includes("accepted")?"tabler:check":t.includes("comment")?"tabler:message":t.includes("cancel")?"tabler:x":t.includes("return")?"tabler:arrow-back-up":t.includes("progress")?"tabler:loader-2":"tabler:dot"};return((0,o.useEffect)(()=>{e&&(_(!0),I.Do.get(R.Z.documentById(e)).then(e=>{r(e.data),_(!1)}))},[e]),L||!t)?(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(s.Z,{title:"Document"}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(c.Z,{children:"Loading…"})})]}):(0,n.jsxs)(d.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(d.ZP,{item:!0,xs:12,children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(s.Z,{title:"Document ".concat(t.number),subheader:t.title}),(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)(u.Z,{value:A,onChange:(e,t)=>E(t),sx:{mb:4},children:[(0,n.jsx)(m.Z,{value:"info",label:"Info"}),(0,n.jsx)(m.Z,{value:"chronology",label:"Chronology"})]}),"info"===A?(0,n.jsxs)(x.Z,{direction:"row",spacing:2,flexWrap:"wrap",children:[(0,n.jsx)(Z.Z,{label:"Company: ".concat(t.company)}),(0,n.jsx)(Z.Z,{label:"Created: ".concat(t.created_time)}),(0,n.jsx)(Z.Z,{label:"Status: ".concat(t.status),color:"primary",variant:"outlined"})]}):null]})]})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:8,children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(s.Z,{title:"chronology"===A?"Chronology":"Details"}),(0,n.jsx)(l.Z,{children:"chronology"===A?0===t.chronology.length?(0,n.jsx)(c.Z,{color:"text.secondary",children:"No chronology yet."}):(0,n.jsx)(D,{position:T?"right":"alternate",children:t.chronology.map(e=>(0,n.jsxs)(j.Z,{children:[(0,n.jsxs)(k.Z,{children:[(0,n.jsx)(M.Z,{skin:"light",color:H(e.action),children:(0,n.jsx)(N.Z,{icon:B(e.action),fontSize:20})}),(0,n.jsx)(C.Z,{})]}),(0,n.jsxs)(w.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:[(0,n.jsxs)(h.Z,{sx:{mb:1.5,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)(c.Z,{variant:"subtitle1",sx:{mr:2},children:[e.actor," — ",e.action]}),(0,n.jsx)(c.Z,{variant:"caption",sx:{color:"text.disabled"},children:new Date(e.time).toLocaleString()})]}),e.note?(0,n.jsx)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:e.note}):null]})]},e.id))}):(0,n.jsxs)(h.Z,{children:[(0,n.jsxs)(c.Z,{variant:"body2",sx:{mb:2},children:["Number: ",t.number]}),(0,n.jsxs)(c.Z,{variant:"body2",sx:{mb:2},children:["Title: ",t.title]}),(0,n.jsxs)(c.Z,{variant:"body2",sx:{mb:2},children:["Company: ",t.company]}),(0,n.jsxs)(c.Z,{variant:"body2",sx:{mb:2},children:["Created: ",t.created_time]}),(0,n.jsxs)(c.Z,{variant:"body2",children:["Status: ",t.status]})]})})]})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:4,children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(s.Z,{title:"Executors & Views"}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(p.Z,{children:t.executors.map(e=>{var t;return(0,n.jsxs)(b.ZP,{disableGutters:!0,secondaryAction:e.seen_at?(0,n.jsx)(Z.Z,{size:"small",color:"success",label:new Date(e.seen_at).toLocaleString()}):(0,n.jsx)(Z.Z,{size:"small",color:"warning",label:"Not seen"}),children:[(0,n.jsx)(g.Z,{children:(0,n.jsx)(f.Z,{src:e.avatar,children:null===(t=e.name)||void 0===t?void 0:t[0]})}),(0,n.jsx)(v.Z,{primary:e.name})]},e.id)})})})]})})]})};function _(){return(0,n.jsx)(L,{})}}},function(e){e.O(0,[3035,8833,2888,9774,179],function(){return e(e.s=1275)}),_N_E=e.O()}]);
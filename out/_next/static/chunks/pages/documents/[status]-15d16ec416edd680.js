(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9083],{62036:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documents/[status]",function(){return n(13407)}])},71919:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=n(87462),r=n(63366),o=n(67294),i=n(86010),s=n(94780),c=n(77527),l=n(29567),d=n(1588),u=n(34867);function p(e){return(0,u.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var m=n(85893);let y=["className","component"],f=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},p,t)},g=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}}));var v=o.forwardRef(function(e,t){let n=(0,l.Z)({props:e,name:"MuiCardContent"}),{className:o,component:s="div"}=n,c=(0,r.Z)(n,y),d=(0,a.Z)({},n,{component:s}),u=f(d);return(0,m.jsx)(g,(0,a.Z)({as:s,className:(0,i.Z)(u.root,o),ownerState:d,ref:t},c))})},84166:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var a=n(63366),r=n(87462),o=n(67294),i=n(86010),s=n(59766),c=n(94780),l=n(34867),d=n(13264),u=n(29628),p=n(39707),m=n(66500),y=n(95408),f=n(98700),g=n(85893);let v=["component","direction","spacing","divider","children","className","useFlexGap"],h=(0,m.Z)(),k=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function w(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:h})}let Z=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],j=({ownerState:e,theme:t})=>{let n=(0,r.Z)({display:"flex",flexDirection:"column"},(0,y.k9)({theme:t},(0,y.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let a=(0,f.hB)(t),r=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),o=(0,y.P$)({values:e.direction,base:r}),i=(0,y.P$)({values:e.spacing,base:r});"object"==typeof o&&Object.keys(o).forEach((e,t,n)=>{if(!o[e]){let a=t>0?o[n[t-1]]:"column";o[e]=a}}),n=(0,s.Z)(n,(0,y.k9)({theme:t},i,(t,n)=>e.useFlexGap?{gap:(0,f.NA)(a,t)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${Z(n?o[n]:e.direction)}`]:(0,f.NA)(a,t)}}))}return(0,y.dt)(t.breakpoints,n)};var x=n(77527),I=n(29567),B=function(e={}){let{createStyledComponent:t=k,useThemeProps:n=w,componentName:s="MuiStack"}=e,d=()=>(0,c.Z)({root:["root"]},e=>(0,l.Z)(s,e),{}),u=t(j);return o.forwardRef(function(e,t){let s=n(e),c=(0,p.Z)(s),{component:l="div",direction:m="column",spacing:y=0,divider:f,children:h,className:k,useFlexGap:w=!1}=c,Z=(0,a.Z)(c,v),j=d();return(0,g.jsx)(u,(0,r.Z)({as:l,ownerState:{direction:m,spacing:y,useFlexGap:w},ref:t,className:(0,i.Z)(j.root,k)},Z,{children:f?function(e,t){let n=o.Children.toArray(e).filter(Boolean);return n.reduce((e,a,r)=>(e.push(a),r<n.length-1&&e.push(o.cloneElement(t,{key:`separator-${r}`})),e),[])}(h,f):h}))})}({createStyledComponent:(0,x.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,I.Z)({props:e,name:"MuiStack"})})},74538:function(e,t){"use strict";let n=e=>Array.isArray(e)?e[0]:null==e?"":String(e);t.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(n(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(n(e)),region:"/region/",regionById:e=>"/region/".concat(n(e)),countryById:e=>"/country/".concat(n(e)),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(n(e)),industries:"/industry",industryById:e=>"/industry/".concat(n(e)),industryFields:"/industry/fields",users:"/user",userById:e=>"/user/".concat(n(e)),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(n(e)),services:"/service",serviceById:e=>"/service/".concat(n(e)),partners:"/partner",partnerById:e=>"/partner/".concat(n(e)),company:"/company/",companyById:e=>"/company/".concat(n(e)),replyLetter:"/reply-letter/",replyLetterById:e=>"/reply-letter/".concat(n(e)),replyLetterFile:"/reply-letter-file/",replyLetterFileById:e=>"/reply-letter-file/".concat(n(e)),documents:"/documents/",documentById:e=>"/documents/".concat(n(e)),documentForm:"/document-form/",documentFormById:e=>"/document-form/".concat(n(e)),listOfMagazine:"/list-of-magazine/",listOfMagazineById:e=>"/list-of-magazine/".concat(n(e)),task:"/task/",taskById:e=>"/task/".concat(n(e)),taskPart:"/task-part/",taskPartById:e=>"/task-part/".concat(n(e)),taskEvent:"/task-event/",taskEventById:e=>"/task-event/".concat(n(e)),taskComment:"/task-comment/",taskCommentById:e=>"/task-comment/".concat(n(e)),taskAttachment:"/task-attachment/",taskAttachmentById:e=>"/task-attachment/".concat(n(e)),department:"/department/",departmentById:e=>"/department/".concat(n(e)),position:"/position/",positionById:e=>"/position/".concat(n(e)),projects:"/project",projectById:e=>"/project/".concat(n(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(n(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(n(e)),stats:"/stats",statById:e=>"/stats/".concat(n(e)),faqs:"/faq",faqById:e=>"/faq/".concat(n(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(n(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(n(e)),news:"/news-post",newsById:e=>"/news-post/".concat(n(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(n(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(n(e)),applicationApprovedByID:e=>"/application-approved/".concat(n(e)),limitData:"/limit-data"}},33251:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var a=n(30202),r=n(33934),o=n(52293);let i=function(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,a.NL)(),c=["list",e,i],l=Object.fromEntries(Object.entries(i).filter(e=>{let[,t]=e;return void 0!==t})),{data:d,isLoading:u,error:p}=(0,r.a)({queryKey:c,queryFn:async()=>{var t,n,a;let r=(await o.Do.get(e,l)).data,i=Array.isArray(r)?r:null!==(n=null==r?void 0:r.results)&&void 0!==n?n:[],s=Array.isArray(r)?i.length:null!==(a=null==r?void 0:null===(t=r.pagination)||void 0===t?void 0:t.total)&&void 0!==a?a:i.length;return{items:i,total:s}},staleTime:3e4});return{data:null!==(t=null==d?void 0:d.items)&&void 0!==t?t:[],total:null!==(n=null==d?void 0:d.total)&&void 0!==n?n:0,loading:u,error:p,mutate:()=>{s.invalidateQueries({queryKey:c})}}}},13407:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var a,r,o=n(85893),i=n(67294),s=n(11163),c=n(60762),l=n(34375),d=n(71919),u=n(90642),p=n(43374),m=n(28907),y=n(84166),f=n(81873),g=n(21038),v=n(52857),h=n(73907),k=n(28634),w=n(75673),Z=n(33251),j=n(74538),x=n(41664),I=n.n(x),B=e=>{let{status:t}=e,n=(0,s.useRouter)(),[a,r]=(0,i.useState)({page:0,pageSize:10}),{data:l=[],total:u,loading:p}=(0,Z.z)(j.Z.task,{page:a.page+1,perPage:a.pageSize,status:t});return(0,o.jsx)(c.Z,{variant:"outlined",children:(0,o.jsxs)(d.Z,{sx:{pb:0},children:[(0,o.jsx)(y.Z,{direction:"row",justifyContent:"flex-end",sx:{mb:2},children:(0,o.jsx)(h.Z,{variant:"contained",onClick:()=>n.push("/tasks/create"),children:"Vazifa yaratish"})}),(0,o.jsx)(k._,{autoHeight:!0,rowHeight:56,rows:l,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:.3,minWidth:180},{field:"status",headerName:"Status",flex:.2,minWidth:140},{field:"type",headerName:"Type",flex:.15,minWidth:120},{field:"priority",headerName:"Priority",flex:.15,minWidth:120},{field:"start_date",headerName:"Start",flex:.15,minWidth:130},{field:"end_date",headerName:"End",flex:.15,minWidth:130},{field:"actions",headerName:"Actions",width:120,sortable:!1,renderCell:e=>{let t=e.row.id;return(0,o.jsxs)(y.Z,{direction:"row",spacing:1,children:[(0,o.jsx)(g.Z,{title:"View",children:(0,o.jsx)(v.Z,{size:"small",component:I(),href:"/tasks/view/".concat(t),children:(0,o.jsx)(w.Z,{icon:"tabler:eye"})})}),(0,o.jsx)(g.Z,{title:"Edit",children:(0,o.jsx)(v.Z,{size:"small",component:I(),href:"/tasks/update/".concat(t),children:(0,o.jsx)(w.Z,{icon:"tabler:pencil"})})})]})}}],loading:p,rowCount:u,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:a,onPaginationModelChange:r,getRowId:e=>e.id,localeText:{noRowsLabel:'No documents for status: "'.concat(t,'"')}})]})})};(a=r||(r={})).New="new",a.InProgress="in_progress",a.OnReview="on_review",a.Cancelled="cancelled",a.Done="done",a.Returned="returned";let b=[{key:"new",label:"New"},{key:"in_progress",label:"In Progress"},{key:"on_review",label:"On Review"},{key:"cancelled",label:"Cancelled"},{key:"done",label:"Done"},{key:"returned",label:"Returned"}],C=e=>e||"new";var N=e=>{let{currentStatus:t}=e,n=(0,s.useRouter)(),a=(0,i.useMemo)(()=>C(t),[t]);(0,i.useEffect)(()=>{t||n.replace("/documents/new")},[t,n]);let r={new:(0,Z.z)(j.Z.task,{page:1,perPage:1,status:"new"}).total,in_progress:(0,Z.z)(j.Z.task,{page:1,perPage:1,status:"in_progress"}).total,on_review:(0,Z.z)(j.Z.task,{page:1,perPage:1,status:"on_review"}).total,cancelled:(0,Z.z)(j.Z.task,{page:1,perPage:1,status:"cancelled"}).total,done:(0,Z.z)(j.Z.task,{page:1,perPage:1,status:"done"}).total,returned:(0,Z.z)(j.Z.task,{page:1,perPage:1,status:"returned"}).total};return(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(p.Z,{value:a,onChange:(e,t)=>{n.push("/documents/".concat(t))},variant:"scrollable",allowScrollButtonsMobile:!0,children:b.map(e=>{var t;return(0,o.jsx)(m.Z,{value:e.key,label:(0,o.jsxs)(y.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,o.jsx)("span",{children:e.label}),(0,o.jsx)(f.Z,{size:"small",color:"error",label:null!==(t=r[e.key])&&void 0!==t?t:0,sx:{height:20}})]})},e.key)})}),(0,o.jsx)(u.Z,{sx:{mt:4},children:(0,o.jsx)(B,{status:a})})]})},P=()=>{let e=(0,s.useRouter)(),{status:t}=e.query;return(0,i.useEffect)(()=>{t&&(Object.values(r).includes(t)||e.replace("/404"))},[t,e]),(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(l.Z,{title:"Hujjatlar"}),(0,o.jsx)(d.Z,{children:(0,o.jsx)(N,{currentStatus:t||r.New})})]})}}},function(e){e.O(0,[2712,6717,3035,2888,9774,179],function(){return e(e.s=62036)}),_N_E=e.O()}]);
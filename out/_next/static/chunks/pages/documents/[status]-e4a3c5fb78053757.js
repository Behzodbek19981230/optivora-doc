(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9083],{62036:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documents/[status]",function(){return n(43656)}])},43656:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return M},default:function(){return z}});var l,s,a=n(85893),r=n(77527),i=n(60762),o=n(34375),u=n(71919),c=n(90642),d=n(28907),m=n(67294),p=n(34273),g=n(20788),w=n(43374),h=n(84166),b=n(81873),v=n(11163),_=n(31504),x=n(33251),y=n(74538),j=n(22120);(l=s||(s={})).New="new",l.InProgress="in_progress",l.OnReview="on_review",l.Cancelled="cancelled",l.Done="done",l.Returned="returned";let Z=[{key:"new",labelKey:"documents.status.new"},{key:"in_progress",labelKey:"documents.status.inProgress"},{key:"on_review",labelKey:"documents.status.onReview"},{key:"cancelled",labelKey:"documents.status.cancelled"},{key:"done",labelKey:"documents.status.done"},{key:"returned",labelKey:"documents.status.returned"}],k=e=>e||"new";var S=e=>{let{currentStatus:t,ownerFilter:n="all"}=e,l=(0,v.useRouter)(),s=(0,m.useMemo)(()=>k(t),[t]),{t:r}=(0,j.$G)();(0,p.a)(),(0,m.useEffect)(()=>{t||l.replace("/documents/new")},[t,l]);let i="mine"===n?y.Z.taskSelf:y.Z.task,o={new:(0,x.z)(i,{page:1,limit:1,status:"new"}).total,in_progress:(0,x.z)(i,{page:1,limit:1,status:"in_progress"}).total,on_review:(0,x.z)(i,{page:1,limit:1,status:"on_review"}).total,cancelled:(0,x.z)(i,{page:1,limit:1,status:"cancelled"}).total,done:(0,x.z)(i,{page:1,limit:1,status:"done"}).total,returned:(0,x.z)(i,{page:1,limit:1,status:"returned"}).total};return(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(w.Z,{value:s,onChange:(e,t)=>{l.push("/documents/".concat(t))},variant:"scrollable",allowScrollButtonsMobile:!0,children:Z.map(e=>{var t;return(0,a.jsx)(d.Z,{value:e.key,label:(0,a.jsxs)(h.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,a.jsx)("span",{children:String(r(e.labelKey))}),(0,a.jsx)(b.Z,{size:"small",color:"error",label:null!==(t=o[e.key])&&void 0!==t?t:0,sx:{height:20}})]})},e.key)})}),(0,a.jsx)(c.Z,{sx:{mt:4},children:(0,a.jsx)(_.Z,{status:s,ownerFilter:n})})]})},f=n(66568),N=n(45670);let K=(0,r.ZP)(f.Z)(e=>{let{theme:t}=e;return{borderBottom:"0 !important","&, & .MuiTabs-scroller":{boxSizing:"content-box",padding:t.spacing(1.25,1.25,2),margin:"".concat(t.spacing(-1.25,-1.25,-2)," !important")},"& .MuiTabs-indicator":{display:"none"},"& .Mui-selected":{boxShadow:t.shadows[2],backgroundColor:t.palette.primary.main,color:"".concat(t.palette.common.white," !important")},"& .MuiTab-root":{lineHeight:1,borderRadius:t.shape.borderRadius,"&:hover":{color:t.palette.primary.main}}}});var M=!0,z=e=>{var t,n;let{status:l}=e,{t:r}=(0,j.$G)(),{user:w}=(0,p.a)(),h=!!(null==w?void 0:null===(t=w.role_detail)||void 0===t?void 0:t.map(e=>e.id.toString()).includes(g.K.ADMIN))||!!(null==w?void 0:null===(n=w.role_detail)||void 0===n?void 0:n.map(e=>e.id.toString()).includes(g.K.MANAGER)),[b,v]=(0,m.useState)(h?"all":"mine");return(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(o.Z,{title:String(r("documents.title"))}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(c.Z,{sx:{mb:2},children:(0,a.jsx)(N.ZP,{value:b,children:(0,a.jsxs)(K,{value:b,onChange:(e,t)=>v(t),children:[(0,a.jsx)(d.Z,{value:"mine",label:String(r("documents.myDocuments")||"Mening hujjatlarim")}),h&&(0,a.jsx)(d.Z,{value:"all",label:String(r("documents.allDocuments")||"Barchasi")})]})})}),(0,a.jsx)(S,{currentStatus:l||s.New,ownerFilter:b})]})]})}}},function(e){e.O(0,[4885,2785,7605,3035,9092,1504,2888,9774,179],function(){return e(e.s=62036)}),_N_E=e.O()}]);
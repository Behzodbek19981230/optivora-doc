(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6263],{50811:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list-of-magazine",function(){return n(17836)}])},34375:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(63366),r=n(87462),i=n(67294),o=n(86010),l=n(94780),s=n(96788),c=n(29567),d=n(77527),u=n(1588),m=n(34867);function g(e){return(0,m.Z)("MuiCardHeader",e)}let f=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var h=n(85893);let p=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},g,t)},Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,r.Z)({["& .".concat(f.title)]:t.title,["& .".concat(f.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),x=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),j=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),S=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var b=i.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:i,avatar:l,className:d,component:u="div",disableTypography:m=!1,subheader:g,subheaderTypographyProps:f,title:b,titleTypographyProps:y}=n,w=(0,a.Z)(n,p),M=(0,r.Z)({},n,{component:u,disableTypography:m}),k=v(M),z=b;null==z||z.type===s.Z||m||(z=(0,h.jsx)(s.Z,(0,r.Z)({variant:l?"body2":"h5",className:k.title,component:"span",display:"block"},y,{children:z})));let P=g;return null==P||P.type===s.Z||m||(P=(0,h.jsx)(s.Z,(0,r.Z)({variant:l?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},f,{children:P}))),(0,h.jsxs)(Z,(0,r.Z)({className:(0,o.Z)(k.root,d),as:u,ref:t,ownerState:M},w,{children:[l&&(0,h.jsx)(x,{className:k.avatar,ownerState:M,children:l}),(0,h.jsxs)(S,{className:k.content,ownerState:M,children:[z,P]}),i&&(0,h.jsx)(j,{className:k.action,ownerState:M,children:i})]}))})},84166:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var a=n(63366),r=n(87462),i=n(67294),o=n(86010),l=n(59766),s=n(94780),c=n(34867),d=n(13264),u=n(29628),m=n(39707),g=n(66500),f=n(95408),h=n(98700),p=n(85893);let v=["component","direction","spacing","divider","children","className","useFlexGap"],Z=(0,g.Z)(),x=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function j(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:Z})}let S=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],b=({ownerState:e,theme:t})=>{let n=(0,r.Z)({display:"flex",flexDirection:"column"},(0,f.k9)({theme:t},(0,f.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let a=(0,h.hB)(t),r=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),i=(0,f.P$)({values:e.direction,base:r}),o=(0,f.P$)({values:e.spacing,base:r});"object"==typeof i&&Object.keys(i).forEach((e,t,n)=>{if(!i[e]){let a=t>0?i[n[t-1]]:"column";i[e]=a}}),n=(0,l.Z)(n,(0,f.k9)({theme:t},o,(t,n)=>e.useFlexGap?{gap:(0,h.NA)(a,t)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${S(n?i[n]:e.direction)}`]:(0,h.NA)(a,t)}}))}return(0,f.dt)(t.breakpoints,n)};var y=n(77527),w=n(29567),M=function(e={}){let{createStyledComponent:t=x,useThemeProps:n=j,componentName:l="MuiStack"}=e,d=()=>(0,s.Z)({root:["root"]},e=>(0,c.Z)(l,e),{}),u=t(b);return i.forwardRef(function(e,t){let l=n(e),s=(0,m.Z)(l),{component:c="div",direction:g="column",spacing:f=0,divider:h,children:Z,className:x,useFlexGap:j=!1}=s,S=(0,a.Z)(s,v),b=d();return(0,p.jsx)(u,(0,r.Z)({as:c,ownerState:{direction:g,spacing:f,useFlexGap:j},ref:t,className:(0,o.Z)(b.root,x)},S,{children:h?function(e,t){let n=i.Children.toArray(e).filter(Boolean);return n.reduce((e,a,r)=>(e.push(a),r<n.length-1&&e.push(i.cloneElement(t,{key:`separator-${r}`})),e),[])}(Z,h):Z}))})}({createStyledComponent:(0,y.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,w.Z)({props:e,name:"MuiStack"})})},82071:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});let a=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:t=>{let{from:n,to:a,count:r}=t;return"".concat(n,"â€“").concat(a," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==r?r:">".concat(a))}}})},33251:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var a=n(30202),r=n(33934),i=n(52293);let o=function(e){var t,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(0,a.NL)(),s=["list",e,o],c=Object.fromEntries(Object.entries(o).filter(e=>{let[,t]=e;return void 0!==t})),{data:d,isLoading:u,error:m}=(0,r.a)({queryKey:s,queryFn:async()=>{var t,n,a;let r=(await i.Do.get(e,c)).data,o=Array.isArray(r)?r:null!==(n=null==r?void 0:r.results)&&void 0!==n?n:[],l=Array.isArray(r)?o.length:null!==(a=null==r?void 0:null===(t=r.pagination)||void 0===t?void 0:t.total)&&void 0!==a?a:o.length;return{items:o,total:l}},staleTime:3e4});return{data:null!==(t=null==d?void 0:d.items)&&void 0!==t?t:[],total:null!==(n=null==d?void 0:d.total)&&void 0!==n?n:0,loading:u,error:m,mutate:()=>{l.invalidateQueries({queryKey:s})}}}},17836:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var a=n(85893),r=n(67294),i=n(84166),o=n(21038),l=n(52857),s=n(60762),c=n(34375),d=n(51015),u=n(28634),m=n(74538),g=n(33251),f=n(75673),h=n(52293),p=n(58898),v=n(33453),Z=n(92365),x=n(40110),j=n(68573),S=n(96727),b=n(87536),y=n(7879),w=n(22120);let M={name:"",name_en:"",name_uz:"",name_ru:""};var k=e=>{let{open:t,item:n,onClose:i,onSaved:o}=e,l=(0,p.Z)(),{t:s}=(0,w.$G)(),{control:c,handleSubmit:u,reset:g}=(0,b.cI)({defaultValues:M});(0,r.useEffect)(()=>{n?g(n):g(M)},[n,g]);let f=async e=>{try{(null==n?void 0:n.id)?(await h.Do.put(m.Z.listOfMagazineById(n.id),e),l.success(String(s("listOfMagazine.toast.updated")))):(await h.Do.post(m.Z.listOfMagazine,e),l.success(String(s("listOfMagazine.toast.created")))),o()}catch(e){l.error((null==e?void 0:e.message)||String(s("common.error")))}};return(0,a.jsxs)(v.Z,{fullWidth:!0,maxWidth:"sm",open:t,onClose:i,children:[(0,a.jsx)(Z.Z,{children:n?String(s("listOfMagazine.edit.title")):String(s("listOfMagazine.create.title"))}),(0,a.jsxs)("form",{onSubmit:u(f),children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,a.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(b.Qr,{name:"name_en",control:c,rules:{required:!0},render:e=>{let{field:t}=e;return(0,a.jsx)(y.Z,{fullWidth:!0,label:String(s("common.nameEn")),...t})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(b.Qr,{name:"name_uz",control:c,rules:{required:!0},render:e=>{let{field:t}=e;return(0,a.jsx)(y.Z,{fullWidth:!0,label:String(s("common.nameUz")),...t})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(b.Qr,{name:"name_ru",control:c,rules:{required:!0},render:e=>{let{field:t}=e;return(0,a.jsx)(y.Z,{fullWidth:!0,label:String(s("common.nameRu")),...t})}})})]})}),(0,a.jsxs)(S.Z,{children:[(0,a.jsx)(d.Z,{variant:"outlined",onClick:i,children:String(s("common.cancel"))}),(0,a.jsx)(d.Z,{variant:"contained",type:"submit",children:String(s("common.save"))})]})]})]})},z=n(82071),P=()=>{let e=(0,p.Z)(),{t}=(0,w.$G)(),[n,v]=(0,r.useState)({page:0,pageSize:10}),[Z,x]=(0,r.useState)(!1),[j,S]=(0,r.useState)(null),{data:b=[],total:y,loading:M,mutate:P}=(0,g.z)(m.Z.listOfMagazine,{page:n.page+1,limit:n.pageSize}),R=[{field:"name_en",headerName:String(t("common.nameEn")),flex:.2,minWidth:140},{field:"name_uz",headerName:String(t("common.nameUz")),flex:.2,minWidth:140},{field:"name_ru",headerName:String(t("common.nameRu")),flex:.2,minWidth:140},{field:"actions",headerName:String(t("common.actions")),flex:.15,minWidth:130,sortable:!1,renderCell:n=>{let r=n.row;return(0,a.jsxs)(i.Z,{direction:"row",spacing:1,children:[(0,a.jsx)(o.Z,{title:String(t("common.edit")),children:(0,a.jsx)(l.Z,{size:"small",onClick:()=>{S(r),x(!0)},children:(0,a.jsx)(f.Z,{icon:"tabler:edit"})})}),(0,a.jsx)(o.Z,{title:String(t("common.delete")),children:(0,a.jsx)(l.Z,{size:"small",color:"error",onClick:async()=>{await h.Do.delete(m.Z.listOfMagazineById(r.id)),e.success(String(t("listOfMagazine.toast.deleted"))),P()},children:(0,a.jsx)(f.Z,{icon:"tabler:trash"})})})]})}}];return(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(c.Z,{title:String(t("listOfMagazine.title")),action:(0,a.jsx)(d.Z,{variant:"contained",onClick:()=>{S(null),x(!0)},children:String(t("common.create"))})}),(0,a.jsx)(u._,{autoHeight:!0,rowHeight:56,rows:b,columns:R,loading:M,rowCount:y,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:v,getRowId:e=>e.id,localeText:(0,z.x)(t)}),(0,a.jsx)(k,{open:Z,item:j,onClose:()=>x(!1),onSaved:()=>{x(!1),P()}})]})},R=()=>(0,a.jsx)(P,{})}},function(e){e.O(0,[3934,8634,7536,2888,9774,179],function(){return e(e.s=50811)}),_N_E=e.O()}]);
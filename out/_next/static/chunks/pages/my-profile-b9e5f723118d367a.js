(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1250],{81581:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-profile",function(){return n(58247)}])},84166:function(e,r,n){"use strict";n.d(r,{Z:function(){return k}});var t=n(63366),i=n(87462),s=n(67294),a=n(86010),o=n(59766),l=n(94780),c=n(34867),d=n(13264),x=n(29628),m=n(39707),h=n(66500),u=n(95408),p=n(98700),j=n(85893);let Z=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,h.Z)(),f=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root});function y(e){return(0,x.Z)({props:e,name:"MuiStack",defaultTheme:g})}let v=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],b=({ownerState:e,theme:r})=>{let n=(0,i.Z)({display:"flex",flexDirection:"column"},(0,u.k9)({theme:r},(0,u.P$)({values:e.direction,breakpoints:r.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let t=(0,p.hB)(r),i=Object.keys(r.breakpoints.values).reduce((r,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(r[n]=!0),r),{}),s=(0,u.P$)({values:e.direction,base:i}),a=(0,u.P$)({values:e.spacing,base:i});"object"==typeof s&&Object.keys(s).forEach((e,r,n)=>{if(!s[e]){let t=r>0?s[n[r-1]]:"column";s[e]=t}}),n=(0,o.Z)(n,(0,u.k9)({theme:r},a,(r,n)=>e.useFlexGap?{gap:(0,p.NA)(t,r)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${v(n?s[n]:e.direction)}`]:(0,p.NA)(t,r)}}))}return(0,u.dt)(r.breakpoints,n)};var S=n(77527),_=n(29567),k=function(e={}){let{createStyledComponent:r=f,useThemeProps:n=y,componentName:o="MuiStack"}=e,d=()=>(0,l.Z)({root:["root"]},e=>(0,c.Z)(o,e),{}),x=r(b);return s.forwardRef(function(e,r){let o=n(e),l=(0,m.Z)(o),{component:c="div",direction:h="column",spacing:u=0,divider:p,children:g,className:f,useFlexGap:y=!1}=l,v=(0,t.Z)(l,Z),b=d();return(0,j.jsx)(x,(0,i.Z)({as:c,ownerState:{direction:h,spacing:u,useFlexGap:y},ref:r,className:(0,a.Z)(b.root,f)},v,{children:p?function(e,r){let n=s.Children.toArray(e).filter(Boolean);return n.reduce((e,t,i)=>(e.push(t),i<n.length-1&&e.push(s.cloneElement(r,{key:`separator-${i}`})),e),[])}(g,p):g}))})}({createStyledComponent:(0,S.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root}),useThemeProps:e=>(0,_.Z)({props:e,name:"MuiStack"})})},33251:function(e,r,n){"use strict";n.d(r,{z:function(){return a}});var t=n(30202),i=n(33934),s=n(52293);let a=function(e){var r,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],l=(0,t.NL)(),c=["list",e,a],d=Object.fromEntries(Object.entries(a).filter(e=>{let[,r]=e;return void 0!==r})),{data:x,isLoading:m,error:h}=(0,i.a)({queryKey:c,queryFn:async()=>{var r,n,t;let i=(await s.Do.get(e,d)).data,a=Array.isArray(i)?i:null!==(n=null==i?void 0:i.results)&&void 0!==n?n:[],o=Array.isArray(i)?a.length:null!==(t=null==i?void 0:null===(r=i.pagination)||void 0===r?void 0:r.total)&&void 0!==t?t:a.length;return{items:a,total:o}},enabled:o,staleTime:3e4});return{data:null!==(r=null==x?void 0:x.items)&&void 0!==r?r:[],total:null!==(n=null==x?void 0:x.total)&&void 0!==n?n:0,loading:m,error:h,mutate:()=>{l.invalidateQueries({queryKey:c})}}}},58247:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return P}});var t=n(85893),i=n(68573),s=n(60762),a=n(71919),o=n(90642),l=n(21201),c=n(96788),d=n(81873),x=n(56912),m=n(22120),h=n(34273),u=n(75673),p=n(55421),j=n(30381),Z=n.n(j),g=n(67294),f=n(34375),y=n(97182),v=n(84166),b=n(35570),S=n(74538),_=n(33251),k=()=>{let{t:e}=(0,m.$G)(),{user:r}=(0,h.a)(),[n,i]=(0,g.useState)(1),{data:l=[],loading:p,total:j}=(0,_.z)(S.Z.employeeAccount,{page:n,limit:10,employee:null==r?void 0:r.id},!!(null==r?void 0:r.id));return(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(f.Z,{title:String(e("myProfile.attendance.title")||"Kirish/Chiqish tarixi"),avatar:(0,t.jsx)(u.Z,{icon:"tabler:clock-hour-4",fontSize:"1.5rem"})}),(0,t.jsxs)(a.Z,{children:[p?(0,t.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",py:6},children:(0,t.jsx)(y.Z,{})}):0===l.length?(0,t.jsx)(o.Z,{sx:{textAlign:"center",py:6},children:(0,t.jsx)(c.Z,{variant:"body2",color:"text.secondary",children:String(e("myProfile.attendance.empty")||"Ma'lumot topilmadi")})}):(0,t.jsx)(v.Z,{spacing:2,children:l.map((r,n)=>{let i="input"===r.type,s=r.date?Z()(r.date).format("DD.MM.YYYY HH:mm"):"â€”";return(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(o.Z,{sx:{p:3,borderRadius:1,border:e=>"1px solid ".concat(e.palette.divider),backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.01)",transition:"all 0.2s ease-in-out","&:hover":{borderColor:e=>e.palette.primary.main,backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.04)":"rgba(0, 0, 0, 0.02)",boxShadow:e=>"0 2px 8px ".concat("dark"===e.palette.mode?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.1)")}},children:(0,t.jsxs)(v.Z,{direction:"row",spacing:2,alignItems:"flex-start",children:[(0,t.jsx)(o.Z,{sx:{width:48,height:48,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e=>i?"".concat(e.palette.success.main,"15"):"".concat(e.palette.error.main,"15"),color:e=>i?e.palette.success.main:e.palette.error.main,flexShrink:0},children:(0,t.jsx)(u.Z,{icon:i?"tabler:login":"tabler:logout",fontSize:"1.5rem"})}),(0,t.jsxs)(o.Z,{sx:{flex:1,minWidth:0},children:[(0,t.jsxs)(v.Z,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[(0,t.jsx)(d.Z,{label:i?String(e("attendance.input")||"Keldi"):String(e("attendance.output")||"Ketdi"),color:i?"success":"error",size:"small",sx:{fontWeight:600}}),(0,t.jsx)(c.Z,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:s})]}),r.comment&&(0,t.jsx)(o.Z,{sx:{mt:1.5,p:2,borderRadius:1,backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.02)"},children:(0,t.jsx)(c.Z,{variant:"body2",color:"text.secondary",children:r.comment})})]})]})}),n<l.length-1&&(0,t.jsx)(x.Z,{sx:{my:0}})]},r.id)})}),!p&&j>0&&(0,t.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:4,pt:3,borderTop:e=>"1px solid ".concat(e.palette.divider)},children:[(0,t.jsxs)(c.Z,{variant:"body2",color:"text.secondary",children:[String(e("common.showing")||"Ko'rsatilmoqda")," ",(n-1)*10+1," - ",Math.min(10*n,j)," ",String(e("common.of")||"dan")," ",j]}),(0,t.jsx)(b.Z,{count:Math.ceil(j/10),page:n,onChange:(e,r)=>i(r),color:"primary",size:"medium",showFirstButton:!0,showLastButton:!0})]})]})]})},w=()=>{let{t:e}=(0,m.$G)(),{user:r}=(0,h.a)();return r?(0,t.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(i.ZP,{item:!0,xs:12,children:(0,t.jsx)(s.Z,{children:(0,t.jsx)(a.Z,{children:(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},children:[(0,t.jsx)(l.Z,{src:r.avatar||void 0,alt:r.fullname||r.username,sx:{width:100,height:100,fontSize:"2.5rem"},children:(0,p.Q)(r.fullname||r.username||"U")}),(0,t.jsxs)(o.Z,{sx:{flex:1,minWidth:200},children:[(0,t.jsx)(c.Z,{variant:"h5",sx:{mb:1},children:r.fullname||r.username}),(0,t.jsxs)(c.Z,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["@",r.username]}),r.role_detail&&r.role_detail.length>0&&(0,t.jsx)(o.Z,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:r.role_detail.map(e=>(0,t.jsx)(d.Z,{label:e.name,size:"small",color:"primary",variant:"outlined"},e.id))})]})]})})})}),(0,t.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(s.Z,{children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(c.Z,{variant:"h6",sx:{mb:3},children:String(e("users.form.personalInfo")||"Personal Information")}),(0,t.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[r.email&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:mail",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.email")||"Email")}),(0,t.jsx)(c.Z,{variant:"body2",children:r.email})]})]}),r.phone_number&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:phone",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.phoneNumber")||"Phone Number")}),(0,t.jsx)(c.Z,{variant:"body2",children:r.phone_number})]})]}),r.date_of_birthday&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:calendar",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.dateOfBirthday")||"Date of Birthday")}),(0,t.jsx)(c.Z,{variant:"body2",children:Z()(r.date_of_birthday).isValid()?Z()(r.date_of_birthday).format("DD.MM.YYYY"):r.date_of_birthday})]})]}),r.gender&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:gender-male",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.gender")||"Gender")}),(0,t.jsx)(c.Z,{variant:"body2",children:"male"===r.gender?String(e("users.gender.male")||"Male"):"female"===r.gender?String(e("users.gender.female")||"Female"):r.gender})]})]})]})]})})}),(0,t.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(s.Z,{children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(c.Z,{variant:"h6",sx:{mb:3},children:String(e("users.form.additionalInfo")||"Additional Information")}),(0,t.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[r.address&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:map-pin",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.address")||"Address")}),(0,t.jsx)(c.Z,{variant:"body2",children:r.address})]})]}),r.region&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:map",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.region")||"Region")}),(0,t.jsx)(c.Z,{variant:"body2",children:r.region})]})]}),r.district&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:map-pin",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.district")||"District")}),(0,t.jsx)(c.Z,{variant:"body2",children:r.district})]})]}),r.date_joined&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:calendar-event",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.dateJoined")||"Date Joined")}),(0,t.jsx)(c.Z,{variant:"body2",children:Z()(r.date_joined).isValid()?Z()(r.date_joined).format("DD.MM.YYYY"):r.date_joined})]})]}),void 0!==r.is_active&&(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(o.Z,{sx:{color:"text.secondary"},children:(0,t.jsx)(u.Z,{icon:"tabler:user-check",fontSize:"1.25rem"})}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:String(e("users.form.status")||"Status")}),(0,t.jsx)(d.Z,{label:r.is_active?String(e("common.active")||"Active"):String(e("common.inactive")||"Inactive"),color:r.is_active?"success":"default",size:"small",sx:{mt:.5}})]})]})]})]})})}),r.companies_detail&&r.companies_detail.length>0&&(0,t.jsx)(i.ZP,{item:!0,xs:12,children:(0,t.jsx)(s.Z,{children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(c.Z,{variant:"h6",sx:{mb:3},children:String(e("users.form.companies")||"Companies")}),(0,t.jsx)(i.ZP,{container:!0,spacing:2,children:r.companies_detail.map(r=>(0,t.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,t.jsxs)(o.Z,{sx:{p:2,border:e=>"1px solid ".concat(e.palette.divider),borderRadius:1,display:"flex",alignItems:"center",gap:2},children:[r.logo&&(0,t.jsx)(l.Z,{src:r.logo,alt:r.name,sx:{width:40,height:40},children:r.name.charAt(0)}),(0,t.jsxs)(o.Z,{sx:{flex:1},children:[(0,t.jsx)(c.Z,{variant:"body2",sx:{fontWeight:600},children:r.name}),r.code&&(0,t.jsxs)(c.Z,{variant:"caption",color:"text.secondary",children:[String(e("users.form.code")||"Code"),": ",r.code]})]})]})},r.id))})]})})}),(0,t.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,t.jsx)(x.Z,{sx:{my:2}}),(0,t.jsx)(k,{})]})]}):null};let I=()=>(0,t.jsx)(w,{});I.acl={action:"read",subject:"my-profile"},I.authGuard=!0;var P=I}},function(e){e.O(0,[4885,2785,3272,2888,9774,179],function(){return e(e.s=81581)}),_N_E=e.O()}]);
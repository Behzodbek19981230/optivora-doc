(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6419],{56494:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/document-form",function(){return n(13269)}])},34375:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(63366),o=n(87462),a=n(67294),i=n(86010),l=n(94780),s=n(96788),c=n(29567),d=n(77527),u=n(1588),m=n(34867);function g(e){return(0,m.Z)("MuiCardHeader",e)}let p=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var f=n(85893);let h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},g,t)},Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,o.Z)({["& .".concat(p.title)]:t.title,["& .".concat(p.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),x=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),S=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var j=a.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:a,avatar:l,className:d,component:u="div",disableTypography:m=!1,subheader:g,subheaderTypographyProps:p,title:j,titleTypographyProps:y}=n,w=(0,r.Z)(n,h),k=(0,o.Z)({},n,{component:u,disableTypography:m}),C=v(k),R=j;null==R||R.type===s.Z||m||(R=(0,f.jsx)(s.Z,(0,o.Z)({variant:l?"body2":"h5",className:C.title,component:"span",display:"block"},y,{children:R})));let N=g;return null==N||N.type===s.Z||m||(N=(0,f.jsx)(s.Z,(0,o.Z)({variant:l?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},p,{children:N}))),(0,f.jsxs)(Z,(0,o.Z)({className:(0,i.Z)(C.root,d),as:u,ref:t,ownerState:k},w,{children:[l&&(0,f.jsx)(x,{className:C.avatar,ownerState:k,children:l}),(0,f.jsxs)(b,{className:C.content,ownerState:k,children:[R,N]}),a&&(0,f.jsx)(S,{className:C.action,ownerState:k,children:a})]}))})},84166:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(63366),o=n(87462),a=n(67294),i=n(86010),l=n(59766),s=n(94780),c=n(34867),d=n(13264),u=n(29628),m=n(39707),g=n(66500),p=n(95408),f=n(98700),h=n(85893);let v=["component","direction","spacing","divider","children","className","useFlexGap"],Z=(0,g.Z)(),x=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function S(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:Z})}let b=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],j=({ownerState:e,theme:t})=>{let n=(0,o.Z)({display:"flex",flexDirection:"column"},(0,p.k9)({theme:t},(0,p.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,f.hB)(t),o=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),a=(0,p.P$)({values:e.direction,base:o}),i=(0,p.P$)({values:e.spacing,base:o});"object"==typeof a&&Object.keys(a).forEach((e,t,n)=>{if(!a[e]){let r=t>0?a[n[t-1]]:"column";a[e]=r}}),n=(0,l.Z)(n,(0,p.k9)({theme:t},i,(t,n)=>e.useFlexGap?{gap:(0,f.NA)(r,t)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${b(n?a[n]:e.direction)}`]:(0,f.NA)(r,t)}}))}return(0,p.dt)(t.breakpoints,n)};var y=n(77527),w=n(29567),k=function(e={}){let{createStyledComponent:t=x,useThemeProps:n=S,componentName:l="MuiStack"}=e,d=()=>(0,s.Z)({root:["root"]},e=>(0,c.Z)(l,e),{}),u=t(j);return a.forwardRef(function(e,t){let l=n(e),s=(0,m.Z)(l),{component:c="div",direction:g="column",spacing:p=0,divider:f,children:Z,className:x,useFlexGap:S=!1}=s,b=(0,r.Z)(s,v),j=d();return(0,h.jsx)(u,(0,o.Z)({as:c,ownerState:{direction:g,spacing:p,useFlexGap:S},ref:t,className:(0,i.Z)(j.root,x)},b,{children:f?function(e,t){let n=a.Children.toArray(e).filter(Boolean);return n.reduce((e,r,o)=>(e.push(r),o<n.length-1&&e.push(a.cloneElement(t,{key:`separator-${o}`})),e),[])}(Z,f):Z}))})}({createStyledComponent:(0,y.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,w.Z)({props:e,name:"MuiStack"})})},82071:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});let r=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:t=>{let{from:n,to:r,count:o}=t;return"".concat(n,"â€“").concat(r," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==o?o:">".concat(r))}}})},33251:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(30202),o=n(33934),a=n(52293);let i=function(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=(0,r.NL)(),c=["list",e,i],d=Object.fromEntries(Object.entries(i).filter(e=>{let[,t]=e;return void 0!==t})),{data:u,isLoading:m,error:g}=(0,o.a)({queryKey:c,queryFn:async()=>{var t,n,r;let o=(await a.Do.get(e,d)).data,i=Array.isArray(o)?o:null!==(n=null==o?void 0:o.results)&&void 0!==n?n:[],l=Array.isArray(o)?i.length:null!==(r=null==o?void 0:null===(t=o.pagination)||void 0===t?void 0:t.total)&&void 0!==r?r:i.length;return{items:i,total:l}},enabled:l,staleTime:3e4});return{data:null!==(t=null==u?void 0:u.items)&&void 0!==t?t:[],total:null!==(n=null==u?void 0:u.total)&&void 0!==n?n:0,loading:m,error:g,mutate:()=>{s.invalidateQueries({queryKey:c})}}}},13269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(85893),o=n(67294),a=n(84166),i=n(21038),l=n(52857),s=n(60762),c=n(34375),d=n(51015),u=n(16127),m=n(74538),g=n(33251),p=n(75673),f=n(52293),h=n(58898),v=n(33453),Z=n(92365),x=n(40110),S=n(96727),b=n(87536),j=n(7879),y=n(22120);let w={name:"",name_en:"",name_uz:"",name_ru:""};var k=e=>{let{open:t,item:n,onClose:i,onSaved:l}=e,s=(0,h.Z)(),{t:c}=(0,y.$G)(),{control:u,handleSubmit:g,reset:p,formState:{isSubmitting:k}}=(0,b.cI)({defaultValues:w});(0,o.useEffect)(()=>{p(n||w)},[n,p]);let C=async e=>{(null==n?void 0:n.id)?(await f.Do.put(m.Z.documentFormById(n.id),e),s.success(String(c("documentForm.toast.updated")))):(await f.Do.post(m.Z.documentForm,e),s.success(String(c("documentForm.toast.created")))),l()};return(0,r.jsxs)(v.Z,{open:t,onClose:i,fullWidth:!0,maxWidth:"sm",children:[(0,r.jsx)(Z.Z,{children:(null==n?void 0:n.id)?String(c("documentForm.edit.title")):String(c("documentForm.create.title"))}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)(a.Z,{spacing:4,sx:{mt:2},children:[(0,r.jsx)(b.Qr,{name:"name_en",control:u,rules:{required:!0},render:e=>{let{field:t}=e;return(0,r.jsx)(j.Z,{...t,label:String(c("common.nameEn")),fullWidth:!0})}}),(0,r.jsx)(b.Qr,{name:"name_uz",control:u,rules:{required:!0},render:e=>{let{field:t}=e;return(0,r.jsx)(j.Z,{...t,label:String(c("common.nameUz")),fullWidth:!0})}}),(0,r.jsx)(b.Qr,{name:"name_ru",control:u,rules:{required:!0},render:e=>{let{field:t}=e;return(0,r.jsx)(j.Z,{...t,label:String(c("common.nameRu")),fullWidth:!0})}})]})}),(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(d.Z,{variant:"outlined",onClick:i,disabled:k,children:String(c("common.cancel"))}),(0,r.jsx)(d.Z,{variant:"contained",onClick:g(C),disabled:k,children:(null==n?void 0:n.id)?String(c("common.save")):String(c("common.create"))})]})]})},C=n(82071),R=()=>{let e=(0,h.Z)(),{t}=(0,y.$G)(),[n,v]=(0,o.useState)({page:0,pageSize:10}),[Z,x]=(0,o.useState)(!1),[S,b]=(0,o.useState)(null),{data:j=[],total:w,loading:R,mutate:N}=(0,g.z)(m.Z.documentForm,{page:n.page+1,limit:n.pageSize}),_=[{field:"name_en",headerName:String(t("common.nameEn")),flex:.2,minWidth:140},{field:"name_uz",headerName:String(t("common.nameUz")),flex:.2,minWidth:140},{field:"name_ru",headerName:String(t("common.nameRu")),flex:.2,minWidth:140},{field:"actions",headerName:String(t("common.actions")),flex:.15,minWidth:130,sortable:!1,renderCell:n=>{let o=n.row;return(0,r.jsxs)(a.Z,{direction:"row",spacing:1,children:[(0,r.jsx)(i.Z,{title:String(t("common.edit")),children:(0,r.jsx)(l.Z,{size:"small",onClick:()=>{b(o),x(!0)},children:(0,r.jsx)(p.Z,{icon:"tabler:edit"})})}),(0,r.jsx)(i.Z,{title:String(t("common.delete")),children:(0,r.jsx)(l.Z,{size:"small",color:"error",onClick:async()=>{await f.Do.delete(m.Z.documentFormById(o.id)),e.success(String(t("documentForm.toast.deleted"))),N()},children:(0,r.jsx)(p.Z,{icon:"tabler:trash"})})})]})}}];return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(c.Z,{title:String(t("documentForm.title")),action:(0,r.jsx)(d.Z,{variant:"contained",onClick:()=>{b(null),x(!0)},children:String(t("common.create"))})}),(0,r.jsx)(u._,{autoHeight:!0,rowHeight:56,rows:j,columns:_,loading:R,rowCount:w,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:v,getRowId:e=>e.id,localeText:(0,C.x)(t)}),(0,r.jsx)(k,{open:Z,item:S,onClose:()=>x(!1),onSaved:()=>{x(!1),N()}})]})},N=()=>(0,r.jsx)(R,{})}},function(e){e.O(0,[2785,7536,6127,2888,9774,179],function(){return e(e.s=56494)}),_N_E=e.O()}]);
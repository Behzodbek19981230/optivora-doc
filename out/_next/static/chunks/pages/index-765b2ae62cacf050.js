(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(83276)}])},81782:function(t,e,a){"use strict";var r=a(5152);let o=a.n(r)()(()=>Promise.all([a.e(4814),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});e.Z=o},19653:function(t,e,a){"use strict";let r=(0,a(77527).ZP)("div")(t=>{let{theme:e}=t;return{"& .apexcharts-canvas":{"& line[stroke='transparent']":{display:"none"},"& .apexcharts-tooltip":{boxShadow:e.shadows[3],borderColor:e.palette.divider,background:e.palette.background.paper,"& .apexcharts-tooltip-title":{fontWeight:600,borderColor:e.palette.divider,background:e.palette.background.paper},"&.apexcharts-theme-light":{color:e.palette.text.primary},"&.apexcharts-theme-dark":{color:e.palette.common.white},"& .apexcharts-tooltip-series-group:first-of-type":{paddingBottom:0},"& .bar-chart":{padding:e.spacing(2,2.5)}},"& .apexcharts-xaxistooltip":{borderColor:e.palette.divider,background:"light"===e.palette.mode?e.palette.grey[50]:e.palette.customColors.bodyBg,"&:after":{borderBottomColor:"light"===e.palette.mode?e.palette.grey[50]:e.palette.customColors.bodyBg},"&:before":{borderBottomColor:e.palette.divider}},"& .apexcharts-yaxistooltip":{borderColor:e.palette.divider,background:"light"===e.palette.mode?e.palette.grey[50]:e.palette.customColors.bodyBg,"&:after":{borderLeftColor:"light"===e.palette.mode?e.palette.grey[50]:e.palette.customColors.bodyBg},"&:before":{borderLeftColor:e.palette.divider}},"& .apexcharts-xaxistooltip-text, & .apexcharts-yaxistooltip-text":{color:e.palette.text.primary},"& .apexcharts-yaxis .apexcharts-yaxis-texts-g .apexcharts-yaxis-label":{textAnchor:"rtl"===e.direction?"start":void 0},"& .apexcharts-text, & .apexcharts-tooltip-text, & .apexcharts-datalabel-label, & .apexcharts-datalabel, & .apexcharts-xaxistooltip-text, & .apexcharts-yaxistooltip-text, & .apexcharts-legend-text":{fontFamily:"".concat(e.typography.fontFamily," !important")},"& .apexcharts-pie-label":{filter:"none",fill:e.palette.common.white},"& .apexcharts-marker":{boxShadow:"none"}}}});e.Z=r},83276:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return E}});var r=a(85893),o=a(68573),s=a(33934),i=a(19653),n=a(52293),l=a(34273),d=a(60762),c=a(77527),h=a(96788),p=a(71919),g=a(22120);let m=(0,c.ZP)("img")(t=>{let{theme:e}=t;return{right:20,bottom:0,position:"absolute",[e.breakpoints.down("sm")]:{right:5,width:110}}});var x=()=>{let{user:t}=(0,l.a)(),{t:e}=(0,g.$G)();return(0,r.jsx)(d.Z,{sx:{position:"relative",flex:1},children:(0,r.jsxs)(p.Z,{sx:{height:192},children:[(0,r.jsx)(h.Z,{variant:"h5",sx:{mb:.5},children:String(e("dashboards.congrats.title",{name:(null==t?void 0:t.fullname)||""}))}),(0,r.jsx)(h.Z,{sx:{mb:2,color:"text.secondary"},children:String(e("dashboards.congrats.subtitle"))}),(0,r.jsx)(m,{width:116,alt:"congratulations john",src:"/images/cards/congratulations-john.png"})]})})},b=a(90642),u=a(34375),y=a(75673),f=a(90142);let S=(t,e)=>[{stats:t.employees_count.toString(),title:String(e("dashboards.statistics.employees")),color:"primary",icon:"tabler:users"},{color:"info",stats:t.documents_count.toString(),title:String(e("dashboards.statistics.documents")),icon:"tabler:file-text"},{color:"error",stats:t.archive_documents_count.toString(),title:String(e("dashboards.statistics.archiveDocuments")),icon:"tabler:archive"},{stats:t.orders_count.toString(),color:"success",title:String(e("dashboards.statistics.orders")),icon:"tabler:clipboard-list"}].map((t,e)=>(0,r.jsx)(o.ZP,{item:!0,xs:6,md:3,children:(0,r.jsxs)(b.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(f.Z,{skin:"light",color:t.color,sx:{mr:4,width:42,height:42},children:(0,r.jsx)(y.Z,{icon:t.icon,fontSize:"1.5rem"})}),(0,r.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)(h.Z,{variant:"h5",children:t.stats}),(0,r.jsx)(h.Z,{variant:"body2",children:t.title})]})]},e)},e));var j=t=>{let{cards:e}=t,{t:a}=(0,g.$G)();return(0,r.jsxs)(d.Z,{sx:{flex:1},children:[(0,r.jsx)(u.Z,{title:String(a("dashboards.statistics.title")),sx:{"& .MuiCardHeader-action":{m:0,alignSelf:"center"}},action:(0,r.jsx)(h.Z,{variant:"body2",sx:{color:"text.disabled"},children:String(a("dashboards.statistics.updated"))})}),(0,r.jsx)(p.Z,{sx:{pt:t=>"".concat(t.spacing(7)," !important"),pb:t=>"".concat(t.spacing(7.5)," !important")},children:(0,r.jsx)(o.ZP,{container:!0,spacing:6,children:S(e,a)})})]})},v=a(18745),_=a(81782),Z=a(17643),k=t=>{let{chartData:e}=t,a=(0,v.Z)(),{t:o}=(0,g.$G)(),s=e.datasets.map(t=>({name:String(o("dashboards.charts.".concat(t.key))),data:t.data})),i={chart:{type:"bar",stacked:!1,parentHeightOffset:0,toolbar:{show:!1}},plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},dataLabels:{enabled:!1},colors:[(0,Z.E)(a.palette.primary.main,1),(0,Z.E)(a.palette.warning.main,1)],legend:{position:"top",horizontalAlign:"left",labels:{colors:a.palette.text.secondary},markers:{width:12,height:12,radius:10,offsetY:1}},stroke:{width:2,colors:[a.palette.background.paper]},xaxis:{categories:e.labels,labels:{style:{colors:a.palette.text.secondary}}},yaxis:{labels:{style:{colors:a.palette.text.secondary},formatter:t=>t%1==0?Math.floor(t).toString():t.toString()}},grid:{borderColor:a.palette.divider,padding:{top:-10,right:0,left:-10,bottom:0}},tooltip:{theme:"light",y:{formatter:t=>t%1==0?Math.floor(t).toString():t.toString()}}};return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(u.Z,{title:String(o("dashboards.charts.acceptedVsArchived"))}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(_.Z,{type:"bar",height:400,options:i,series:s})})]})},w=t=>{let{chartData:e}=t,a=(0,v.Z)(),{t:o}=(0,g.$G)(),s=e.datasets.map(t=>({name:String(o("dashboards.charts.".concat(t.key))),data:t.data})),i={chart:{type:"line",parentHeightOffset:0,toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},colors:[(0,Z.E)(a.palette.primary.main,1),(0,Z.E)(a.palette.info.main,1),(0,Z.E)(a.palette.warning.main,1),(0,Z.E)(a.palette.error.main,1),(0,Z.E)(a.palette.success.main,1),(0,Z.E)(a.palette.secondary.main,1)],legend:{position:"top",horizontalAlign:"left",labels:{colors:a.palette.text.secondary},markers:{width:12,height:12,radius:10,offsetY:1}},xaxis:{categories:e.labels,labels:{style:{colors:a.palette.text.secondary}}},yaxis:{labels:{style:{colors:a.palette.text.secondary},formatter:t=>t%1==0?Math.floor(t).toString():t.toString()}},grid:{borderColor:a.palette.divider,padding:{top:-10,right:0,left:-10,bottom:0}},tooltip:{theme:"light",y:{formatter:t=>t%1==0?Math.floor(t).toString():t.toString()}}};return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(u.Z,{title:String(o("dashboards.charts.documentsByStatus"))}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(_.Z,{type:"line",height:400,options:i,series:s})})]})};function C(t){return!!t&&"object"==typeof t&&!!t.cards&&!!t.charts&&!!t.charts.accepted_vs_archived}var E=()=>{let{user:t}=(0,l.a)(),{t:e}=(0,g.$G)(),{data:a,isLoading:d,isError:c}=(0,s.a)({queryKey:["dashboard/stats/"],queryFn:async()=>(await n.Do.post("dashboard/stats/",(null==t?void 0:t.company_id)!=null?{company:Number(null==t?void 0:t.company_id)}:{})).data,enabled:!!t,staleTime:1e4});if(console.log("Data from API:",a),d)return(0,r.jsx)("div",{children:String(e("common.loading"))});if(c)return(0,r.jsx)("div",{children:String(e("errors.somethingWentWrong"))});let h={company_id:3,year:2025,cards:{employees_count:2,documents_count:2,archive_documents_count:0,orders_count:0},charts:{accepted_vs_archived:{labels:[String(e("month.jan")),String(e("month.feb")),String(e("month.mar")),String(e("month.apr")),String(e("month.may")),String(e("month.jun")),String(e("month.jul")),String(e("month.aug")),String(e("month.sep")),String(e("month.oct")),String(e("month.nov")),String(e("month.dec"))],datasets:[{key:"accepted",label:"Qabul qilingan",data:[0,0,0,0,0,0,0,0,0,0,0,2]},{key:"archived",label:"Arxiv (DONE)",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]},documents_by_status:{labels:[String(e("month.jan")),String(e("month.feb")),String(e("month.mar")),String(e("month.apr")),String(e("month.may")),String(e("month.jun")),String(e("month.jul")),String(e("month.aug")),String(e("month.sep")),String(e("month.oct")),String(e("month.nov")),String(e("month.dec"))],datasets:[{key:"new",label:"Yangi ro‘yxatga olingan",data:[0,0,0,0,0,0,0,0,0,0,0,2]},{key:"in_progress",label:"Jarayonda",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{key:"on_review",label:"Ko‘rib chiqilmoqda",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{key:"returned",label:"Qaytarilgan",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{key:"done",label:"Ijrosi ta’minlangan",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{key:"cancelled",label:"Bekor qilingan",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]}}},p=(C(a)?a:C(null==a?void 0:a.results)?a.results:void 0)||h;return(0,r.jsx)(i.Z,{children:(0,r.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(o.ZP,{item:!0,xs:12,md:4,sx:{display:"flex"},children:(0,r.jsx)(x,{})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,md:8,sx:{display:"flex"},children:(0,r.jsx)(j,{cards:p.cards})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,lg:6,children:(0,r.jsx)(k,{chartData:p.charts.accepted_vs_archived})}),(0,r.jsx)(o.ZP,{item:!0,xs:12,lg:6,children:(0,r.jsx)(w,{chartData:p.charts.documents_by_status})})]})})}}},function(t){t.O(0,[3934,2593,2888,9774,179],function(){return t(t.s=48312)}),_N_E=t.O()}]);
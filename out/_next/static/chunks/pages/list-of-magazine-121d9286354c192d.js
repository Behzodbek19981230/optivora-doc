(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6263],{50811:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list-of-magazine",function(){return t(17836)}])},84166:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var i=t(63366),r=t(87462),o=t(67294),a=t(86010),l=t(59766),s=t(94780),c=t(34867),u=t(13264),d=t(29628),m=t(39707),g=t(66500),f=t(95408),h=t(98700),p=t(85893);let x=["component","direction","spacing","divider","children","className","useFlexGap"],v=(0,g.Z)(),Z=(0,u.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root});function j(e){return(0,d.Z)({props:e,name:"MuiStack",defaultTheme:v})}let S=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],w=({ownerState:e,theme:n})=>{let t=(0,r.Z)({display:"flex",flexDirection:"column"},(0,f.k9)({theme:n},(0,f.P$)({values:e.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let i=(0,h.hB)(n),r=Object.keys(n.breakpoints.values).reduce((n,t)=>(("object"==typeof e.spacing&&null!=e.spacing[t]||"object"==typeof e.direction&&null!=e.direction[t])&&(n[t]=!0),n),{}),o=(0,f.P$)({values:e.direction,base:r}),a=(0,f.P$)({values:e.spacing,base:r});"object"==typeof o&&Object.keys(o).forEach((e,n,t)=>{if(!o[e]){let i=n>0?o[t[n-1]]:"column";o[e]=i}}),t=(0,l.Z)(t,(0,f.k9)({theme:n},a,(n,t)=>e.useFlexGap?{gap:(0,h.NA)(i,n)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${S(t?o[t]:e.direction)}`]:(0,h.NA)(i,n)}}))}return(0,f.dt)(n.breakpoints,t)};var b=t(77527),y=t(29567),k=function(e={}){let{createStyledComponent:n=Z,useThemeProps:t=j,componentName:l="MuiStack"}=e,u=()=>(0,s.Z)({root:["root"]},e=>(0,c.Z)(l,e),{}),d=n(w);return o.forwardRef(function(e,n){let l=t(e),s=(0,m.Z)(l),{component:c="div",direction:g="column",spacing:f=0,divider:h,children:v,className:Z,useFlexGap:j=!1}=s,S=(0,i.Z)(s,x),w=u();return(0,p.jsx)(d,(0,r.Z)({as:c,ownerState:{direction:g,spacing:f,useFlexGap:j},ref:n,className:(0,a.Z)(w.root,Z)},S,{children:h?function(e,n){let t=o.Children.toArray(e).filter(Boolean);return t.reduce((e,i,r)=>(e.push(i),r<t.length-1&&e.push(o.cloneElement(n,{key:`separator-${r}`})),e),[])}(v,h):v}))})}({createStyledComponent:(0,b.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root}),useThemeProps:e=>(0,y.Z)({props:e,name:"MuiStack"})})},82071:function(e,n,t){"use strict";t.d(n,{x:function(){return i}});let i=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:n=>{let{from:t,to:i,count:r}=n;return"".concat(t,"â€“").concat(i," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==r?r:">".concat(i))}}})},33251:function(e,n,t){"use strict";t.d(n,{z:function(){return a}});var i=t(30202),r=t(33934),o=t(52293);let a=function(e){var n,t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=(0,i.NL)(),c=["list",e,a],u=Object.fromEntries(Object.entries(a).filter(e=>{let[,n]=e;return void 0!==n})),{data:d,isLoading:m,error:g}=(0,r.a)({queryKey:c,queryFn:async()=>{var n,t,i;let r=(await o.Do.get(e,u)).data,a=Array.isArray(r)?r:null!==(t=null==r?void 0:r.results)&&void 0!==t?t:[],l=Array.isArray(r)?a.length:null!==(i=null==r?void 0:null===(n=r.pagination)||void 0===n?void 0:n.total)&&void 0!==i?i:a.length;return{items:a,total:l}},enabled:l,staleTime:3e4});return{data:null!==(n=null==d?void 0:d.items)&&void 0!==n?n:[],total:null!==(t=null==d?void 0:d.total)&&void 0!==t?t:0,loading:m,error:g,mutate:()=>{s.invalidateQueries({queryKey:c})}}}},17836:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var i=t(85893),r=t(67294),o=t(84166),a=t(21038),l=t(52857),s=t(60762),c=t(34375),u=t(73907),d=t(16127),m=t(74538),g=t(33251),f=t(75673),h=t(52293),p=t(58898),x=t(33453),v=t(92365),Z=t(40110),j=t(68573),S=t(96727),w=t(87536),b=t(7879),y=t(22120);let k={name:"",name_en:"",name_uz:"",name_ru:""};var z=e=>{let{open:n,item:t,onClose:o,onSaved:a}=e,l=(0,p.Z)(),{t:s}=(0,y.$G)(),{control:c,handleSubmit:d,reset:g}=(0,w.cI)({defaultValues:k});(0,r.useEffect)(()=>{t?g(t):g(k)},[t,g]);let f=async e=>{try{(null==t?void 0:t.id)?(await h.Do.put(m.Z.listOfMagazineById(t.id),e),l.success(String(s("listOfMagazine.toast.updated")))):(await h.Do.post(m.Z.listOfMagazine,e),l.success(String(s("listOfMagazine.toast.created")))),a()}catch(e){l.error((null==e?void 0:e.message)||String(s("common.error")))}};return(0,i.jsxs)(x.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:o,children:[(0,i.jsx)(v.Z,{children:t?String(s("listOfMagazine.edit.title")):String(s("listOfMagazine.create.title"))}),(0,i.jsxs)("form",{onSubmit:d(f),children:[(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,i.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(w.Qr,{name:"name_en",control:c,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(b.Z,{fullWidth:!0,label:String(s("common.nameEn")),...n})}})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(w.Qr,{name:"name_uz",control:c,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(b.Z,{fullWidth:!0,label:String(s("common.nameUz")),...n})}})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(w.Qr,{name:"name_ru",control:c,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(b.Z,{fullWidth:!0,label:String(s("common.nameRu")),...n})}})})]})}),(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(u.Z,{variant:"outlined",onClick:o,children:String(s("common.cancel"))}),(0,i.jsx)(u.Z,{variant:"contained",type:"submit",children:String(s("common.save"))})]})]})]})},_=t(82071),M=()=>{let e=(0,p.Z)(),{t:n}=(0,y.$G)(),[t,x]=(0,r.useState)({page:0,pageSize:10}),[v,Z]=(0,r.useState)(!1),[j,S]=(0,r.useState)(null),{data:w=[],total:b,loading:k,mutate:M}=(0,g.z)(m.Z.listOfMagazine,{page:t.page+1,limit:t.pageSize}),O=[{field:"name_en",headerName:String(n("common.nameEn")),flex:.2,minWidth:140},{field:"name_uz",headerName:String(n("common.nameUz")),flex:.2,minWidth:140},{field:"name_ru",headerName:String(n("common.nameRu")),flex:.2,minWidth:140},{field:"actions",headerName:String(n("common.actions")),flex:.15,minWidth:130,sortable:!1,renderCell:t=>{let r=t.row;return(0,i.jsxs)(o.Z,{direction:"row",spacing:1,children:[(0,i.jsx)(a.Z,{title:String(n("common.edit")),children:(0,i.jsx)(l.Z,{size:"small",onClick:()=>{S(r),Z(!0)},children:(0,i.jsx)(f.Z,{icon:"tabler:edit"})})}),(0,i.jsx)(a.Z,{title:String(n("common.delete")),children:(0,i.jsx)(l.Z,{size:"small",color:"error",onClick:async()=>{await h.Do.delete(m.Z.listOfMagazineById(r.id)),e.success(String(n("listOfMagazine.toast.deleted"))),M()},children:(0,i.jsx)(f.Z,{icon:"tabler:trash"})})})]})}}];return(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(c.Z,{title:String(n("listOfMagazine.title")),action:(0,i.jsx)(u.Z,{variant:"contained",onClick:()=>{S(null),Z(!0)},children:String(n("common.create"))})}),(0,i.jsx)(d._,{autoHeight:!0,rowHeight:56,rows:w,columns:O,loading:k,rowCount:b,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:t,onPaginationModelChange:x,getRowId:e=>e.id,localeText:(0,_.x)(n)}),(0,i.jsx)(z,{open:v,item:j,onClose:()=>Z(!1),onSaved:()=>{Z(!1),M()}})]})},O=()=>(0,i.jsx)(M,{})}},function(e){e.O(0,[2785,7536,7605,2888,9774,179],function(){return e(e.s=50811)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6419],{56494:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/document-form",function(){return l(13269)}])},13269:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return v}});var i=l(85893),r=l(67294),t=l(84166),a=l(21038),s=l(52857),d=l(60762),o=l(34375),u=l(73907),c=l(22057),m=l(74538),h=l(33251),x=l(75673),f=l(52293),j=l(58898),Z=l(33453),_=l(92365),p=l(40110),N=l(96727),g=l(87536),w=l(7879);let C={name:"",name_en:"",name_uz:"",name_ru:""};var b=e=>{let{open:n,item:l,onClose:a,onSaved:s}=e,d=(0,j.Z)(),{control:o,handleSubmit:c,reset:h,formState:{isSubmitting:x}}=(0,g.cI)({defaultValues:C});(0,r.useEffect)(()=>{h(l||C)},[l,h]);let b=async e=>{(null==l?void 0:l.id)?(await f.Do.put(m.Z.documentFormById(l.id),e),d.success("Updated successfully")):(await f.Do.post(m.Z.documentForm,e),d.success("Created successfully")),s()};return(0,i.jsxs)(Z.Z,{open:n,onClose:a,fullWidth:!0,maxWidth:"sm",children:[(0,i.jsx)(_.Z,{children:(null==l?void 0:l.id)?"Edit Document Form":"New Document Form"}),(0,i.jsx)(p.Z,{children:(0,i.jsxs)(t.Z,{spacing:4,sx:{mt:2},children:[(0,i.jsx)(g.Qr,{name:"name",control:o,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(w.Z,{...n,label:"Name",fullWidth:!0})}}),(0,i.jsx)(g.Qr,{name:"name_en",control:o,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(w.Z,{...n,label:"Name (EN)",fullWidth:!0})}}),(0,i.jsx)(g.Qr,{name:"name_uz",control:o,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(w.Z,{...n,label:"Name (UZ)",fullWidth:!0})}}),(0,i.jsx)(g.Qr,{name:"name_ru",control:o,rules:{required:!0},render:e=>{let{field:n}=e;return(0,i.jsx)(w.Z,{...n,label:"Name (RU)",fullWidth:!0})}})]})}),(0,i.jsxs)(N.Z,{children:[(0,i.jsx)(u.Z,{variant:"outlined",onClick:a,disabled:x,children:"Cancel"}),(0,i.jsx)(u.Z,{variant:"contained",onClick:c(b),disabled:x,children:(null==l?void 0:l.id)?"Save":"Create"})]})]})},k=()=>{let e=(0,j.Z)(),[n,l]=(0,r.useState)({page:0,pageSize:10}),[Z,_]=(0,r.useState)(!1),[p,N]=(0,r.useState)(null),{data:g=[],total:w,loading:C,mutate:k}=(0,h.z)(m.Z.documentForm,{page:n.page+1,perPage:n.pageSize});return(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(o.Z,{title:"Hujjat shakllari",action:(0,i.jsx)(u.Z,{variant:"contained",onClick:()=>{N(null),_(!0)},children:"Yaratish"})}),(0,i.jsx)(c._,{autoHeight:!0,rowHeight:56,rows:g,columns:[{field:"name",headerName:"Name",flex:.25,minWidth:160},{field:"name_en",headerName:"Name (EN)",flex:.2,minWidth:140},{field:"name_uz",headerName:"Name (UZ)",flex:.2,minWidth:140},{field:"name_ru",headerName:"Name (RU)",flex:.2,minWidth:140},{field:"actions",headerName:"Actions",flex:.15,minWidth:130,sortable:!1,renderCell:n=>{let l=n.row;return(0,i.jsxs)(t.Z,{direction:"row",spacing:1,children:[(0,i.jsx)(a.Z,{title:"Edit",children:(0,i.jsx)(s.Z,{size:"small",onClick:()=>{N(l),_(!0)},children:(0,i.jsx)(x.Z,{icon:"tabler:edit"})})}),(0,i.jsx)(a.Z,{title:"Delete",children:(0,i.jsx)(s.Z,{size:"small",color:"error",onClick:async()=>{await f.Do.delete(m.Z.documentFormById(l.id)),e.success("Deleted"),k()},children:(0,i.jsx)(x.Z,{icon:"tabler:trash"})})})]})}}],loading:C,rowCount:w,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:n,onPaginationModelChange:l,getRowId:e=>e.id}),(0,i.jsx)(b,{open:Z,item:p,onClose:()=>_(!1),onSaved:()=>{_(!1),k()}})]})},v=()=>(0,i.jsx)(k,{})}},function(e){e.O(0,[9674,7536,2057,3934,5698,2888,9774,179],function(){return e(e.s=56494)}),_N_E=e.O()}]);
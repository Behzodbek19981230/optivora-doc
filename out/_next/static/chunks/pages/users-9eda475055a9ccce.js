(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892],{66249:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return r(73550)}])},7879:function(e,t,r){"use strict";var a=r(85893),o=r(67294),i=r(77527),n=r(40492);let d=(0,i.ZP)(n.Z)(e=>{let{theme:t}=e;return{alignItems:"flex-start","& .MuiInputLabel-root":{transform:"none",lineHeight:1.154,position:"relative",marginBottom:t.spacing(1),fontSize:t.typography.body2.fontSize,color:"".concat(t.palette.text.primary," !important")},"& .MuiInputBase-root":{borderRadius:8,backgroundColor:"transparent !important",border:"1px solid rgba(".concat(t.palette.customColors.main,", 0.2)"),transition:t.transitions.create(["border-color","box-shadow"],{duration:t.transitions.duration.shorter}),"&:not(.Mui-focused):not(.Mui-disabled):not(.Mui-error):hover":{borderColor:"rgba(".concat(t.palette.customColors.main,", 0.28)")},"&:before, &:after":{display:"none"},"&.MuiInputBase-sizeSmall":{borderRadius:6},"&.Mui-error":{borderColor:t.palette.error.main},"&.Mui-focused":{boxShadow:t.shadows[2],"& .MuiInputBase-input:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transform:"translateX(4px)"},"&.MuiInputBase-colorPrimary":{borderColor:t.palette.primary.main},"&.MuiInputBase-colorSecondary":{borderColor:t.palette.secondary.main},"&.MuiInputBase-colorInfo":{borderColor:t.palette.info.main},"&.MuiInputBase-colorSuccess":{borderColor:t.palette.success.main},"&.MuiInputBase-colorWarning":{borderColor:t.palette.warning.main},"&.MuiInputBase-colorError":{borderColor:t.palette.error.main},"&.Mui-error":{borderColor:t.palette.error.main}},"&.Mui-disabled":{backgroundColor:"".concat(t.palette.action.selected," !important")},"& .MuiInputAdornment-root":{marginTop:"0 !important"}},"& .MuiInputBase-input":{color:t.palette.text.secondary,"&:not(textarea)":{padding:"15.5px 13px"},"&:not(textarea).MuiInputBase-inputSizeSmall":{padding:"7.5px 13px"},"&:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter})},"&.MuiInputBase-inputAdornedStart:not(.MuiAutocomplete-input)":{paddingLeft:0},"&.MuiInputBase-inputAdornedEnd:not(.MuiAutocomplete-input)":{paddingRight:0}},"& .MuiFormHelperText-root":{lineHeight:1.154,margin:t.spacing(1,0,0),color:t.palette.text.secondary,fontSize:t.typography.body2.fontSize,"&.Mui-error":{color:t.palette.error.main}},"& .MuiSelect-select:focus, & .MuiNativeSelect-select:focus":{backgroundColor:"transparent"},"& .MuiSelect-filled .MuiChip-root":{height:22},"& .MuiAutocomplete-input":{paddingLeft:"6px !important",paddingTop:"7.5px !important",paddingBottom:"7.5px !important","&.MuiInputBase-inputSizeSmall":{paddingLeft:"6px !important",paddingTop:"2.5px !important",paddingBottom:"2.5px !important"}},"& .MuiAutocomplete-inputRoot":{paddingTop:"8px !important",paddingLeft:"8px !important",paddingBottom:"8px !important","&:not(.MuiInputBase-sizeSmall).MuiInputBase-adornedStart":{paddingLeft:"13px !important"},"&.MuiInputBase-sizeSmall":{paddingTop:"5px !important",paddingLeft:"5px !important",paddingBottom:"5px !important","& .MuiAutocomplete-tag":{margin:2,height:22}}},"& .MuiInputBase-multiline":{padding:"15.25px 13px","&.MuiInputBase-sizeSmall":{padding:"7.25px 13px"},"& textarea.MuiInputBase-inputSizeSmall:placeholder-shown":{overflowX:"hidden"}},"& + .react-datepicker__close-icon":{top:11,"&:after":{fontSize:"1.6rem !important"}}}}),c=(0,o.forwardRef)((e,t)=>{let{size:r="small",InputLabelProps:o,...i}=e;return(0,a.jsx)(d,{size:r,inputRef:t,...i,variant:"filled",InputLabelProps:{...o,shrink:!0}})});t.Z=c},74538:function(e,t){"use strict";let r=e=>Array.isArray(e)?e[0]:null==e?"":String(e);t.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(r(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(r(e)),region:"/region/",regionById:e=>"/region/".concat(r(e)),countryById:e=>"/country/".concat(r(e)),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(r(e)),industries:"/industry",industryById:e=>"/industry/".concat(r(e)),industryFields:"/industry/fields",users:"/user",userById:e=>"/user/".concat(r(e)),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(r(e)),services:"/service",serviceById:e=>"/service/".concat(r(e)),partners:"/partner",partnerById:e=>"/partner/".concat(r(e)),company:"/company/",companyById:e=>"/company/".concat(r(e)),replyLetter:"/reply-letter/",replyLetterById:e=>"/reply-letter/".concat(r(e)),replyLetterFile:"/reply-letter-file/",replyLetterFileById:e=>"/reply-letter-file/".concat(r(e)),documents:"/documents/",documentById:e=>"/documents/".concat(r(e)),documentForm:"/document-form/",documentFormById:e=>"/document-form/".concat(r(e)),listOfMagazine:"/list-of-magazine/",listOfMagazineById:e=>"/list-of-magazine/".concat(r(e)),department:"/department/",departmentById:e=>"/department/".concat(r(e)),position:"/position/",positionById:e=>"/position/".concat(r(e)),projects:"/project",projectById:e=>"/project/".concat(r(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(r(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(r(e)),stats:"/stats",statById:e=>"/stats/".concat(r(e)),faqs:"/faq",faqById:e=>"/faq/".concat(r(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(r(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(r(e)),news:"/news-post",newsById:e=>"/news-post/".concat(r(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(r(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(r(e)),applicationApprovedByID:e=>"/application-approved/".concat(r(e)),limitData:"/limit-data"}},33251:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var a=r(30202),o=r(33934),i=r(52293);let n=function(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,a.NL)(),c=["list",e,n],l=Object.fromEntries(Object.entries(n).filter(e=>{let[,t]=e;return void 0!==t})),{data:p,isLoading:s,error:m}=(0,o.a)({queryKey:c,queryFn:async()=>{var t,r,a;let o=(await i.Do.get(e,l)).data,n=Array.isArray(o)?o:null!==(r=null==o?void 0:o.results)&&void 0!==r?r:[],d=Array.isArray(o)?n.length:null!==(a=null==o?void 0:null===(t=o.pagination)||void 0===t?void 0:t.total)&&void 0!==a?a:n.length;return{items:n,total:d}},staleTime:3e4});return{data:null!==(t=null==p?void 0:p.items)&&void 0!==t?t:[],total:null!==(r=null==p?void 0:p.total)&&void 0!==r?r:0,loading:s,error:m,mutate:()=>{d.invalidateQueries({queryKey:c})}}}},73550:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return U}});var a=r(85893),o=r(67294),i=r(11163),n=r(81873),d=r(52857),c=r(60762),l=r(34375),p=r(73907),s=r(22057),m=r(90142),u=r(75673),g=r(33251),h=r(74538),y=r(52293),_=r(9198),x=r.n(_);r(5843);var b=r(87536),k=r(33453),f=r(92365),v=r(40110),w=r(96727),j=r(68573),C=r(12467),Z=r(15903),B=r(6897),I=r(85533),S=r(12283),M=r(15972),R=r(13539),z=r(65806),L=r(7879),W=r(86501),P=r(77527),q=r(90642),E=r(54560),T=r(2339),F=r(17643);let A=(0,P.ZP)(q.Z)(e=>{let{theme:t}=e,{settings:r}=(0,E.r)(),a=(0,T.Z)();return{"& .react-datepicker-popper":{zIndex:20},"& .react-datepicker-wrapper":{width:"100%"},"& .react-datepicker":{color:t.palette.text.primary,borderRadius:t.shape.borderRadius,fontFamily:t.typography.fontFamily,backgroundColor:t.palette.background.paper,boxShadow:t.shadows["bordered"===r.skin?0:4],border:"bordered"===r.skin?"1px solid ".concat(t.palette.divider):"none","& .react-datepicker__header":{padding:0,border:"none",fontWeight:"normal",backgroundColor:t.palette.background.paper,"&:not(.react-datepicker-year-header)":{"& + .react-datepicker__month, & + .react-datepicker__year":{margin:t.spacing(3.2),marginTop:t.spacing(6)}},"&.react-datepicker-year-header":{"& + .react-datepicker__month, & + .react-datepicker__year":{margin:t.spacing(3.2),marginTop:t.spacing(4)}}},"& .react-datepicker__triangle":{display:"none"},"& > .react-datepicker__navigation":{top:18,borderRadius:"50%",backgroundColor:t.palette.action.selected,"&.react-datepicker__navigation--previous":{width:26,height:26,border:"none",..."ltr"===t.direction?{left:15}:{right:15},backgroundImage:"".concat("url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' style=\\'width:24px;height:24px\\' viewBox=\\'0 0 24 24\\'%3E%3Cpath fill=\\'currentColor\\' d=\\'M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\\' /%3E%3C/svg%3E')".replace("currentColor",t.palette.text.secondary).replace("#","%23")),"& .react-datepicker__navigation-icon":{display:"none"}},"&.react-datepicker__navigation--next":{width:26,height:26,border:"none",..."ltr"===t.direction?{right:15}:{left:15},backgroundImage:"".concat("url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' style=\\'width:24px;height:24px\\' viewBox=\\'0 0 24 24\\'%3E%3Cpath fill=\\'currentColor\\' d=\\'M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\\' /%3E%3C/svg%3E')".replace("currentColor",t.palette.text.secondary).replace("#","%23")),"& .react-datepicker__navigation-icon":{display:"none"}},"&.react-datepicker__navigation--next--with-time":"ltr"===t.direction?{right:127}:{left:127},"&:focus, &:active":{outline:0}},"& .react-datepicker__month-container":{paddingTop:t.spacing(3.2),"& + .react-datepicker__month-container":{borderLeft:"1px solid ".concat(t.palette.divider)}},"& .react-datepicker__current-month, & .react-datepicker-year-header":{lineHeight:2.4,fontWeight:500,letterSpacing:"0.15px",marginBottom:t.spacing(3),color:t.palette.text.primary,fontSize:t.typography.body1.fontSize},"& .react-datepicker__day-name":{margin:0,lineHeight:1.5,fontWeight:500,width:"2.125rem",letterSpacing:"0.4px",color:t.palette.text.primary,fontSize:t.typography.body2.fontSize},"& .react-datepicker__day":{margin:0,width:"2.125rem",borderRadius:"50%",lineHeight:"2.125rem",color:t.palette.text.primary,fontSize:t.typography.body1.fontSize,"&.react-datepicker__day--selected.react-datepicker__day--in-selecting-range.react-datepicker__day--selecting-range-start, &.react-datepicker__day--selected.react-datepicker__day--range-start.react-datepicker__day--in-range, &.react-datepicker__day--range-start":{borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%",color:"".concat(t.palette.common.white," !important"),backgroundColor:"".concat(t.palette.primary.main," !important")},"&.react-datepicker__day--range-end.react-datepicker__day--in-range":{boxShadow:t.shadows[2],borderTopRightRadius:"50%",borderBottomRightRadius:"50%",color:"".concat(t.palette.common.white," !important"),backgroundColor:"".concat(t.palette.primary.main," !important")},"&:focus, &:active":{outline:0},"&.react-datepicker__day--outside-month, &.react-datepicker__day--disabled:not(.react-datepicker__day--selected)":{color:t.palette.text.disabled,"&:hover":{backgroundColor:"transparent"}},"&.react-datepicker__day--highlighted, &.react-datepicker__day--highlighted:hover":{color:t.palette.success.main,backgroundColor:"".concat(a.successLight.backgroundColor," !important"),"&.react-datepicker__day--selected":{backgroundColor:"".concat(t.palette.primary.main," !important")}}},"& .react-datepicker__day--in-range, & .react-datepicker__day--in-selecting-range":{borderRadius:0,color:t.palette.primary.main,backgroundColor:"".concat((0,F.E)(t.palette.primary.main,.16)," !important")},"& .react-datepicker__day--today":{fontWeight:"normal","&:not(.react-datepicker__day--selected):not(:empty)":{lineHeight:"2rem",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"&:hover":{backgroundColor:(0,F.E)(t.palette.primary.main,.04)},"&.react-datepicker__day--keyboard-selected":{backgroundColor:(0,F.E)(t.palette.primary.main,.06),"&:hover":{backgroundColor:(0,F.E)(t.palette.primary.main,.06)}}}},"& .react-datepicker__month-text--today":{fontWeight:"normal","&:not(.react-datepicker__month--selected)":{lineHeight:"2.125rem",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"&:hover":{backgroundColor:(0,F.E)(t.palette.primary.main,.04)}}},"& .react-datepicker__year-text--today":{fontWeight:"normal","&:not(.react-datepicker__year-text--selected)":{lineHeight:"2.125rem",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"&:hover":{backgroundColor:(0,F.E)(t.palette.primary.main,.04)},"&.react-datepicker__year-text--keyboard-selected":{color:t.palette.primary.main,backgroundColor:(0,F.E)(t.palette.primary.main,.06),"&:hover":{color:t.palette.primary.main,backgroundColor:(0,F.E)(t.palette.primary.main,.06)}}}},"& .react-datepicker__day--keyboard-selected":{"&:not(.react-datepicker__day--in-range)":{backgroundColor:"rgba(".concat(t.palette.customColors.main,", 0.06)"),"&:hover":{backgroundColor:"rgba(".concat(t.palette.customColors.main,", 0.06)")}},"&.react-datepicker__day--in-range:not(.react-datepicker__day--range-end)":{backgroundColor:"".concat(a.primaryLight.backgroundColor," !important"),"&:hover":{backgroundColor:"".concat(a.primaryLight.backgroundColor," !important")}}},"& .react-datepicker__month-text--keyboard-selected":{"&:not(.react-datepicker__month--in-range)":{color:t.palette.text.primary,backgroundColor:"rgba(".concat(t.palette.customColors.main,", 0.06)"),"&:hover":{color:t.palette.text.primary,backgroundColor:"rgba(".concat(t.palette.customColors.main,", 0.06)")}}},"& .react-datepicker__year-text--keyboard-selected, & .react-datepicker__quarter-text--keyboard-selected":{color:t.palette.text.primary,backgroundColor:"rgba(".concat(t.palette.customColors.main,", 0.06)"),"&:hover":{color:t.palette.text.primary,backgroundColor:"rgba(".concat(t.palette.customColors.main,", 0.06)")}},"& .react-datepicker__day--selected, & .react-datepicker__month--selected, & .react-datepicker__year-text--selected, & .react-datepicker__quarter--selected":{boxShadow:t.shadows[2],color:"".concat(t.palette.common.white," !important"),backgroundColor:"".concat(t.palette.primary.main," !important"),"&:hover":{backgroundColor:"".concat(t.palette.primary.dark," !important")}},"& .react-datepicker__header__dropdown":{"& .react-datepicker__month-dropdown-container:not(:last-child)":{marginRight:t.spacing(8)},"& .react-datepicker__month-dropdown-container, & .react-datepicker__year-dropdown-container":{marginBottom:t.spacing(4)},"& .react-datepicker__month-read-view--selected-month, & .react-datepicker__year-read-view--selected-year":{marginRight:t.spacing(1),color:t.palette.text.primary,fontSize:t.typography.body2.fontSize},"& .react-datepicker__month-read-view:hover .react-datepicker__month-read-view--down-arrow, & .react-datepicker__year-read-view:hover .react-datepicker__year-read-view--down-arrow":{borderColor:t.palette.text.secondary},"& .react-datepicker__month-read-view--down-arrow, & .react-datepicker__year-read-view--down-arrow":{top:4,borderColor:t.palette.text.disabled},"& .react-datepicker__month-dropdown, & .react-datepicker__year-dropdown":{paddingTop:t.spacing(2),paddingBottom:t.spacing(2),borderColor:t.palette.divider,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper,boxShadow:"light"===t.palette.mode?t.shadows[8]:t.shadows[9]},"& .react-datepicker__month-option, & .react-datepicker__year-option":{width:"auto",margin:t.spacing(0,3.5),paddingTop:t.spacing(1.25),paddingBottom:t.spacing(1.25),borderRadius:"".concat(t.shape.borderRadius,"px !important"),"&:not(:last-of-type)":{marginBottom:t.spacing(.5)},"&:first-of-type, &:last-of-type":{borderRadius:0},"&:hover":{color:t.palette.primary.main,backgroundColor:"".concat((0,F.E)(t.palette.primary.main,.16)," !important")}},"& .react-datepicker__month-option.react-datepicker__month-option--selected_month":{color:t.palette.common.white,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:"".concat(t.palette.primary.dark," !important")},"& .react-datepicker__month-option--selected":{display:"none"}},"& .react-datepicker__year-option.react-datepicker__year-option--selected_year":{color:t.palette.common.white,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:"".concat(t.palette.primary.dark," !important")},"& .react-datepicker__year-option--selected":{display:"none"}},"& .react-datepicker__year-option":{"& .react-datepicker__navigation--years-upcoming":{width:9,height:9,borderStyle:"solid",borderWidth:"3px 3px 0 0",transform:"rotate(-45deg)",borderTopColor:t.palette.text.disabled,borderRightColor:t.palette.text.disabled,margin:"".concat(t.spacing(2.75)," auto ").concat(t.spacing(0))},"&:hover .react-datepicker__navigation--years-upcoming":{borderTopColor:t.palette.text.secondary,borderRightColor:t.palette.text.secondary},"& .react-datepicker__navigation--years-previous":{width:9,height:9,borderStyle:"solid",borderWidth:"0 0 3px 3px",transform:"rotate(-45deg)",borderLeftColor:t.palette.text.disabled,borderBottomColor:t.palette.text.disabled,margin:"".concat(t.spacing(0)," auto ").concat(t.spacing(2.75))},"&:hover .react-datepicker__navigation--years-previous":{borderLeftColor:t.palette.text.secondary,borderBottomColor:t.palette.text.secondary}}},"& .react-datepicker__week-number":{margin:0,fontWeight:500,width:"2.125rem",lineHeight:"2.125rem",color:t.palette.text.primary},"& .react-datepicker__month-text, & .react-datepicker__year-text, & .react-datepicker__quarter-text":{margin:0,alignItems:"center",lineHeight:"2.125rem",display:"inline-flex",justifyContent:"center",borderRadius:t.shape.borderRadius,fontSize:t.typography.body1.fontSize,"&:focus, &:active":{outline:0}},"& .react-datepicker__year--container":{paddingTop:t.spacing(3.2)},"& .react-datepicker__year-wrapper":{maxWidth:205,justifyContent:"center"},"& .react-datepicker__input-time-container":{display:"flex",alignItems:"center",..."rtl"===t.direction?{flexDirection:"row-reverse"}:{}},"& .react-datepicker__today-button":{borderTop:0,borderRadius:"1rem",margin:t.spacing(0,4,4),color:t.palette.common.white,backgroundColor:t.palette.primary.main},"&:not(.react-datepicker--time-only)":{"& .react-datepicker__time-container":{borderLeftColor:t.palette.divider,[t.breakpoints.down("sm")]:{width:"5.5rem"},[t.breakpoints.up("sm")]:{width:"7rem"}},".react-datepicker-time__header":{paddingTop:t.spacing(3.2)}},"&.react-datepicker--time-only":{width:"7rem",padding:t.spacing(1.2,0),"& .react-datepicker__time-container":{width:"calc(7rem - 2px)"}},"& .react-datepicker__time-container":{padding:t.spacing(1.2,0),"& .react-datepicker-time__header":{fontWeight:500,lineHeight:1.31,letterSpacing:"0.15px",marginBottom:t.spacing(3),color:t.palette.text.primary,fontSize:t.typography.body1.fontSize},"& .react-datepicker__time":{background:t.palette.background.paper,"& .react-datepicker__time-box .react-datepicker__time-list-item--disabled":{pointerEvents:"none",color:t.palette.text.disabled,"&.react-datepicker__time-list-item--selected":{fontWeight:"normal",backgroundColor:t.palette.action.disabledBackground}}},"& .react-datepicker__time-list-item":{lineHeight:1.75,height:"auto !important",marginLeft:t.spacing(3.2),marginRight:t.spacing(1.2),color:t.palette.text.primary,borderRadius:t.shape.borderRadius,"&:not(:last-of-type)":{marginBottom:t.spacing(.5)},"&:focus, &:active":{outline:0},"&:hover":{color:t.palette.primary.main,backgroundColor:"".concat((0,F.E)(t.palette.primary.main,.16)," !important")},"&.react-datepicker__time-list-item--selected:not(.react-datepicker__time-list-item--disabled)":{boxShadow:t.shadows[2],fontWeight:"600 !important",color:"".concat(t.palette.common.white," !important"),backgroundColor:"".concat(t.palette.primary.main," !important"),"&:hover":{backgroundColor:"".concat(t.palette.primary.dark," !important")}}},"& .react-datepicker__time-box":{width:"100%"},"& .react-datepicker__time-list":{"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-track":{background:t.palette.background.paper},"&::-webkit-scrollbar-thumb":{borderRadius:10,background:"#aaa"},"&::-webkit-scrollbar-thumb:hover":{background:"#999"}}},"& .react-datepicker__day:hover, & .react-datepicker__month-text:hover, & .react-datepicker__quarter-text:hover, & .react-datepicker__year-text:hover":{backgroundColor:"rgba(".concat(t.palette.customColors.main,", 0.08)")}},"& .react-datepicker__close-icon":{paddingRight:t.spacing(4),..."rtl"===t.direction?{right:0,left:"auto"}:{},"&:after":{width:"unset",height:"unset",fontSize:"1.5rem",color:t.palette.text.primary,backgroundColor:"transparent !important"}}}});var H=r(34273),Q=r(55421);let N={username:"",fullname:"",is_active:!0,date_of_birthday:"",gender:"",phone_number:"",avatar:"",email:"",role:"user",password:"",region:0,district:0,address:"",companies:[]};var O=e=>{let{open:t,onClose:r,onSaved:i,mode:n,item:d}=e,{control:c,handleSubmit:l,reset:s,watch:u,formState:{isSubmitting:_,errors:P}}=(0,b.cI)({defaultValues:N}),{user:q}=(0,H.a)(),{data:E=[]}=(0,g.z)(h.Z.region,{perPage:100}),T=u("region"),F=T?"".concat(h.Z.district,"?region=").concat(T):h.Z.district,{data:O=[]}=(0,g.z)(F,{perPage:200}),{data:D=[]}=(0,g.z)(h.Z.company,{perPage:200}),[U,X]=(0,o.useState)(null),K=(0,o.useRef)(null),[Y,G]=(0,o.useState)("");(0,o.useEffect)(()=>{"edit"===n&&d?(s({...d,password:""}),G(d.avatar||"")):(s(N),G(""))},[n,d,s]),(0,o.useEffect)(()=>{if(U){let e=URL.createObjectURL(U);return G(e),()=>URL.revokeObjectURL(e)}},[U]);let J=async e=>{try{console.log(U);let t={...e};if(t.password||delete t.password,"create"===n){let t=new FormData;U&&t.append("avatar",U),Object.keys(e).forEach(r=>{"companies"==r?e.companies.forEach(e=>{t.append("companies",e.toString())}):t.append(r,e[r])}),await y.Do.postForm(h.Z.users,t)}else if("edit"===n&&(null==d?void 0:d.id)){let t=new FormData;Object.keys(e).forEach(r=>{if("companies"==r)e.companies.forEach((e,r)=>{t.append("companies",e.toString())});else{if("avatar"==r)return;t.append(r,e[r])}}),U&&t.append("avatar",U),await y.Do.putForm(h.Z.userById(d.id),t)}W.ZP.success("Foydalanuvchi saqlandi"),i(),r()}catch(e){console.error("Failed to save user:",e),W.ZP.error("Saqlashda xato")}};return(0,a.jsxs)(k.Z,{open:t,onClose:_?void 0:r,fullWidth:!0,maxWidth:"md",children:[(0,a.jsx)(f.Z,{children:"create"===n?"Foydalanuvchi qo‘shish":"Foydalanuvchini tahrirlash"}),(0,a.jsxs)("form",{onSubmit:l(J),children:[(0,a.jsx)(v.Z,{children:(0,a.jsx)(A,{children:(0,a.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"username",control:c,rules:{required:"Majburiy maydon"},render:e=>{var t;let{field:r}=e;return(0,a.jsx)(L.Z,{fullWidth:!0,label:"Login",...r,error:!!P.username,helperText:null===(t=P.username)||void 0===t?void 0:t.message})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"fullname",control:c,rules:{required:"Majburiy maydon"},render:e=>{var t;let{field:r}=e;return(0,a.jsx)(L.Z,{fullWidth:!0,label:"F.I.Sh",...r,error:!!P.fullname,helperText:null===(t=P.fullname)||void 0===t?void 0:t.message})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,children:(0,a.jsx)(b.Qr,{name:"is_active",control:c,render:e=>{let{field:t}=e;return(0,a.jsx)(z.Z,{control:(0,a.jsx)(R.Z,{checked:!!t.value,onChange:(e,r)=>t.onChange(r)}),label:"Faol"})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"email",control:c,rules:{required:"Majburiy maydon"},render:e=>{var t;let{field:r}=e;return(0,a.jsx)(L.Z,{fullWidth:!0,type:"email",label:"Email",...r,error:!!P.email,helperText:null===(t=P.email)||void 0===t?void 0:t.message})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"phone_number",control:c,render:e=>{let{field:t}=e;return(0,a.jsx)(L.Z,{fullWidth:!0,label:"Telefon",...t})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"date_of_birthday",control:c,render:e=>{let{field:t}=e,r=t.value?new Date(t.value):null;return(0,a.jsx)("div",{children:(0,a.jsx)(x(),{selected:r,onChange:e=>t.onChange(e?e.toISOString().slice(0,10):""),dateFormat:"yyyy-MM-dd",customInput:(0,a.jsx)(L.Z,{label:"Tug‘ilgan sana",fullWidth:!0}),showPopperArrow:!0,isClearable:!0})})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"gender",control:c,rules:{required:"Majburiy maydon"},render:e=>{let{field:t}=e;return(0,a.jsxs)(B.Z,{error:!!P.gender,children:[(0,a.jsx)(I.Z,{children:"Jinsi"}),(0,a.jsxs)(Z.Z,{row:!0,...t,children:[(0,a.jsx)(z.Z,{value:"male",control:(0,a.jsx)(C.Z,{}),label:"Erkak"}),(0,a.jsx)(z.Z,{value:"female",control:(0,a.jsx)(C.Z,{}),label:"Ayol"})]}),P.gender&&(0,a.jsx)(S.Z,{children:P.gender.message})]})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"role",control:c,rules:{required:"Majburiy maydon"},render:e=>{var t;let{field:r}=e;return(0,a.jsxs)(L.Z,{select:!0,fullWidth:!0,label:"Rol",...r,error:!!P.role,helperText:null===(t=P.role)||void 0===t?void 0:t.message,children:[(0,a.jsx)(M.Z,{value:"1",children:"Admin"}),(0,a.jsx)(M.Z,{value:"2",children:"Manager"}),(0,a.jsx)(M.Z,{value:"3",children:"User"})]})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"password",control:c,render:e=>{let{field:t}=e;return(0,a.jsx)(L.Z,{fullWidth:!0,type:"password",label:"Parol",...t})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"region",control:c,rules:{required:"Majburiy maydon"},render:e=>{var t;let{field:r}=e;return(0,a.jsx)(L.Z,{select:!0,fullWidth:!0,label:"Viloyat",...r,error:!!P.region,helperText:null===(t=P.region)||void 0===t?void 0:t.message,children:E.map(e=>(0,a.jsx)(M.Z,{value:e.id,children:e.name_uz||e.name},e.id))})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Qr,{name:"district",control:c,rules:{required:"Majburiy maydon"},render:e=>{var t;let{field:r}=e;return(0,a.jsx)(L.Z,{select:!0,fullWidth:!0,label:"Tuman",...r,error:!!P.district,helperText:null===(t=P.district)||void 0===t?void 0:t.message,children:O.map(e=>(0,a.jsx)(M.Z,{value:e.id,children:e.name_uz||e.name},e.id))})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,children:(0,a.jsx)(b.Qr,{name:"address",control:c,render:e=>{let{field:t}=e;return(0,a.jsx)(L.Z,{fullWidth:!0,label:"Manzil",...t})}})}),(0,a.jsx)(j.ZP,{item:!0,xs:12,children:(0,a.jsx)(b.Qr,{name:"companies",control:c,render:e=>{let{field:t}=e;return(0,a.jsx)(L.Z,{select:!0,fullWidth:!0,label:"Kompaniyalar",...t,SelectProps:{multiple:!0},children:D.map(e=>(0,a.jsx)(M.Z,{value:e.id,children:e.name},e.id))})}})}),(0,a.jsxs)(j.ZP,{item:!0,xs:12,children:[(0,a.jsx)("input",{ref:K,hidden:!0,type:"file",accept:"image/*",onChange:e=>{var t;return X((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,a.jsx)(m.Z,{src:Y||void 0,variant:"circular",onClick:()=>{var e;return null===(e=K.current)||void 0===e?void 0:e.click()},sx:{width:96,height:96,cursor:"pointer",borderRadius:"50%","& img":{width:"100%",height:"100%",objectFit:"cover"}},children:(0,Q.Q)(u("fullname")||u("username")||"U")}),(0,a.jsx)(p.Z,{variant:"outlined",onClick:()=>{var e;return null===(e=K.current)||void 0===e?void 0:e.click()},children:"Rasmni yuklash"}),Y&&(0,a.jsx)(p.Z,{variant:"text",color:"secondary",onClick:()=>{X(null),G((null==d?void 0:d.avatar)||"")},children:"Bekor qilish"})]})]})]})})}),(0,a.jsxs)(w.Z,{children:[(0,a.jsx)(p.Z,{type:"button",variant:"tonal",color:"secondary",onClick:r,disabled:_,children:"Bekor qilish"}),(0,a.jsx)(p.Z,{type:"submit",disabled:_,children:_?"Saqlanmoqda…":"Saqlash"})]})]})]})},D=()=>{let e=(0,i.useRouter)(),[t,r]=(0,o.useState)({page:0,pageSize:10}),{data:_=[],loading:x,mutate:b}=(0,g.z)(h.Z.users,{perPage:t.pageSize,page:t.page+1}),[k,f]=(0,o.useState)(!1),[v,w]=(0,o.useState)(null),j=e=>{w(e),f(!0)},C=async e=>{await y.Do.delete(h.Z.userById(e)),b()},Z=e=>e.avatar?(0,a.jsx)(m.Z,{src:e.avatar,variant:"circular",sx:{mr:2.5,width:38,height:38,borderRadius:"50%","& img":{width:"100%",height:"100%",objectFit:"cover"}}}):(0,a.jsx)(m.Z,{skin:"light",color:"primary",sx:{mr:2.5,width:38,height:38,fontWeight:500},children:(0,Q.Q)(e.fullname||e.username)}),B=[{field:"fullname",headerName:"F.I.Sh",flex:.25,minWidth:220,renderCell:e=>{let t=e.row;return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Z(t),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,a.jsx)("span",{style:{fontWeight:500},children:t.fullname||t.username}),(0,a.jsx)("span",{style:{color:"gray",fontSize:12},children:t.email})]})]})}},{field:"username",headerName:"Login",flex:.15,minWidth:140},{field:"role",headerName:"Rol",flex:.12,minWidth:120},{field:"phone_number",headerName:"Telefon",flex:.18,minWidth:160},{field:"is_active",headerName:"Faol",flex:.1,minWidth:100,valueGetter:e=>e.row.is_active?"Ha":"Yo‘q"},{field:"companies_detail",headerName:"Kompaniyalar",flex:.35,minWidth:260,sortable:!1,renderCell:e=>{let t=e.row.companies_detail||[];if(!t.length)return(0,a.jsx)("span",{style:{color:"gray"},children:"—"});let r=t.slice(0,3).map((e,t)=>{let r,o=t;if("string"==typeof e)r=e;else if("number"==typeof e)r=String(e);else{var i;o=null!==(i=e.id)&&void 0!==i?i:t,r=e.name||e.company_name||e.title||"#".concat(e.id)}return(0,a.jsx)(n.Z,{size:"small",label:r,sx:{mr:1,mb:1}},o)}),o=t.length-3;return(0,a.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[r,o>0&&(0,a.jsx)(n.Z,{size:"small",label:"+".concat(o),sx:{mb:1}})]})}},{field:"actions",headerName:"Amallar",flex:.18,minWidth:160,sortable:!1,renderCell:t=>{let r=t.row;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{"aria-label":"view",onClick:()=>e.push("/users/view?id=".concat(r.id)),children:(0,a.jsx)(u.Z,{icon:"tabler:eye"})}),(0,a.jsx)(d.Z,{"aria-label":"edit",onClick:()=>j(r),children:(0,a.jsx)(u.Z,{icon:"tabler:edit"})}),(0,a.jsx)(d.Z,{"aria-label":"delete",color:"error",onClick:()=>C(r.id),children:(0,a.jsx)(u.Z,{icon:"tabler:trash"})})]})}}];return(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(l.Z,{title:"Foydalanuvchilar",action:(0,a.jsx)(p.Z,{variant:"contained",onClick:()=>{w(null),f(!0)},children:"Yaratish"})}),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s._,{autoHeight:!0,rowHeight:56,rows:_,columns:B,loading:x,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:t,onPaginationModelChange:r,getRowId:e=>e.id})}),k&&(0,a.jsx)(O,{open:k,onClose:()=>f(!1),onSaved:b,mode:v?"edit":"create",item:v?{...v,companies:(v.companies||[]).map(e=>"string"==typeof e?Number(e):e)}:void 0})]})},U=()=>(0,a.jsx)(D,{})}},function(e){e.O(0,[9674,7536,2057,3934,457,2888,9774,179],function(){return e(e.s=66249)}),_N_E=e.O()}]);
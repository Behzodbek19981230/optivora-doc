(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6419],{56494:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/document-form",function(){return t(13269)}])},84166:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var o=t(63366),r=t(87462),i=t(67294),l=t(86010),a=t(59766),c=t(94780),s=t(34867),d=t(13264),u=t(29628),m=t(39707),g=t(66500),f=t(95408),h=t(98700),p=t(85893);let v=["component","direction","spacing","divider","children","className","useFlexGap"],x=(0,g.Z)(),Z=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root});function S(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:x})}let j=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],w=({ownerState:e,theme:n})=>{let t=(0,r.Z)({display:"flex",flexDirection:"column"},(0,f.k9)({theme:n},(0,f.P$)({values:e.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let o=(0,h.hB)(n),r=Object.keys(n.breakpoints.values).reduce((n,t)=>(("object"==typeof e.spacing&&null!=e.spacing[t]||"object"==typeof e.direction&&null!=e.direction[t])&&(n[t]=!0),n),{}),i=(0,f.P$)({values:e.direction,base:r}),l=(0,f.P$)({values:e.spacing,base:r});"object"==typeof i&&Object.keys(i).forEach((e,n,t)=>{if(!i[e]){let o=n>0?i[t[n-1]]:"column";i[e]=o}}),t=(0,a.Z)(t,(0,f.k9)({theme:n},l,(n,t)=>e.useFlexGap?{gap:(0,h.NA)(o,n)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${j(t?i[t]:e.direction)}`]:(0,h.NA)(o,n)}}))}return(0,f.dt)(n.breakpoints,t)};var b=t(77527),k=t(29567),y=function(e={}){let{createStyledComponent:n=Z,useThemeProps:t=S,componentName:a="MuiStack"}=e,d=()=>(0,c.Z)({root:["root"]},e=>(0,s.Z)(a,e),{}),u=n(w);return i.forwardRef(function(e,n){let a=t(e),c=(0,m.Z)(a),{component:s="div",direction:g="column",spacing:f=0,divider:h,children:x,className:Z,useFlexGap:S=!1}=c,j=(0,o.Z)(c,v),w=d();return(0,p.jsx)(u,(0,r.Z)({as:s,ownerState:{direction:g,spacing:f,useFlexGap:S},ref:n,className:(0,l.Z)(w.root,Z)},j,{children:h?function(e,n){let t=i.Children.toArray(e).filter(Boolean);return t.reduce((e,o,r)=>(e.push(o),r<t.length-1&&e.push(i.cloneElement(n,{key:`separator-${r}`})),e),[])}(x,h):x}))})}({createStyledComponent:(0,b.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root}),useThemeProps:e=>(0,k.Z)({props:e,name:"MuiStack"})})},82071:function(e,n,t){"use strict";t.d(n,{x:function(){return o}});let o=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:n=>{let{from:t,to:o,count:r}=n;return"".concat(t,"â€“").concat(o," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==r?r:">".concat(o))}}})},33251:function(e,n,t){"use strict";t.d(n,{z:function(){return l}});var o=t(30202),r=t(33934),i=t(52293);let l=function(e){var n,t;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],c=(0,o.NL)(),s=["list",e,l],d=Object.fromEntries(Object.entries(l).filter(e=>{let[,n]=e;return void 0!==n})),{data:u,isLoading:m,error:g}=(0,r.a)({queryKey:s,queryFn:async()=>{var n,t,o;let r=(await i.Do.get(e,d)).data,l=Array.isArray(r)?r:null!==(t=null==r?void 0:r.results)&&void 0!==t?t:[],a=Array.isArray(r)?l.length:null!==(o=null==r?void 0:null===(n=r.pagination)||void 0===n?void 0:n.total)&&void 0!==o?o:l.length;return{items:l,total:a}},enabled:a,staleTime:3e4});return{data:null!==(n=null==u?void 0:u.items)&&void 0!==n?n:[],total:null!==(t=null==u?void 0:u.total)&&void 0!==t?t:0,loading:m,error:g,mutate:()=>{c.invalidateQueries({queryKey:s})}}}},13269:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var o=t(85893),r=t(67294),i=t(84166),l=t(21038),a=t(52857),c=t(60762),s=t(34375),d=t(73907),u=t(16127),m=t(74538),g=t(33251),f=t(75673),h=t(52293),p=t(58898),v=t(33453),x=t(92365),Z=t(40110),S=t(96727),j=t(87536),w=t(7879),b=t(22120);let k={name:"",name_en:"",name_uz:"",name_ru:""};var y=e=>{let{open:n,item:t,onClose:l,onSaved:a}=e,c=(0,p.Z)(),{t:s}=(0,b.$G)(),{control:u,handleSubmit:g,reset:f,formState:{isSubmitting:y}}=(0,j.cI)({defaultValues:k});(0,r.useEffect)(()=>{f(t||k)},[t,f]);let _=async e=>{(null==t?void 0:t.id)?(await h.Do.put(m.Z.documentFormById(t.id),e),c.success(String(s("documentForm.toast.updated")))):(await h.Do.post(m.Z.documentForm,e),c.success(String(s("documentForm.toast.created")))),a()};return(0,o.jsxs)(v.Z,{open:n,onClose:l,fullWidth:!0,maxWidth:"sm",children:[(0,o.jsx)(x.Z,{children:(null==t?void 0:t.id)?String(s("documentForm.edit.title")):String(s("documentForm.create.title"))}),(0,o.jsx)(Z.Z,{children:(0,o.jsxs)(i.Z,{spacing:4,sx:{mt:2},children:[(0,o.jsx)(j.Qr,{name:"name_en",control:u,rules:{required:!0},render:e=>{let{field:n}=e;return(0,o.jsx)(w.Z,{...n,label:String(s("common.nameEn")),fullWidth:!0})}}),(0,o.jsx)(j.Qr,{name:"name_uz",control:u,rules:{required:!0},render:e=>{let{field:n}=e;return(0,o.jsx)(w.Z,{...n,label:String(s("common.nameUz")),fullWidth:!0})}}),(0,o.jsx)(j.Qr,{name:"name_ru",control:u,rules:{required:!0},render:e=>{let{field:n}=e;return(0,o.jsx)(w.Z,{...n,label:String(s("common.nameRu")),fullWidth:!0})}})]})}),(0,o.jsxs)(S.Z,{children:[(0,o.jsx)(d.Z,{variant:"outlined",onClick:l,disabled:y,children:String(s("common.cancel"))}),(0,o.jsx)(d.Z,{variant:"contained",onClick:g(_),disabled:y,children:(null==t?void 0:t.id)?String(s("common.save")):String(s("common.create"))})]})]})},_=t(82071),C=()=>{let e=(0,p.Z)(),{t:n}=(0,b.$G)(),[t,v]=(0,r.useState)({page:0,pageSize:10}),[x,Z]=(0,r.useState)(!1),[S,j]=(0,r.useState)(null),{data:w=[],total:k,loading:C,mutate:N}=(0,g.z)(m.Z.documentForm,{page:t.page+1,limit:t.pageSize}),R=[{field:"name_en",headerName:String(n("common.nameEn")),flex:.2,minWidth:140},{field:"name_uz",headerName:String(n("common.nameUz")),flex:.2,minWidth:140},{field:"name_ru",headerName:String(n("common.nameRu")),flex:.2,minWidth:140},{field:"actions",headerName:String(n("common.actions")),flex:.15,minWidth:130,sortable:!1,renderCell:t=>{let r=t.row;return(0,o.jsxs)(i.Z,{direction:"row",spacing:1,children:[(0,o.jsx)(l.Z,{title:String(n("common.edit")),children:(0,o.jsx)(a.Z,{size:"small",onClick:()=>{j(r),Z(!0)},children:(0,o.jsx)(f.Z,{icon:"tabler:edit"})})}),(0,o.jsx)(l.Z,{title:String(n("common.delete")),children:(0,o.jsx)(a.Z,{size:"small",color:"error",onClick:async()=>{await h.Do.delete(m.Z.documentFormById(r.id)),e.success(String(n("documentForm.toast.deleted"))),N()},children:(0,o.jsx)(f.Z,{icon:"tabler:trash"})})})]})}}];return(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(s.Z,{title:String(n("documentForm.title")),action:(0,o.jsx)(d.Z,{variant:"contained",onClick:()=>{j(null),Z(!0)},children:String(n("common.create"))})}),(0,o.jsx)(u._,{autoHeight:!0,rowHeight:56,rows:w,columns:R,loading:C,rowCount:k,paginationMode:"server",disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:t,onPaginationModelChange:v,getRowId:e=>e.id,localeText:(0,_.x)(n)}),(0,o.jsx)(y,{open:x,item:S,onClose:()=>Z(!1),onSaved:()=>{Z(!1),N()}})]})},N=()=>(0,o.jsx)(C,{})}},function(e){e.O(0,[2785,7536,7605,2888,9774,179],function(){return e(e.s=56494)}),_N_E=e.O()}]);
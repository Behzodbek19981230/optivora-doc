(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9941],{67070:function(e,i,n){"use strict";n(67294);var t=n(82066),r=n(85893);i.Z=(0,t.Z)((0,r.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},56686:function(e,i,n){"use strict";n(67294);var t=n(82066),r=n(85893);i.Z=(0,t.Z)((0,r.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},51128:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/commands",function(){return n(84063)}])},17289:function(e,i){"use strict";let n=e=>Array.isArray(e)?e[0]:null==e?"":String(e);i.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(n(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(n(e)),region:"/region/",regionById:e=>"/region/".concat(n(e)),countryById:e=>"/country/".concat(n(e)),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(n(e)),industries:"/industry",industryById:e=>"/industry/".concat(n(e)),industryFields:"/industry/fields",user:"/user",userById:e=>"/user/".concat(e),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(n(e)),services:"/service",serviceById:e=>"/service/".concat(n(e)),partners:"/partner",partnerById:e=>"/partner/".concat(n(e)),projects:"/project",projectById:e=>"/project/".concat(n(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(n(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(n(e)),stats:"/stats",statById:e=>"/stats/".concat(n(e)),faqs:"/faq",faqById:e=>"/faq/".concat(n(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(n(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(n(e)),news:"/news-post",newsById:e=>"/news-post/".concat(n(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(n(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(n(e)),applicationApprovedByID:e=>"/application-approved/".concat(n(e)),limitData:"/limit-data"}},61846:function(e,i,n){"use strict";n.d(i,{z:function(){return o}});var t=n(30202),r=n(33934),a=n(76058);let o=function(e){var i,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,t.NL)(),s=["list",e,o],l=Object.fromEntries(Object.entries(o).filter(e=>{let[,i]=e;return void 0!==i})),{data:d,isLoading:u,error:h}=(0,r.a)({queryKey:s,queryFn:async()=>{var i,n,t;let r=await a.Do.get(e,l),o=r.data,c=Array.isArray(o)?o:null!==(n=null==o?void 0:o.results)&&void 0!==n?n:[],s=Array.isArray(o)?c.length:null!==(t=null==o?void 0:null===(i=o.pagination)||void 0===i?void 0:i.total)&&void 0!==t?t:c.length;return{items:c,total:s}},staleTime:3e4}),m=()=>{c.invalidateQueries({queryKey:s})};return{data:null!==(i=null==d?void 0:d.items)&&void 0!==i?i:[],total:null!==(n=null==d?void 0:d.total)&&void 0!==n?n:0,loading:u,error:h,mutate:m}}},84063:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return S}});var t=n(85893),r=n(67294),a=n(78445),o=n(7906),c=n(295),s=n(98102),l=n(72882),d=n(53184),u=n(53816),h=n(93946),m=n(11057),y=n(51233),p=n(34386),j=n(66242),x=n(36125),Z=n(63730),g=n(17289),v=n(61846),f=n(76058),q=n(86501),B=n(50657),I=n(37645),b=n(6514),w=n(31425),k=n(15861);let _=e=>{let{open:i,onClose:n,onConfirm:r,confirming:a,title:o,description:c}=e;return(0,t.jsxs)(B.Z,{open:i,onClose:a?void 0:n,fullWidth:!0,maxWidth:"xs",children:[(0,t.jsx)(I.Z,{children:o||"O‘chirishni tasdiqlang"}),(0,t.jsx)(b.Z,{children:(0,t.jsx)(k.Z,{variant:"body2",children:c||"Bu amalni bekor qilib bo‘lmaydi. Haqiqatdan ham o‘chirmoqchimisiz?"})}),(0,t.jsxs)(w.Z,{children:[(0,t.jsx)(m.Z,{variant:"tonal",color:"secondary",onClick:n,disabled:!!a,children:"Bekor qilish"}),(0,t.jsx)(m.Z,{color:"error",onClick:()=>r(),disabled:!!a,children:a?"O‘chirilmoqda…":"O‘chirish"})]})]})};var C=n(11163),P=n(30381),z=n.n(P);let A=()=>(0,t.jsx)("span",{style:{fontWeight:"bold"},children:"＋"}),O=()=>{let e=(0,C.useRouter)(),[i,n]=(0,r.useState)(0),[B,I]=(0,r.useState)(10),[b,w]=(0,r.useState)(""),{data:k,total:P,loading:O,mutate:D}=(0,v.z)(g.Z.command,{page:i+1,perPage:B,search:b}),[S,Y]=(0,r.useState)(null),[E,N]=(0,r.useState)(!1),M=i=>{e.push("/commands/".concat(i.id))},T=e=>{Y(e),N(!0)},W=async()=>{S&&(await f.Do.delete(g.Z.commandById(S.id)),D(),N(!1),q.ZP.success("Buyruq muvaffaqiyatli o‘chirildi"))};return(0,t.jsxs)(j.Z,{children:[(0,t.jsx)(a.Z,{title:"Buyruqlar",action:(0,t.jsx)(m.Z,{variant:"contained",startIcon:(0,t.jsx)(A,{}),onClick:()=>e.push("/commands/create"),children:"Yangi buyruq yaratish"})}),(0,t.jsx)(l.Z,{children:(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(d.Z,{children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(s.Z,{children:"Buyruq nomeri"}),(0,t.jsx)(s.Z,{children:"Buyruq asosi"}),(0,t.jsx)(s.Z,{children:"Izoh"}),(0,t.jsx)(s.Z,{children:"Tashkilot"}),(0,t.jsx)(s.Z,{children:" Yaratilgan vaqti "}),(0,t.jsx)(s.Z,{align:"right",children:"Amallar"})]})}),(0,t.jsx)(c.Z,{children:O?(0,t.jsx)(u.Z,{children:(0,t.jsx)(s.Z,{colSpan:6,align:"center",children:"Yuklanmoqda…"})}):k&&k.length>0?k.map(e=>(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(s.Z,{children:e.command_number}),(0,t.jsx)(s.Z,{children:e.basis}),(0,t.jsx)(s.Z,{children:e.comment}),(0,t.jsx)(s.Z,{children:e.company_detail?e.company_detail.name:""}),(0,t.jsxs)(s.Z,{children:[z()(e.created_time).format("YYYY-MM-DD HH:mm")," "]}),(0,t.jsx)(s.Z,{align:"right",children:(0,t.jsxs)(y.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,t.jsx)(p.Z,{title:"Tahrirlash",children:(0,t.jsx)(h.Z,{size:"small",onClick:()=>M(e),children:(0,t.jsx)(Z.Z,{icon:"tabler:edit"})})}),(0,t.jsx)(p.Z,{title:"O‘chirish",children:(0,t.jsx)(h.Z,{size:"small",color:"error",onClick:()=>T(e),children:(0,t.jsx)(Z.Z,{icon:"tabler:trash"})})})]})})]},e.id)):(0,t.jsx)(u.Z,{children:(0,t.jsx)(s.Z,{colSpan:6,align:"center",children:"Ma‘lumotlar yo‘q"})})})]})}),(0,t.jsx)(x.Z,{component:"div",count:P,page:i,onPageChange:(e,i)=>n(i),rowsPerPage:B,onRowsPerPageChange:e=>{I(parseInt(e.target.value,10)),n(0)},rowsPerPageOptions:[5,10,20,50]}),(0,t.jsx)(_,{open:E,onClose:()=>N(!1),onConfirm:W,title:"Viloyatni o‘chirishni tasdiqlang",description:S?"“".concat(S.name_uz,"” viloyatini o‘chirmoqchimisiz?"):void 0})]})},D=()=>(0,t.jsx)(O,{});D.acl={action:"read",subject:"cms"},D.authGuard=!0;var S=D}},function(e){e.O(0,[4885,7375,4399,8872,9774,2888,179],function(){return e(e.s=51128)}),_N_E=e.O()}]);
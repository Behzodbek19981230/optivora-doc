(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4844],{63577:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/calendar",function(){return r(33062)}])},82071:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});let o=e=>({noRowsLabel:String(e("common.datagrid.noRows",{defaultValue:"No rows"})),MuiTablePagination:{labelRowsPerPage:String(e("common.datagrid.rowsPerPage",{defaultValue:"Rows per page:"})),labelDisplayedRows:t=>{let{from:r,to:o,count:a}=t;return"".concat(r,"–").concat(o," ").concat(String(e("common.datagrid.of",{defaultValue:"of"}))," ").concat(-1!==a?a:">".concat(o))}}})},74538:function(e,t){"use strict";let r=e=>Array.isArray(e)?e[0]:null==e?"":String(e);t.Z={login:"/auth/token",logout:"/auth/logout",me:"/user-view",companyProfile:"/company-profile",companyProfileById:e=>"/company-profile/".concat(r(e)),companyProfileFields:"/company-profile/fields",country:"/country/",district:"/district",districtById:e=>"/district/".concat(r(e),"/"),region:"/region/",regionById:e=>"/region/".concat(r(e),"/"),countryById:e=>"/country/".concat(r(e),"/"),countryFields:"/country/fields/",command:"/command/",commandById:e=>"/command/".concat(r(e)),industries:"/industry",industryById:e=>"/industry/".concat(r(e)),industryFields:"/industry/fields",users:"/user",userById:e=>"/user/".concat(r(e)),equipmentCategories:"/equipment-category",equipmentCategoryById:e=>"/equipment-category/".concat(r(e)),services:"/service",serviceById:e=>"/service/".concat(r(e)),partners:"/partner",partnerById:e=>"/partner/".concat(r(e)),company:"/company/",companyById:e=>"/company/".concat(r(e)),replyLetter:"/reply-letter/",replyLetterById:e=>"/reply-letter/".concat(r(e)),replyLetterFile:"/reply-letter-file/",replyLetterFileById:e=>"/reply-letter-file/".concat(r(e)),documents:"/documents/",documentById:e=>"/documents/".concat(r(e)),documentForm:"/document-form/",documentFormById:e=>"/document-form/".concat(r(e)),listOfMagazine:"/list-of-magazine/",listOfMagazineById:e=>"/list-of-magazine/".concat(r(e)),task:"/task/",taskById:e=>"/task/".concat(r(e)),taskPart:"/task-part/",taskPartById:e=>"/task-part/".concat(r(e)),taskEvent:"/task-event/",taskEventById:e=>"/task-event/".concat(r(e)),taskComment:"/task-comment/",taskCommentById:e=>"/task-comment/".concat(r(e)),taskAttachment:"/task-attachment/",taskAttachmentById:e=>"/task-attachment/".concat(r(e)),department:"/department/",departmentById:e=>"/department/".concat(r(e)),position:"/position/",positionById:e=>"/position/".concat(r(e)),projects:"/project",projectById:e=>"/project/".concat(r(e)),projectDeliverables:"/project-deliverable",projectDeliverableById:e=>"/project-deliverable/".concat(r(e)),projectImages:"/project-image",projectImageById:e=>"/project-image/".concat(r(e)),stats:"/stats",statById:e=>"/stats/".concat(r(e)),faqs:"/faq",faqById:e=>"/faq/".concat(r(e)),inquiries:"/inquiry",inquiryById:e=>"/inquiry/".concat(r(e)),downloads:"/command-file/",downloadById:e=>"/command-file/".concat(r(e)),news:"/news-post",newsById:e=>"/news-post/".concat(r(e)),testimonials:"/testimonial",testimonialById:e=>"/testimonial/".concat(r(e)),ourWork:"/our-work",ourWorkById:e=>"/our-work/".concat(r(e)),applicationApprovedByID:e=>"/application-approved/".concat(r(e)),limitData:"/limit-data"}},33062:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return U}});var o=r(85893),a=r(67294),n=r(90642),i=r(89540),l=r(54560),d=r(77527),c=r(2339),s=r(17643);let u=(0,d.ZP)(n.Z)(e=>{let{theme:t}=e,r=(0,c.Z)();return{display:"flex",position:"relative",borderRadius:t.shape.borderRadius,"& .fc":{zIndex:1,".fc-col-header, .fc-daygrid-body, .fc-scrollgrid-sync-table, .fc-timegrid-body, .fc-timegrid-body table":{width:"100% !important"},"& .fc-toolbar":{flexWrap:"wrap",flexDirection:"row !important","&.fc-header-toolbar":{marginBottom:t.spacing(6)},".fc-prev-button, & .fc-next-button":{display:"inline-block",borderColor:"transparent",backgroundColor:"transparent","& .fc-icon":{color:t.palette.text.secondary,fontSize:t.typography.h4.fontSize},"&:hover, &:active, &:focus":{boxShadow:"none !important",borderColor:"transparent !important",backgroundColor:"transparent !important"}},"& .fc-prev-button":{paddingLeft:"0 !important",marginRight:t.spacing(1.5)},"& .fc-toolbar-chunk:first-of-type":{display:"flex",flexWrap:"wrap",alignItems:"center",[t.breakpoints.down("md")]:{"& div:first-of-type":{display:"flex",alignItems:"center"}}},"& .fc-button":{padding:t.spacing(),"&:active, .&:focus":{boxShadow:"none"}},"& .fc-button-group":{"& .fc-button":{textTransform:"capitalize","&:focus":{boxShadow:"none"}},"& .fc-button-primary":{"&:not(.fc-prev-button):not(.fc-next-button):not(.fc-sidebarToggle-button)":{border:0,color:t.palette.primary.main,padding:t.spacing(1.94,5.08),backgroundColor:(0,s.E)(t.palette.primary.main,.16),"&.fc-button-active, &:hover":{backgroundColor:(0,s.E)(t.palette.primary.main,.24)}}},"& .fc-sidebarToggle-button":{border:0,lineHeight:.8,borderColor:"transparent",paddingBottom:"0 !important",backgroundColor:"transparent",color:t.palette.text.secondary,marginLeft:"".concat(t.spacing(-2)," !important"),padding:"".concat(t.spacing(1.275,2)," !important"),"&:focus":{outline:0,boxShadow:"none"},"&:not(.fc-prev-button):not(.fc-next-button):hover":{backgroundColor:"transparent !important"},"& + div":{marginLeft:0}},".fc-dayGridMonth-button, .fc-timeGridWeek-button, .fc-timeGridDay-button, & .fc-listMonth-button":{padding:t.spacing(2.2,6),"&:last-of-type, &:first-of-type":{borderRadius:t.shape.borderRadius},"&:first-of-type":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-of-type":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},"& > * > :not(:first-of-type)":{marginLeft:0},"& .fc-toolbar-title":{...t.typography.h5,marginRight:t.spacing(4),marginLeft:t.spacing(2.5)},".fc-button:empty:not(.fc-sidebarToggle-button), & .fc-toolbar-chunk:empty":{display:"none"}},"& tbody td, & thead th":{borderColor:t.palette.divider,"&.fc-col-header-cell":{borderLeft:0},'&[role="presentation"]':{borderRightWidth:0}},"& .fc-event":{"&:not(.fc-list-event)":{"&.bg-primary":{borderColor:"transparent",color:t.palette.primary.main,backgroundColor:r.primaryLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.primary.main}},"&.bg-success":{borderColor:"transparent",color:t.palette.success.main,backgroundColor:r.successLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.success.main}},"&.bg-error":{borderColor:"transparent",color:t.palette.error.main,backgroundColor:r.errorLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.error.main}},"&.bg-warning":{borderColor:"transparent",color:t.palette.warning.main,backgroundColor:r.warningLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.warning.main}},"&.bg-info":{borderColor:"transparent",color:t.palette.info.main,backgroundColor:r.infoLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.info.main}}},"&.bg-primary":{"& .fc-list-event-dot":{borderColor:t.palette.primary.main,backgroundColor:t.palette.primary.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.primary.light,.1)}},"&.bg-success":{"& .fc-list-event-dot":{borderColor:t.palette.success.main,backgroundColor:t.palette.success.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.success.light,.1)}},"&.bg-error":{"& .fc-list-event-dot":{borderColor:t.palette.error.main,backgroundColor:t.palette.error.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.error.light,.1)}},"&.bg-warning":{"& .fc-list-event-dot":{borderColor:t.palette.warning.main,backgroundColor:t.palette.warning.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.warning.light,.1)}},"&.bg-info":{"& .fc-list-event-dot":{borderColor:t.palette.info.main,backgroundColor:t.palette.info.main},"&:hover td":{backgroundColor:(0,s.E)(t.palette.info.light,.1)}},"&.fc-daygrid-event":{marginLeft:"4px",marginRight:"4px"}},"& .fc-col-header":{"& .fc-col-header-cell":{fontWeight:500,color:t.palette.text.secondary,fontSize:t.typography.body1.fontSize,"& .fc-col-header-cell-cushion":{padding:t.spacing(.5,2),textDecoration:"none !important"}}},"& .fc-scrollgrid-section-liquid > td":{borderBottom:0},"& .fc-daygrid-event-harness":{"& .fc-event":{marginTop:0,fontWeight:500,marginBottom:0,borderRadius:4,padding:t.spacing(.4,2),fontSize:t.typography.body2.fontSize},"&:not(:last-of-type)":{marginBottom:t.spacing(2)}},"& .fc-daygrid-day-bottom":{marginTop:t.spacing(1.2)},"& .fc-daygrid-day":{padding:"5px","& .fc-daygrid-day-top":{flexDirection:"row"}},"& .fc-scrollgrid":{borderLeftWidth:0,borderColor:t.palette.divider},"& .fc-day-past, & .fc-day-future":{"&.fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc-daygrid-day-number":{marginBottom:t.spacing(1.5),padding:t.spacing(0,1.5)},"& .fc-daygrid-day-number, & .fc-timegrid-slot-label-cushion, & .fc-list-event-time":{textDecoration:"none !important",color:"".concat(t.palette.text.secondary," !important")},"& .fc-day-today:not(.fc-popover):not(.fc-col-header-cell)":{backgroundColor:t.palette.action.selected},"& .fc-timegrid":{"& .fc-scrollgrid-section":{height:0,"& .fc-col-header-cell, & .fc-timegrid-axis":{borderLeft:0,borderColor:t.palette.divider},"& .fc-timegrid-axis":{borderColor:t.palette.divider}},"& .fc-timegrid-axis":{"&.fc-scrollgrid-shrink":{"& .fc-timegrid-axis-cushion":{textTransform:"lowercase",color:t.palette.text.disabled,fontSize:t.typography.h6.fontSize}}},"& .fc-timegrid-slots":{"& .fc-timegrid-slot":{height:"3rem",borderColor:t.palette.divider,"&.fc-timegrid-slot-label":{borderRight:0},"&.fc-timegrid-slot-lane":{borderLeft:0},"& .fc-timegrid-slot-label-frame":{textAlign:"center","& .fc-timegrid-slot-label-cushion":{textTransform:"lowercase",fontSize:t.typography.body2.fontSize,color:"".concat(t.palette.text.secondary," !important")}}}},"& .fc-timegrid-divider":{display:"none"},"& .fc-timegrid-event":{boxShadow:"none"}},"& .fc-list":{border:"none",'& th[colspan="3"]':{position:"relative"},"& .fc-list-table":{borderBottom:"1px solid ".concat(t.palette.divider),"& tr":{borderBottom:"1px solid ".concat(t.palette.divider),"&:first-of-type":{borderTop:"1px solid ".concat(t.palette.divider)},"& > *":{border:0}}},"& .fc-list-day-cushion":{background:t.palette.action.hover},".fc-list-event":{cursor:"pointer","&:hover":{"& td":{backgroundColor:t.palette.action.hover}},"& td":{borderColor:t.palette.divider}},"& .fc-list-day":{backgroundColor:t.palette.action.hover,"& .fc-list-day-text, & .fc-list-day-side-text":{textDecoration:"none",...t.typography.h6},"&  >  *":{background:"none",borderColor:t.palette.divider}},"& .fc-list-event-title":{display:"flex",paddingLeft:t.spacing(2.5),color:t.palette.text.secondary,fontSize:t.typography.body1.fontSize},"& .fc-list-event-time":{color:t.palette.text.disabled,fontSize:t.typography.body1.fontSize}},"& .fc-popover":{zIndex:20,boxShadow:1,borderColor:t.palette.divider,background:t.palette.background.paper,"& .fc-popover-header":{padding:t.spacing(2),background:t.palette.action.hover,"& .fc-popover-title, & .fc-popover-close":{color:t.palette.text.primary}},"& .fc-popover-body":{"& *:not(.fc-event-main):not(:last-of-type)":{marginBottom:t.spacing(1.2)}}},[t.breakpoints.up("md")]:{"& .fc-sidebarToggle-button":{display:"none"},"& .fc-toolbar-title":{marginLeft:0}},"@media (max-width:610px)":{"& .fc-header-toolbar .fc-toolbar-chunk:last-of-type":{marginTop:t.spacing(4)}}}}});var p=r(20281),m=r(51015),g=r(79106),f=r(52857),b=r(15972),y=r(93454),h=r(29346),v=r(84166),x=r(96788),k=r(18745),w=r(41796),C=r(22120),j=r(52293),S=r(34273),I=r(75673);let B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=[];for(let o=e-t;o<=e+t;o++)r.push(o);return r},Z={en:["January","February","March","April","May","June","July","August","September","October","November","December"],ru:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],uz:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"]},z=["new","in_progress","on_review","returned","done","cancelled"],_={new:"#FF9F43",in_progress:"#00CFE8",on_review:"#7367F0",returned:"#EA5455",done:"#28C76F",cancelled:"#82868B"},D=e=>String(e).padStart(2,"0"),F=e=>"".concat(e.getFullYear(),"-").concat(D(e.getMonth()+1),"-").concat(D(e.getDate())),N=(e,t)=>{let r=new Date(e);return r.setDate(r.getDate()+t),r},R=(e,t,r)=>{let o=new Date(e,t,1);return o.setMonth(o.getMonth()+r),{year:o.getFullYear(),month:o.getMonth()}},W=e=>{let t=e.getDay();return N(e,-((t+6)%7))},L=e=>N(W(e),6),T=(e,t)=>{let r=new Date(e,t,1),o=new Date(e,t+1,0),a=W(r),n=L(o),i=[],l=a;for(;l<=n;){let e=[];for(let t=0;t<7;t++)e.push(l),l=N(l,1);i.push(e)}return i};var M=e=>{let{t,i18n:r}=(0,C.$G)(),i=(0,k.Z)(),{user:l}=(0,S.a)(),{handleLeftSidebarToggle:d,handleSelectDate:c,setCalendarApi:s}=e,[u,p]=(0,a.useState)("month"),[D,L]=(0,a.useState)(()=>new Date().getFullYear()),[M,A]=(0,a.useState)(()=>new Date().getMonth()),[E,q]=(0,a.useState)(null),[P,O]=(0,a.useState)({}),H=(0,a.useMemo)(()=>{let e=(r.language||"ru").toLowerCase();return e.startsWith("uz")?"uz":e.startsWith("ru")?"ru":"en"},[r.language]),G=(0,a.useMemo)(()=>{let e=(r.language||"ru").toLowerCase();return e.startsWith("ru")?"ru-RU":e.startsWith("uz")?"uz-UZ":"en-GB"},[r.language]),Y=Z[H],J=(0,a.useMemo)(()=>"".concat(Y[M]," ").concat(D),[Y,M,D]),V=(0,a.useMemo)(()=>{let e=W(new Date(2025,0,6)),t=new Intl.DateTimeFormat(G,{weekday:"long"});return Array.from({length:7}).map((r,o)=>t.format(N(e,o)))},[G]),U=(0,a.useMemo)(()=>T(D,M),[D,M]),X=(0,a.useMemo)(()=>new Date().toISOString().slice(0,10),[]),$=async(e,t)=>{try{var r,o,a,n,i,d,c,s,u;let p=(null==l?void 0:null===(r=l.role_detail)||void 0===r?void 0:r.map(e=>e.name))||[],m=p.includes("Admin")||p.includes("Manager"),g={year:e,month:t+1,company:null==l?void 0:l.company_id};m||(g.assignee_id=null==l?void 0:l.id);let f=await j.Do.post("task-calendar/stats/by-start-date/",g),b=null==f?void 0:f.data,y={},h=Array.isArray(null==b?void 0:b.by_start_date)?b.by_start_date:null;if(h){for(let e of h){let t=null==e?void 0:e.start_date,r=Number(null!==(o=null==e?void 0:e.total)&&void 0!==o?o:0);if("string"!=typeof t||!Number.isFinite(r))continue;let n={},i=null==e?void 0:e.by_status;if(i&&"object"==typeof i)for(let[e,t]of Object.entries(i)){let r=Number(null!==(a=null==t?void 0:t.count)&&void 0!==a?a:0);Number.isFinite(r)&&r>0&&(n[e]=r)}y[t]={total:r,byStatus:n}}O(y);return}if(Array.isArray(b))for(let e of b){let t=(null==e?void 0:e.date)||(null==e?void 0:e.day)||(null==e?void 0:e.start_date),r=Number(null!==(d=null!==(i=null!==(n=null==e?void 0:e.count)&&void 0!==n?n:null==e?void 0:e.total)&&void 0!==i?i:null==e?void 0:e.value)&&void 0!==d?d:0);"string"==typeof t&&Number.isFinite(r)&&(y[t]={total:r})}else if(b&&"object"==typeof b){let e=Array.isArray(b.results)?b.results:null;if(e)for(let t of e){let e=(null==t?void 0:t.date)||(null==t?void 0:t.day)||(null==t?void 0:t.start_date),r=Number(null!==(u=null!==(s=null!==(c=null==t?void 0:t.count)&&void 0!==c?c:null==t?void 0:t.total)&&void 0!==s?s:null==t?void 0:t.value)&&void 0!==u?u:0);"string"==typeof e&&Number.isFinite(r)&&(y[e]={total:r})}else for(let[e,t]of Object.entries(b)){let r=Number(t);"string"==typeof e&&Number.isFinite(r)&&(y[e]={total:r})}}O(y)}catch(e){O({})}};(0,a.useEffect)(()=>{$(D,M)},[D,M,null==l?void 0:l.company_id,null==l?void 0:l.id]),(0,a.useEffect)(()=>{null==s||s({getDate:()=>new Date(D,M,1),gotoDate:e=>{L(e.getFullYear()),A(e.getMonth())},prev:()=>{let e=R(D,M,-1);L(e.year),A(e.month)},next:()=>{let e=R(D,M,1);L(e.year),A(e.month)}})},[s,D,M]);let K=e=>{q(e),c(e)},Q=e=>{var r;let a=null==P?void 0:P[e],i=Number(null!==(r=null==a?void 0:a.total)&&void 0!==r?r:0),l=(null==a?void 0:a.byStatus)||{},d=Object.values(l).some(e=>Number(e)>0);if(!(Number.isFinite(i)&&i>0||d))return null;let c={new:"documents.status.new",in_progress:"documents.status.inProgress",on_review:"documents.status.onReview",returned:"documents.status.returned",done:"documents.status.done",cancelled:"documents.status.cancelled"},s=[...z,...Object.keys(l).filter(e=>!z.includes(e))],u=e=>{let{label:t,count:r,color:a}=e;return(0,o.jsxs)(n.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,px:1,py:.25,borderRadius:1,fontSize:"10px",lineHeight:"12px",backgroundColor:(0,w.Fq)(a,.12)},children:[(0,o.jsxs)(n.Z,{sx:{display:"inline-flex",alignItems:"center",gap:1,minWidth:0},children:[(0,o.jsx)(n.Z,{sx:{width:8,height:8,borderRadius:999,backgroundColor:a,flex:"0 0 auto"}}),(0,o.jsx)(x.Z,{sx:{fontSize:10},noWrap:!0,children:t})]}),(0,o.jsx)(x.Z,{sx:{fontSize:10,fontWeight:700,color:a},noWrap:!0,children:String(r)})]})};return(0,o.jsxs)(v.Z,{spacing:.5,sx:{mt:.5,overflow:"hidden"},children:[Number.isFinite(i)&&i>0?(0,o.jsx)(u,{label:String(t("calendar.stats.total")||"Total"),count:i,color:"rgba(115,103,240,0.95)"}):null,s.map(e=>{var r;let a=Number(null!==(r=l[e])&&void 0!==r?r:0);if(!Number.isFinite(a)||a<=0)return null;let n=c[e]?String(t(c[e])):e.replaceAll("_"," ");return(0,o.jsx)(u,{label:n,count:a,color:_[e]||"#999"},e)})]})},ee=(0,a.useMemo)(()=>B(D,10),[D]);return(0,o.jsxs)(n.Z,{sx:{width:"100%"},children:[(0,o.jsxs)(n.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:2,mb:4},children:[(0,o.jsxs)(n.Z,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,o.jsx)(f.Z,{onClick:d,size:"small","aria-label":"sidebar",children:(0,o.jsx)(I.Z,{icon:"bi:list"})}),(0,o.jsx)(f.Z,{onClick:()=>{let e=R(D,M,-1);L(e.year),A(e.month)},size:"small","aria-label":"prev",children:(0,o.jsx)(I.Z,{icon:"bi:chevron-left"})}),(0,o.jsx)(f.Z,{onClick:()=>{let e=R(D,M,1);L(e.year),A(e.month)},size:"small","aria-label":"next",children:(0,o.jsx)(I.Z,{icon:"bi:chevron-right"})}),(0,o.jsx)(x.Z,{sx:{ml:1,...i.typography.h5},noWrap:!0,children:J}),(0,o.jsx)(m.Z,{onClick:()=>{let e=new Date;L(e.getFullYear()),A(e.getMonth())},size:"small",variant:"outlined",sx:{ml:1},children:String(t("calendar.today")||"Today")})]}),(0,o.jsxs)(n.Z,{sx:{display:"flex",alignItems:"center",gap:1.5,flexWrap:"wrap"},children:[(0,o.jsx)(h.Z,{size:"small",value:D,onChange:e=>L(Number(e.target.value)),sx:{height:34,minWidth:110},children:ee.map(e=>(0,o.jsx)(b.Z,{value:e,children:e},e))}),(0,o.jsx)(h.Z,{size:"small",value:M,onChange:e=>A(Number(e.target.value)),sx:{height:34,minWidth:140},children:Y.map((e,t)=>(0,o.jsx)(b.Z,{value:t,children:e},e))}),(0,o.jsxs)(g.Z,{variant:"contained",size:"small",children:[(0,o.jsx)(m.Z,{onClick:()=>p("month"),variant:"month"===u?"contained":"outlined",sx:{textTransform:"capitalize"},children:String(t("calendar.month")||"Month")}),(0,o.jsx)(m.Z,{onClick:()=>p("list"),variant:"list"===u?"contained":"outlined",sx:{textTransform:"capitalize"},children:String(t("calendar.list")||"List")})]})]})]}),"month"===u?(0,o.jsxs)(n.Z,{sx:{minHeight:380},children:[(0,o.jsx)(n.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",border:"1px solid ".concat(i.palette.divider),borderBottom:0,backgroundColor:i.palette.action.hover},children:V.map(e=>(0,o.jsx)(n.Z,{sx:{px:2,py:1,borderRight:"1px solid ".concat(i.palette.divider)},children:(0,o.jsx)(x.Z,{sx:{fontWeight:600,color:"text.secondary",fontSize:13},noWrap:!0,children:e})},e))}),(0,o.jsx)(n.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",border:"1px solid ".concat(i.palette.divider)},children:U.flat().map(e=>{let t=e.getMonth()===M,r=F(e),a=E===r,l=X===r,d=a?(0,w.Fq)(i.palette.primary.main,.35):l?(0,w.Fq)(i.palette.primary.main,.1):"transparent";return(0,o.jsxs)(n.Z,{onClick:t?()=>K(r):void 0,sx:{height:56,minHeight:56,maxHeight:56,px:1,py:.5,cursor:t?"pointer":"default",borderRight:"1px solid ".concat(i.palette.divider),borderTop:"1px solid ".concat(i.palette.divider),backgroundColor:d,overflow:"hidden",opacity:t?1:.35},children:[(0,o.jsx)(n.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:t?(0,o.jsx)(x.Z,{sx:{fontSize:12,fontWeight:700,color:"text.secondary",lineHeight:1},children:e.getDate()}):(0,o.jsx)(x.Z,{sx:{fontSize:12,lineHeight:1},children:"\xa0"})}),t?Q(r):null]},r)})})]}):(0,o.jsx)(n.Z,{sx:{minHeight:480},children:(0,o.jsx)(v.Z,{spacing:2,children:Array.from({length:new Date(D,M+1,0).getDate()}).map((e,t)=>{var r;let a=new Date(D,M,t+1),n=F(a),l=null==P?void 0:P[n],d=Number(null!==(r=null==l?void 0:l.total)&&void 0!==r?r:0),c=(null==l?void 0:l.byStatus)||{};if(!(Number.isFinite(d)&&d>0||Object.values(c).some(e=>Number(e)>0)))return null;let s=E===n,u=X===n,p=new Intl.DateTimeFormat(G,{day:"2-digit",month:"long",year:"numeric"}).format(a);return(0,o.jsxs)(y.Z,{variant:"outlined",onClick:()=>K(n),sx:{p:2,cursor:"pointer",borderColor:s?i.palette.primary.main:i.palette.divider,backgroundColor:s?(0,w.Fq)(i.palette.primary.main,.08):u?(0,w.Fq)(i.palette.primary.main,.05):"background.paper"},children:[(0,o.jsx)(x.Z,{sx:{fontWeight:700,mb:1},children:p}),Q(n)]},n)})})})]})},A=r(74538),E=r(28634),q=r(11163),P=r(82071),O=r(81873);let H=e=>{switch(e){case"new":return"info";case"in_progress":return"primary";case"on_review":case"returned":return"warning";case"done":return"success";case"cancelled":return"error";default:return"default"}};function G(e){let{data:t,loading:r,total:a}=e,{t:n}=(0,C.$G)(),i=(0,q.useRouter)(),l=[{field:"id",headerName:String(n("common.id")),width:90},{field:"title",headerName:String(n("documents.table.name")),flex:.3,minWidth:180},{field:"status",headerName:String(n("documents.table.status")),flex:.2,minWidth:140,renderCell:e=>{let t=e.row.status;return(0,o.jsx)(O.Z,{label:n("documents.status.".concat(t)),color:H(t),size:"small",variant:"outlined"})}},{field:"task_detail",headerName:String(n("documents.table.type")),flex:.15,minWidth:120,renderCell:e=>{var t;let r=null===(t=e.row.task_detail)||void 0===t?void 0:t.type;return n("tasks.type.".concat(r))}},{field:"priority",headerName:String(n("documents.table.priority")),flex:.15,minWidth:120,renderCell:e=>{var t;let r=null===(t=e.row.task_detail)||void 0===t?void 0:t.priority;return(0,o.jsx)(O.Z,{label:n("tasks.priority.".concat(r)),color:"ordinary"===r?"primary":"warning",size:"small"})}},{field:"start_date",headerName:String(n("documents.table.start")),flex:.15,minWidth:130},{field:"end_date",headerName:String(n("documents.table.end")),flex:.15,minWidth:130}];return(0,o.jsx)(E._,{autoHeight:!0,rowHeight:56,rows:t,columns:l,loading:r,rowCount:a,onRowClick:e=>{var t,r;return i.push("/tasks/view/".concat(null===(r=e.row)||void 0===r?void 0:null===(t=r.task_detail)||void 0===t?void 0:t.id))},getRowId:e=>e.id,localeText:(0,P.x)(n)})}let Y={Personal:"error",Business:"primary",Family:"warning",Holiday:"success",ETC:"info"},J={events:[],selectedEvent:null,selectedCalendars:[]};var V=()=>{let[e,t]=(0,a.useState)(null),[r,d]=(0,a.useState)(!1),[c,s]=(0,a.useState)(!1),{settings:m}=(0,l.r)(),{skin:g,direction:f}=m,b=(0,i.Z)(e=>e.breakpoints.up("md")),[y,h]=(0,a.useState)([]),[v,x]=(0,a.useState)(!1),k=async e=>{x(!0);try{var t;let r=await j.Do.get(A.Z.taskPart,{start_date:e,page:1,perPage:1e3});h((null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.results)||[])}catch(e){console.error("Error fetching tasks:",e)}finally{x(!1)}};return(0,o.jsx)(u,{className:"app-calendar",sx:{boxShadow:"bordered"===g?0:6,..."bordered"===g&&{border:e=>"1px solid ".concat(e.palette.divider)}},children:(0,o.jsxs)(n.Z,{sx:{p:6,pb:0,flexGrow:1,borderRadius:1,boxShadow:"none",backgroundColor:"background.paper",...b?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:{}},children:[(0,o.jsx)(M,{store:J,direction:f,updateEvent:p.eJ,calendarApi:e,calendarsColor:Y,setCalendarApi:t,handleSelectEvent:p.cW,handleLeftSidebarToggle:()=>d(!r),handleAddEventSidebarToggle:()=>s(!c),handleSelectDate:e=>{k(e)}}),(0,o.jsx)(n.Z,{sx:{mt:2},children:(0,o.jsx)(G,{data:y,loading:v,total:y.length})})]})})};function U(){return(0,o.jsx)(V,{})}}},function(e){e.O(0,[8634,4336,2888,9774,179],function(){return e(e.s=63577)}),_N_E=e.O()}]);